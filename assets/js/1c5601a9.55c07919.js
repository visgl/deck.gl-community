"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[7061],{1108:(e,t,i)=>{i.d(t,{Z:()=>l});var o=i(96338),n=i(30669),s=i(90999),r=i(85914),a=i(78990);class l extends a.g{constructor(){super(...arguments),this.radius=null,this.position=null,this.areaCircle=null,this._getTooltips=(0,r.B)(e=>{let{modeConfig:t,radius:i,areaCircle:o}=e,n=[];const{formatTooltip:s}=t||{};let r;return i&&o&&(r=s?s(i):"Radius: "+parseFloat(i).toFixed(2)+" kilometers\n      \n Area: "+parseFloat(o).toFixed(2),n=[{position:this.position,text:r}]),n})}getTwoClickPolygon(e,t,i){const{steps:r=64}=i||{},a={steps:r};this.position=t,r<4&&(console.warn("Minimum steps to draw a circle is 4 "),a.steps=4),this.radius=Math.max((0,n.A)(e,t),.001);const l=(0,o.A)(e,this.radius,a);return l.properties=l.properties||{},l.properties.shape="Circle",l.properties.editProperties=l.properties.editProperties||{},l.properties.editProperties.shape="Circle",l.properties.editProperties.radius={value:this.radius,unit:"kilometers"},l.properties.editProperties.center=e,this.areaCircle=(0,s.A)(l),l}getTooltips(e){return this._getTooltips({modeConfig:null==e?void 0:e.modeConfig,radius:this.radius,areaCircle:this.areaCircle})}}},1160:(e,t,i)=>{i.d(t,{_:()=>r});var o=i(15530),n=i(97563),s=i.n(n);class r extends o.b{handleClick(e,t){this.addClickSequence(e);const i=this.getClickSequence(),o=this.getTentativeGuide(t);if(i.length>2&&o&&"Polygon"===o.geometry.type){const e=this.getAddFeatureOrBooleanPolygonAction(o.geometry,t,s()(o.properties,"guideType"));this.resetClickSequence(),e&&t.onEdit(e)}}getGuides(e){const{lastPointerMoveEvent:t,modeConfig:i}=e,o=this.getClickSequence(),n={type:"FeatureCollection",features:[]};if(0===o.length)return n;const s=t.mapCoords;if(1===o.length)n.features.push({type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[o[0],s]}});else{const e=this.getThreeClickPolygon(o[0],o[1],s,i);e&&n.features.push({type:"Feature",properties:Object.assign({},e.properties,{guideType:"tentative"}),geometry:e.geometry})}return n}getThreeClickPolygon(e,t,i,o){return null}handlePointerMove(e,t){t.onUpdateCursor("cell"),super.handlePointerMove(e,t)}createTentativeFeature(e){const{lastPointerMoveEvent:t}=e,i=this.getClickSequence(),o=t?[t.mapCoords]:[];let n;return 2===i.length&&(n=this.getThreeClickPolygon(i[0],i[1],o[0],e.modeConfig)),n}}},2955:(e,t,i)=>{i.d(t,{P:()=>l,Th:()=>d,Z3:()=>r,hE:()=>a,iE:()=>s});var o=i(38267),n=i(84930);const s=o.Ay.div.withConfig({displayName:"styled__ExampleHeader",componentId:"sc-1dgi8sb-0"})(["font:bold 20px/28px var(--ifm-font-family-base);color:var(--ifm-color-content-secondary);margin:0 20px;border-bottom:1px solid 20px;display:inline-block;padding:20px 20px 4px 0;"]),r=o.Ay.main.withConfig({displayName:"styled__MainExamples",componentId:"sc-1dgi8sb-1"})(["padding:16px 0;"]),a=o.Ay.main.withConfig({displayName:"styled__ExamplesGroup",componentId:"sc-1dgi8sb-2"})(["display:flex;flex-wrap:wrap;padding:16px;"]),l=o.Ay.a.withConfig({displayName:"styled__ExampleCard",componentId:"sc-1dgi8sb-3"})(["cursor:pointer;text-decoration:none;width:50%;max-width:240px;line-height:0;outline:none;padding:4px;position:relative;img{transition-property:filter;transition-duration:var(--ifm-transition-slow);transition-timing-function:var(--ifm-transition-timing-default);}&:hover{box-shadow:var(--ifm-global-shadow-md);}&:hover img{filter:contrast(0.2);}","{width:33%;min-width:200px;}@media screen and (max-width:632px){width:50%;}"],n.F),d=o.Ay.div.withConfig({displayName:"styled__ExampleTitle",componentId:"sc-1dgi8sb-4"})(["position:absolute;display:flex;justify-content:center;flex-direction:column;color:var(--ifm-color-white);font-size:1.5em;text-align:center;line-height:initial;width:90%;height:90%;top:5%;left:5%;border:solid 1px var(--ifm-color-white);opacity:0;transition-property:opacity;transition-duration:var(--ifm-transition-slow);transition-timing-function:var(--ifm-transition-timing-default);&:hover{opacity:1;}"])},2958:(e,t,i)=>{i.d(t,{A:()=>r});i(96540);var o=i(38267),n=i(74848);const s=o.Ay.div.withConfig({displayName:"spinner__SpinnerContainer",componentId:"sc-ok6n2c-0"})(["height:18px;line-height:18px;font-size:10px;> div{white-space:nowrap;left:0;bottom:0;position:absolute;height:18px;padding-left:20px;transition:width 0.5s;}.spinner--fill{background:$primary;color:$white;overflow:hidden;}.spinner--text{color:$black-40;}&.done{height:0 !important;line-height:0;font-size:0;transition:height 0.5s 1s;> div{height:0 !important;transition:height 0.5s 1s;}}"]);function r(e){let{meta:t}=e;if(!Number.isFinite(t.progress)&&!Number.isFinite(t.progressAlt))return null;const i=(t.progress||0)+(t.progressAlt||0),o=Math.round(1e3*i)/10,r="Loading... "+o+"%";return(0,n.jsxs)(s,{className:i>=1?"done":"",children:[(0,n.jsx)("div",{className:"spinner--text",children:r}),(0,n.jsx)("div",{className:"spinner--fill",style:{width:o+"%"},children:r})]})}},3196:(e,t,i)=>{i.d(t,{D:()=>l});var o=i(67604),n=i(25903),s=i(85914),r=i(15530);const a=[];class l extends r.b{constructor(){super(...arguments),this._getTooltips=(0,s.B)(e=>{let{modeConfig:t,vertex:i,point1:s,point2:r}=e,l=a;if(i&&s&&r){const{formatTooltip:e,measurementCallback:a}=t||{},d="deg",c=(0,o.A)(i,s),p=(0,o.A)(i,r);let h,g=Math.abs(c-p);g>180&&(g=360-g),h=e?e(g):parseFloat(g).toFixed(2)+" "+d,a&&a(g);l=[{position:(0,n.A)({type:"FeatureCollection",features:[s,r].map(e=>({type:"Feature",geometry:{type:"Point",coordinates:e},properties:{}}))}).geometry.coordinates,text:h}]}return l})}handleClick(e,t){this.getClickSequence().length>=3&&this.resetClickSequence(),this.addClickSequence(e)}handlePointerMove(e,t){t.onUpdateCursor("cell")}getPoints(e){const t=this.getClickSequence(),i=[...t];return t.length<3&&e.lastPointerMoveEvent&&i.push(e.lastPointerMoveEvent.mapCoords),i}getGuides(e){const t={type:"FeatureCollection",features:[]},{features:i}=t,o=this.getPoints(e);return o.length>2?i.push({type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[o[1],o[0],o[2]]}}):o.length>1&&i.push({type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[o[1],o[0]]}}),t}getTooltips(e){const t=this.getPoints(e);return this._getTooltips({modeConfig:e.modeConfig,vertex:t[0],point1:t[1],point2:t[2]})}}},4892:(e,t,i)=>{i.d(t,{c:()=>v});var o=i(59452),n=i(19751),s=i(93279),r=i(57468),a=i(50365),l=i(83322),d=i(21518),c=i(26443),p=i(44375);const h="rectangle",g="polygon",u={[h]:d.h,[g]:c.c},m={[h]:{dragToDraw:!0}},f={selectionType:h,layerIds:[],onSelect:()=>{}},y={type:"FeatureCollection",features:[]},x="selection-blocker",C=["lineWidthScale","lineWidthMinPixels","lineWidthMaxPixels","lineWidthUnits","lineJointRounded","lineCapRounded","lineMiterLimit","pointRadiusScale","pointRadiusMinPixels","pointRadiusMaxPixels","lineDashJustified","getLineColor","getFillColor","getRadius","getLineWidth","getLineDashArray","getTentativeLineDashArray","getTentativeLineColor","getTentativeFillColor","getTentativeLineWidth"];class v extends o.A{constructor(){super(...arguments),this.state=void 0}_selectRectangleObjects(e){const{layerIds:t,onSelect:i}=this.props,[o,n]=this.context.viewport.project(e[0][0]),[s,r]=this.context.viewport.project(e[0][2]);i({pickingInfos:this.context.deck.pickObjects({x:Math.min(o,s),y:Math.min(n,r),width:Math.abs(s-o),height:Math.abs(r-n),layerIds:t})})}_selectPolygonObjects(e){const{layerIds:t,onSelect:i}=this.props,o=e[0].map(e=>this.context.viewport.project(e)),n=o.map(e=>e[0]),l=o.map(e=>e[1]),d=Math.min(...n),c=Math.min(...l),p=Math.max(...n),h=Math.max(...l),g=(0,s.n1)(e),u=(0,r.A)(g,50);let m;try{m=(0,a.A)(u,g)}catch(y){return void console.log("turfDifference() error",y)}this.setState({pendingPolygonSelection:{bigPolygon:m}});const f=this.props.id+"-"+x;setTimeout(()=>{const e=this.context.deck.pickObjects({x:d,y:c,width:p-d,height:h-c,layerIds:[f,...t]});i({pickingInfos:e.filter(e=>e.layer.id!==this.props.id)})},250)}renderLayers(){const{pendingPolygonSelection:e}=this.state,t=u[this.props.selectionType]||p.n,i=m[this.props.selectionType],o={};C.forEach(e=>{void 0!==this.props[e]&&(o[e]=this.props[e])});const s=[new l.T(this.getSubLayerProps(Object.assign({id:"selection-geojson",pickable:!0,mode:t,modeConfig:i,selectedFeatureIndexes:[],data:y,onEdit:e=>{let{updatedData:t,editType:i}=e;if("addFeature"===i){const{coordinates:e}=t.features[0].geometry;this.props.selectionType===h?this._selectRectangleObjects(e):this.props.selectionType===g&&this._selectPolygonObjects(e)}}},o)))];if(e){const{bigPolygon:t}=e;s.push(new n.A(this.getSubLayerProps({id:x,pickable:!0,stroked:!1,opacity:1,data:[t],getLineColor:e=>[0,0,0,1],getFillColor:e=>[0,0,0,1],getPolygon:e=>e.geometry.coordinates})))}return s}shouldUpdateState(e){let{changeFlags:{stateChanged:t,propsOrDataChanged:i}}=e;return t||i}}v.layerName="SelectionLayer",v.defaultProps=f},5331:(e,t,i)=>{i.d(t,{X:()=>s});var o=i(15530),n=i(24164);class s extends o.b{getSingleSelectedLineString(e){const t=this.getSelectedGeometry(e);return t&&"LineString"===t.type?t:null}handleClick(e,t){const{selectedIndexes:i}=t,o=this.getSingleSelectedLineString(t);if(!o)return void console.warn("ExtendLineStringMode only supported for single LineString selection");let s=[o.coordinates.length];const r=t.modeConfig;r&&r.drawAtFront&&(s=[0]);const a=i[0],l=new n.v(t.data).addPosition(a,s,e.mapCoords).getObject();t.onEdit({updatedData:l,editType:"addPosition",editContext:{featureIndexes:[a],positionIndexes:s,position:e.mapCoords}})}getGuides(e){const t={type:"FeatureCollection",features:[]},i=this.getSingleSelectedLineString(e);if(!i)return t;const o=e.lastPointerMoveEvent&&e.lastPointerMoveEvent.mapCoords;if(!o)return t;let n=null;const{modeConfig:s}=e;return n=s&&s.drawAtFront?i.coordinates[0]:i.coordinates[i.coordinates.length-1],t.features.push({type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[n,o]}}),t}handlePointerMove(e,t){t.onUpdateCursor("cell")}}},6701:(e,t,i)=>{i.d(t,{AT:()=>C,Do:()=>w,Eo:()=>S,FN:()=>c,Fv:()=>k,G6:()=>x,UP:()=>f,W1:()=>u,YO:()=>p,Yp:()=>y,ZC:()=>m,c0:()=>v,jb:()=>b,mv:()=>g});var o=i(96558),n=i(67604),s=i(17885),r=i(29987),a=i(93279),l=i(45046),d=i(87531);function c(e,t,i){if(!Array.isArray(e[0]))return!0;for(let o=0;o<e.length;o++)if(c(e[o],[...t,o],i)){i(e,t);break}return!1}function p(e,t,i){const r={type:"LineString",coordinates:[e,t]},l=(0,a.zx)(i),d=(0,s.A)(l,r),c=(0,n.A)(e,t),p=(i[0]-e[0])*(t[1]-e[1])-(i[1]-e[1])*(t[0]-e[0])<0?c-90:c-270,h=(0,o.A)(t,d,p),g=(0,o.A)(e,d,p);return[h.geometry.coordinates,g.geometry.coordinates]}function h(e,t,i,o){const n=e-i,s=t-o;return Math.sqrt(n*n+s*s)}function g(e,t,i){const o=new d.KH(i),n=e.geometry.coordinates.map(e=>{let[t,i,n=0]=e;return o.project([t,i,n])}),[s,r]=o.project(t.geometry.coordinates);let a=1/0,l={};n.forEach((e,t)=>{let[i,o]=e;if(0===t)return;const[d,c]=n[t-1],p=c-o,h=i-d,g=d*o-i*c,u=p*p+h*h,m=Math.abs(p*s+h*r+g)/Math.sqrt(u);m<a&&(a=m,l={index:t,x0:(h*(h*s-p*r)-p*g)/u,y0:(p*(-h*s+p*r)-h*g)/u})});const{index:c,x0:p,y0:g}=l,[u,m,f=0]=n[c-1],[y,x,C=0]=n[c],v=h(u,m,y,x),b=function(e,t,i){return t*i+e*(1-i)}(f,C,h(u,m,p,g)/v);return{type:"Feature",geometry:{type:"Point",coordinates:o.unproject([p,g,b])},properties:{dist:a,index:c-1}}}function u(e,t,i){var o,n;let s;i&&(s=new d.KH(i));let c=(0,a.zx)([1/0,1/0],{dist:1/0});return null==(o=e.geometry)||!o.coordinates.length||(null==(n=e.geometry)?void 0:n.coordinates.length)<2||(0,r.iw)(e,e=>{const i=(0,l.$R)(e),o=(0,l.$R)(t);let n,r,d,p,h,g,u;if(i.length>1&&o.length){let e,t;s?(e=i.map(e=>s.project(e)),t=s.project(o)):(e=i,t=o);for(let i=1;i<e.length;i++){if(e[i][0]!==e[i-1][0]){const o=(e[i][1]-e[i-1][1])/(e[i][0]-e[i-1][0]),n=e[i][1]-o*e[i][0];u=Math.abs(o*t[0]+n-t[1])/Math.sqrt(o*o+1)}else u=Math.abs(t[0]-e[i][0]);const o=Math.pow(e[i][1]-e[i-1][1],2)+Math.pow(e[i][0]-e[i-1][0],2),s=Math.pow(e[i][1]-t[1],2)+Math.pow(e[i][0]-t[0],2),a=Math.pow(e[i-1][1]-t[1],2)+Math.pow(e[i-1][0]-t[0],2),l=Math.pow(u,2),c=s-l+a-l;c>o&&(u=Math.sqrt(Math.min(s,a))),(null==n||n>u)&&(c>o?a<s?(r=0,d=1):(d=0,r=1):(r=Math.sqrt(a-l)/Math.sqrt(o),d=Math.sqrt(s-l)/Math.sqrt(o)),n=u,g=i)}const a=e[g-1][0]-e[g][0],l=e[g-1][1]-e[g][1];p=e[g-1][0]-a*r,h=e[g-1][1]-l*r}let m={x:p,y:h,idx:g-1,to:r,from:d};if(s){const e=s.unproject([m.x,m.y]);m={x:e[0],y:e[1],idx:g-1,to:r,from:d}}c=(0,a.zx)([m.x,m.y],{dist:Math.abs(m.from-m.to),index:m.idx})}),c}function m(e){const t=v(e);return t.length?t[0]:null}function f(e){return v(e).find(e=>"snap-source"===e.properties.editHandleType)}function y(e){return e&&e.filter(e=>!e.isGuide)}function x(e){return v(e).find(e=>{let{properties:t}=e;return t.featureIndex>=0&&"existing"===t.editHandleType})}function C(e){return v(e).find(e=>{let{properties:t}=e;return t.featureIndex>=0&&"intermediate"===t.editHandleType})}function v(e){return e&&e.filter(e=>e.isGuide&&"editHandle"===e.object.properties.guideType).map(e=>e.object)||[]}function b(e,t,i){void 0===i&&(i="existing");let o=[];switch(e.type){case"Point":o=[{type:"Feature",properties:{guideType:"editHandle",editHandleType:i,positionIndexes:[],featureIndex:t},geometry:{type:"Point",coordinates:e.coordinates}}];break;case"MultiPoint":case"LineString":o=o.concat(P(e.coordinates,[],t,i));break;case"Polygon":case"MultiLineString":for(let n=0;n<e.coordinates.length;n++)o=o.concat(P(e.coordinates[n],[n],t,i)),"Polygon"===e.type&&(o=o.slice(0,-1));break;case"MultiPolygon":for(let n=0;n<e.coordinates.length;n++)for(let s=0;s<e.coordinates[n].length;s++)o=o.concat(P(e.coordinates[n][s],[n,s],t,i)),o=o.slice(0,-1);break;default:throw Error("Unhandled geometry type: "+e.type)}return o}function P(e,t,i,o){void 0===o&&(o="existing");const n=[];for(let s=0;s<e.length;s++){const r=e[s];n.push({type:"Feature",properties:{guideType:"editHandle",positionIndexes:[...t,s],featureIndex:i,editHandleType:o},geometry:{type:"Point",coordinates:r}})}return n}function S(e,t,i){const o=e.geometry.coordinates;if(!o)return null;const n=o[0].slice(0,4);n[t%4]=i;const s=n[(t+2)%4],r=n[t%4];return n[(t+1)%4]=[r[0],s[1]],n[(t+3)%4]=[s[0],r[1]],[[...n,n[0]]]}function w(e,t){return"number"==typeof e[0]?!isNaN(e[0])&&isFinite(e[0])?t(e):e:e.map(e=>w(e,t)).filter(Boolean)}function k(e){return e.picks.length&&e.picks.find(e=>"points"===e.featureType)}},9804:(e,t,i)=>{i.d(t,{Q:()=>o});class o{constructor(e,t){this.objects=[],this.originals=[],this.updateTrigger=0,this._idToPosition=new Map,this._getData=e,this._convert=t}updateAllDeckObjects(){this._getData&&this._convert&&(this.originals.length=0,this.objects.length=0,this._idToPosition.clear(),this._getData().forEach(e=>{this._idToPosition.set(e.id,this.objects.length),this.originals.push(e),this.objects.push(this._convert(e))}),this.triggerUpdate())}updateDeckObjectsByIds(e){this._getData&&this._convert&&(e.forEach(e=>{const t=this._idToPosition.get(e);void 0!==t&&(this.objects[t]=this._convert(this.originals[t]))}),this.triggerUpdate())}triggerUpdate(){this.updateTrigger++}getDeckObjectById(e){const t=this._idToPosition.get(e);return void 0!==t?this.objects[t]:null}getOriginalById(e){const t=this._idToPosition.get(e);return void 0!==t?this.originals[t]:null}}},10523:(e,t,i)=>{i.d(t,{O:()=>d});var o=i(96338),n=i(30669),s=i(90999),r=i(85914),a=i(15530),l=i(78990);class d extends l.g{constructor(){super(...arguments),this.radius=null,this.position=null,this.areaCircle=null,this.diameter=null,this._getTooltips=(0,r.B)(e=>{let{modeConfig:t,radius:i,areaCircle:o,diameter:n}=e,s=[];const{formatTooltip:r}=t||{};let a;return i&&o&&(a=r?r(i):"Radius: "+parseFloat(i).toFixed(2)+" kilometers\n      \n Area: "+parseFloat(o).toFixed(2)+"\n      \n Diameter: "+parseFloat(n).toFixed(2)+" kilometers",s=[{position:this.position,text:a}]),s})}getTwoClickPolygon(e,t,i){const{steps:r=64}=i||{},l={steps:r};r<4&&(console.warn("Minimum steps to draw a circle is 4 "),l.steps=4);const d=(0,a.T)(e,t);this.radius=Math.max((0,n.A)(e,d),.001),this.diameter=Math.max((0,n.A)(e,t),.001),this.position=d;const c=(0,o.A)(d,this.radius,l);return c.properties=c.properties||{},c.properties.shape="Circle",c.properties.editProperties=c.properties.editProperties||{},c.properties.editProperties.shape="Circle",c.properties.editProperties.radius={value:this.radius,unit:"kilometers"},c.properties.editProperties.center=d,this.areaCircle=(0,s.A)(c),c}getTooltips(e){return this._getTooltips({modeConfig:e.modeConfig,radius:this.radius,areaCircle:this.areaCircle,diameter:this.diameter})}}},10654:(e,t,i)=>{i.d(t,{r:()=>n});const o={outlineEnabled:!1,outlineRenderShadowmap:!1,outlineShadowmap:null};const n={name:"outline",vs:"#version 300 es\nin float instanceZLevel;\nout float outline_vzLevel;\nout vec4 outline_vPosition;\n\n// Set the z level for the outline shadowmap rendering\nvoid outline_setZLevel(float zLevel) {\n  outline_vzLevel = zLevel;\n}\n\n// Store an adjusted position for texture2DProj\nvoid outline_setUV(vec4 position) {\n  // mat4(\n  //   0.5, 0.0, 0.0, 0.0,\n  //   0.0, 0.5, 0.0, 0.0,\n  //   0.0, 0.0, 0.5, 0.0,\n  //   0.5, 0.5, 0.5, 1.0\n  // ) * position;\n  outline_vPosition = vec4(position.xyz * 0.5 + position.w * 0.5, position.w);\n}\n",fs:"uniform bool outline_uEnabled;\nuniform bool outline_uRenderOutlines;\nuniform sampler2D outline_uShadowmap;\n\nin float outline_vzLevel;\n// in vec2 outline_vUV;\nin vec4 outline_vPosition;\n\nout vec4 fragColor;\n\nconst float OUTLINE_Z_LEVEL_ERROR = 0.01;\n\n// Return a darker color in shadowmap\nvec4 outline_filterShadowColor(vec4 color) {\n  return vec4(outline_vzLevel / 255., outline_vzLevel / 255., outline_vzLevel / 255., 1.);\n}\n\n// Return a darker color if in shadowmap\nvec4 outline_filterDarkenColor(vec4 color) {\n  if (outline_uEnabled) {\n    float maxZLevel;\n    if (outline_vPosition.q > 0.0) {\n      maxZLevel = texture2DProj(outline_uShadowmap, outline_vPosition).r * 255.;\n    } else {\n      discard;\n    }\n    if (maxZLevel < outline_vzLevel + OUTLINE_Z_LEVEL_ERROR) {\n      vec4(color.rgb * 0.5, color.a);\n    } else {\n      discard;\n    }\n  }\n  return color;\n}\n\n// if enabled and rendering outlines - Render depth to shadowmap\n// if enabled and rendering colors - Return a darker color if in shadowmap\n// if disabled, just return color\nvec4 outline_filterColor(vec4 color) {\n  if (outline_uEnabled) {\n    return outline_uRenderOutlines ?\n      outline_filterShadowColor(color) :\n      outline_filterDarkenColor(color);\n  }\n  return color;\n}\n",getUniforms:function(e){let{outlineEnabled:t,outlineRenderShadowmap:i,outlineShadowmap:n}=void 0===e?o:e;const s={};return void 0!==t&&(s.outline_uEnabled=t),void 0!==i&&(s.outline_uRenderOutlines=i),void 0!==n&&(s.outline_uShadowmap=n),s}}},10708:(e,t,i)=>{i.d(t,{U:()=>s});var o=i(6701),n=i(1160);class s extends n._{getThreeClickPolygon(e,t,i,n){const[s,r]=(0,o.YO)(e,t,i);return{type:"Feature",properties:{shape:"Rectangle"},geometry:{type:"Polygon",coordinates:[[e,t,s,r,e]]}}}}},10935:(e,t,i)=>{var o=i(86559),n=i(55857),s=i(83322),r=i(88720);const a=i(44375).n,l={type:"FeatureCollection",features:[]},d=Object.assign({mode:a},s.T.defaultProps,{data:[],selectedIndexes:[],filled:!1,stroked:!0,lineWidthScale:n.a,lineWidthMinPixels:1,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineWidthUnits:"pixels",getHexagons:e=>e.hexIds,getEditedCluster:(e,t)=>t?Object.assign({},t,{hexIds:e}):{hexIds:e},resolution:9});class c extends r.K{constructor(){super(...arguments),this.state=void 0}initializeState(){super.initializeState(),this.setState({tentativeHexagonIDs:[]})}getDerivedHexagonIDs(e){throw new Error("not implemented")}getDerivedHexagonID(e){throw new Error("not implemented")}renderLayers(){return[new s.T(this.getSubLayerProps({id:"editable-geojson",mode:this.props.mode,data:l,selectedFeatureIndexes:[],onEdit:e=>{const{editType:t,editContext:i}=e;switch(t){case"updateTentativeFeature":if("Polygon"===i.feature.geometry.type){const e=i.feature.geometry.coordinates,t=this.getDerivedHexagonIDs(e);this.setState({tentativeHexagonIDs:t})}else if("Point"===i.feature.geometry.type){const e=i.feature.geometry.coordinates,t=this.getDerivedHexagonID(e);this.setState({tentativeHexagonIDs:[t]})}break;case"addFeature":const e=[...this.props.data],{modeConfig:t}=this.props;if(t&&t.booleanOperation)if(1!==this.props.selectedIndexes.length)console.warn("booleanOperation only supported for single cluster selection");else{let i;const o=new Set(this.getSelectedHexIDs()),n=new Set(this.state.tentativeHexagonIDs);switch(t.booleanOperation){case"union":default:i=[...new Set([...o,...n])];break;case"intersection":i=[...o].filter(e=>n.has(e));break;case"difference":i=[...o].filter(e=>!n.has(e))}const s=this.props.selectedIndexes[0],r=this.props.data[s];e[s]=this.props.getEditedCluster(i,r)}else e.push(this.props.getEditedCluster(this.state.tentativeHexagonIDs,null));this.setState({tentativeHexagonIDs:[]}),this.props.onEdit({updatedData:e})}}})),new o.A(this.getSubLayerProps({id:"hexagons",data:this.props.data,getHexagons:this.props.getHexagons})),new o.A(this.getSubLayerProps({id:"tentative-hexagons",data:[{hexIds:this.state.tentativeHexagonIDs}],getHexagons:e=>e.hexIds}))]}getSelectedHexIDs(){let e=[];return this.props.selectedIndexes.forEach(t=>{const i=this.props.data[t],o=this.props.getHexagons(i);e=e.concat(o)}),e}getCursor(e){let{isDragging:t}=e,{cursor:i}=this.state||{};return i||(i=t?"grabbing":"grab"),i}}c.layerName="EditableH3ClusterLayer",c.defaultProps=d},12849:(e,t,i)=>{i.d(t,{A:()=>p});var o=i(96540),n=i(38267),s=i(72840),r=i(96541),a=i(2958),l=i(74848);const d=n.Ay.div.withConfig({displayName:"info-panel__InfoPanelContent",componentId:"sc-1qy2onu-0"})(["hr{margin:12px -24px;}a{text-decoration:none;display:inline;color:var(--ifm-color-primary);}p{margin-bottom:16px;}.legend{display:inline-block;width:12px;height:12px;}.stat{text-transform:uppercase;font-size:0.833em;b{display:block;font-size:3em;font-weight:bold;line-height:1.833;}}hr{border:none;background:var(--ifm-color-gray-400);height:1px;}.layout{display:table;width:100%;> *{display:table-cell !important;}.col-1-3{width:33.33%;}.col-1-2{width:50%;}.text-right{text-align:right;}.text-center{text-align:center;}}"]);function c(e){let{title:t,children:i,sourceLink:n}=e;const[r,a]=(0,o.useState)(!1);return(0,l.jsxs)(s._w,{children:[(0,l.jsxs)(s.xw,{onClick:()=>a(!r),children:[(0,l.jsx)("div",{children:t}),(0,l.jsx)(s.M0,{$expanded:r,children:r?"\u2715":"i"})]}),(0,l.jsx)(s.wq,{$expanded:r,children:i}),(0,l.jsx)(s.Av,{$expanded:r,href:n,target:"_new",children:"View Code \u2197"})]})}function p(e){let{title:t,sourceLink:i,params:o,meta:n,children:s,updateParam:p}=e;return(0,l.jsxs)(c,{title:t,sourceLink:i,children:[(0,l.jsxs)(d,{children:[s,Object.keys(o).length>0&&(0,l.jsx)("hr",{}),Object.keys(o).sort().map((e,t)=>(0,l.jsx)(r.A,Object.assign({name:e},o[e],{onChange:p}),t+"-"+e))]}),(0,l.jsx)(a.A,{meta:n})]})}},13203:(e,t,i)=>{i.d(t,{A:()=>m});var o=i(98587),n=i(96540),s=i(38267),r=i(12849),a=i(39286),l=i(38033),d=i(50340),c=i(98180),p=i(74848);const h=["mapStyle"],g=s.Ay.div.withConfig({displayName:"make-example__DemoContainer",componentId:"sc-is6oih-0"})([".tooltip,.deck-tooltip{position:absolute;padding:4px 12px;background:rgba(0,0,0,0.8);color:var(--ifm-color-white);max-width:300px;font-size:12px;z-index:9;pointer-events:none;white-space:nowrap;}"]),u=s.Ay.div.withConfig({displayName:"make-example__MapTip",componentId:"sc-is6oih-1"})(["position:absolute;right:12px;bottom:20px;color:var(--ifm-color-white);mix-blend-mode:difference;font-size:14px;@media screen and (max-width:480px){display:none;}"]);function m(e,t){let{addInfoPanel:i=!0,style:s}=void 0===t?{}:t;const{parameters:m={},mapStyle:f}=e,y=Object.keys(m).reduce((e,t)=>(e[t]=(0,l.H5)(m[t]),e),{}),x=Array.isArray(e.data)?e.data.map(e=>null):null;return function(t){void 0===t&&(t={});const[m,C]=(0,n.useState)(x),[v,b]=(0,n.useState)(y),[P,S]=(0,n.useState)({}),w=(0,c.Ay)("/"),{mapStyle:k}=t,A=(0,o.A)(t,h),j=(0,n.useCallback)(e=>{const t=Object.keys(e).reduce((t,i)=>(t[i]=(0,l.H5)(e[i]),t),{});b(e=>Object.assign({},e,t))},[]),M=(0,n.useCallback)(e=>{S(t=>Object.assign({},t,e))},[]);(0,n.useEffect)(()=>{let t=e.data;if(!t)return;const i=Array.isArray(t);i||(t=[t]);for(let e=0;e<t.length;e++){const{url:o,worker:n}=t[e];(0,a.Z)((0,a.u)(w,o),n&&(0,a.u)(w,n),(t,o)=>{C(i?i=>{const o=i.slice();return o[e]=t,o}:t),o&&S(e=>Object.assign({},e,o))})}},[]);return(0,p.jsxs)(g,{style:s,children:[(0,p.jsx)(e,Object.assign({},A,{data:m,mapStyle:k||f||d.Vi.BLANK,params:v,useParam:j,onStateChange:M})),i&&(0,p.jsx)(r.A,{title:e.title,params:v,meta:P,updateParam:(e,t)=>{const i=v[e];i&&b(Object.assign({},v,{[e]:(0,l.H5)(Object.assign({},i,{value:t}))}))},sourceLink:e.code,children:e.renderInfo(P)}),i&&f&&(0,p.jsx)(u,{children:"Hold down shift to rotate"})]})}}},13243:(e,t,i)=>{i.d(t,{l:()=>r});var o=i(6701),n=i(57638);function s(e){let{pointerDownScreenCoords:t,screenCoords:i}=e;return 10*(t[1]-i[1])}class r extends n.u{makeElevatedEvent(e,t,i){const{minElevation:o=0,maxElevation:n=2e4,calculateElevationChange:r=s}=i.modeConfig||{};if(!e.pointerDownScreenCoords)return e;let a=3===t.length?t[2]:0;return a+=r({pointerDownScreenCoords:e.pointerDownScreenCoords,screenCoords:e.screenCoords}),a=Math.min(a,n),a=Math.max(a,o),Object.assign({},e,{mapCoords:[t[0],t[1],a]})}handlePointerMove(e,t){const i=(0,o.ZC)(e.pointerDownPicks),n=i?i.geometry.coordinates:e.mapCoords;super.handlePointerMove(this.makeElevatedEvent(e,n,t),t)}handleStopDragging(e,t){const i=(0,o.ZC)(e.picks),n=i?i.geometry.coordinates:e.mapCoords;super.handleStopDragging(this.makeElevatedEvent(e,n,t),t)}getCursor(e){let t=super.getCursor(e);return"cell"===t&&(t="ns-resize"),t}static calculateElevationChangeWithViewport(e,t){let{pointerDownScreenCoords:i,screenCoords:o}=t;return 156543.03392*Math.cos(e.latitude*Math.PI/180)/Math.pow(2,e.zoom)*(i[1]-o[1])/2}}},14029:(e,t,i)=>{i.d(t,{a:()=>o});const o=2/3},15530:(e,t,i)=>{i.d(t,{T:()=>h,b:()=>p});var o=i(14657),n=i(50365),s=i(95475),r=i(38197),a=i(6701),l=i(24164);const d={type:"FeatureCollection",features:[]},c=[];class p{constructor(){this._clickSequence=[]}getGuides(e){return d}getTooltips(e){return c}getSelectedFeature(e){return 1===e.selectedIndexes.length?e.data.features[e.selectedIndexes[0]]:null}getSelectedGeometry(e){const t=this.getSelectedFeature(e);return t?t.geometry:null}getSelectedFeaturesAsFeatureCollection(e){const{features:t}=e.data;return{type:"FeatureCollection",features:e.selectedIndexes.map(e=>t[e])}}getClickSequence(){return this._clickSequence}addClickSequence(e){let{mapCoords:t}=e;this._clickSequence.push(t)}resetClickSequence(){this._clickSequence=[]}getTentativeGuide(e){return this.getGuides(e).features.find(e=>e.properties&&"tentative"===e.properties.guideType)}isSelectionPicked(e,t){if(!e.length)return!1;const i=(0,a.Yp)(e).map(e=>{let{index:t}=e;return t}),o=(0,a.c0)(e).map(e=>{let{properties:t}=e;return t.featureIndex}),n=new Set([...i,...o]);return t.selectedIndexes.some(e=>n.has(e))}rewindPolygon(e){const{geometry:t}=e;return"Polygon"===t.type||"MultiPolygon"===t.type?(0,r.A)(e):e}getAddFeatureAction(e,t,i){const o=e;i=i||{};const n="Feature"===o.type?o:{type:"Feature",properties:i,geometry:o},s=this.rewindPolygon(n),r=new l.v(t).addFeature(s).getObject();return{updatedData:r,editType:"addFeature",editContext:{featureIndexes:[r.features.length-1]}}}getAddManyFeaturesAction(e,t){let{features:i}=e,o=new l.v(t);const n=o.getObject().features.length,s=[];for(const r of i){const{properties:e,geometry:t}=r,i=t;o=o.addFeature({type:"Feature",properties:e,geometry:i}),s.push(n+s.length)}return{updatedData:o.getObject(),editType:"addFeature",editContext:{featureIndexes:s}}}getAddFeatureOrBooleanPolygonAction(e,t,i){const r=e;i=i||{};const a=this.getSelectedFeature(t),{modeConfig:d}=t;if(d&&d.booleanOperation){if(!a||"Polygon"!==a.geometry.type&&"MultiPolygon"!==a.geometry.type)return console.warn("booleanOperation only supported for single Polygon or MultiPolygon selection"),null;const e="Feature"===r.type?r:{type:"Feature",geometry:r};let i;if("union"===d.booleanOperation)i=(0,o.A)(a,e);else if("difference"===d.booleanOperation)i=(0,n.A)(a,e);else{if("intersection"!==d.booleanOperation)return console.warn("Invalid booleanOperation "+d.booleanOperation),null;i=(0,s.A)(a,e)}if(!i)return console.warn("Canceling edit. Boolean operation erased entire polygon."),null;const c=t.selectedIndexes[0];return{updatedData:new l.v(t.data).replaceGeometry(c,i.geometry).getObject(),editType:"unionGeometry",editContext:{featureIndexes:[c]}}}return this.getAddFeatureAction(e,t.data,i)}createTentativeFeature(e){return null}handleClick(e,t){}handleDoubleClick(e,t){}handlePointerMove(e,t){const i=this.createTentativeFeature(t);i&&t.onEdit({updatedData:t.data,editType:"updateTentativeFeature",editContext:{feature:i}})}handleStartDragging(e,t){}handleStopDragging(e,t){}handleDragging(e,t){}handleKeyUp(e,t){"Escape"===e.key&&(this.resetClickSequence(),t.onEdit({updatedData:t.data,editType:"cancelFeature",editContext:{}}))}}function h(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}},15562:(e,t,i)=>{var o=i(76525);i(61631),i(9804),i(99800);o.B},16293:(e,t,i)=>{var o=i(55797),n=i(76525);i(61631),i(9804),i(78532);o.IP.NONE,o.IP.FORWARD,o.IP.BACKWARD,o.IP.BOTH;n.B},17379:(e,t,i)=>{i.d(t,{m:()=>f});var o=i(22608),n=i(50365),s=i(57468),r=i(78640),a=i(93279),l=i(67604),d=i(30669),c=i(96558),p=i(65875),h=i(37028),g=i(6701),u=i(15530),m=i(24164);class f extends u.b{calculateMapCoords(e,t,i){const o=i.modeConfig;if(!o||!o.lock90Degree||!e.length)return t;if(1===e.length){const o=e[0],n=this.getSelectedGeometry(i),s=(0,p.Ay)(n),r="FeatureCollection"===s.type?s.features:[s];let a=Number.MAX_SAFE_INTEGER,g=null;if(r.forEach(e=>{const t=(0,h.A)(e,o),i=(0,d.A)(t,o);a>i&&(a=i,g=t)}),g){const e=(0,l.A)(o,g),i=(0,d.A)(o,t,{units:"meters"});return(0,c.A)(o,i,e,{units:"meters"}).geometry.coordinates}return t}const n=e[e.length-1],[s]=(0,g.YO)(e[e.length-2],n,t);return(0,h.A)((0,a.wi)([n,s]),t).geometry.coordinates}getGuides(e){const t=this.getClickSequence(),i={type:"FeatureCollection",features:[]};if(0===t.length||!e.lastPointerMoveEvent)return i;const{mapCoords:o}=e.lastPointerMoveEvent;return i.features.push({type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[...t,this.calculateMapCoords(t,o,e)]}}),i}handleClick(e,t){const i=this.getTentativeGuide(t),n=this.getSelectedGeometry(t);if(!n)return void console.warn("A polygon must be selected for splitting");const s=this.getClickSequence();i&&"LineString"===i.geometry.type?s.push(i.geometry.coordinates[i.geometry.coordinates.length-1]):this.addClickSequence(e);const a={type:"Point",coordinates:s[s.length-1]},l=(0,o.A)(a,n);if(s.length>1&&i&&!l){this.resetClickSequence();if(0===(0,r.A)(i,n).features.length)return;const e=this.splitPolygon(i,t);e&&t.onEdit(e)}}handlePointerMove(e,t){t.onUpdateCursor("cell")}splitPolygon(e,t){const i=this.getSelectedGeometry(t),o=t.selectedIndexes[0],r=t.modeConfig||{};let{gap:a=.1,units:l="centimeters"}=r;0===a&&(a=.1,l="centimeters");const d=(0,s.A)(e,a,{units:l}),c=(0,n.A)(i,d);if(!c)return console.warn("Canceling edit. Split Polygon erased"),null;const{type:p,coordinates:h}=c.geometry;let g=[];g="Polygon"===p?h.map(e=>[e]):h.reduce((e,t)=>(t.forEach(t=>{e.push([t])}),e),[]);return{updatedData:new m.v(t.data).replaceGeometry(o,{type:"MultiPolygon",coordinates:g}).getObject(),editType:"split",editContext:{featureIndexes:[o]}}}}},18547:(e,t,i)=>{i.d(t,{J:()=>c});var o=i(96558),n=i(67604),s=i(78640),r=i(30669),a=i(93279),l=i(6701),d=i(15530);class c extends d.b{createTentativeFeature(e){const t=this.getClickSequence(),{mapCoords:i}=e.lastPointerMoveEvent;let o,n;if(t.length<=1)o=i;else{const e=t[t.length-2],n=t[t.length-1];[o]=(0,l.YO)(e,n,i)}return n=t.length<3?{type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[...t,o]}}:{type:"Feature",properties:{guideType:"tentative"},geometry:{type:"Polygon",coordinates:[[...t,o,t[0]]]}},n}getGuides(e){const t={type:"FeatureCollection",features:[]};if(0===this.getClickSequence().length||!e.lastPointerMoveEvent)return t;const i=this.createTentativeFeature(e);return t.features.push(i),t.features=t.features.concat((0,l.jb)(i.geometry,-1)),t.features=t.features.slice(0,-1),t}handlePointerMove(e,t){t.onUpdateCursor("cell"),super.handlePointerMove(e,t)}handleClick(e,t){const{picks:i}=e,o=this.getTentativeGuide(t);this.addClickSequence(e);const n=this.getClickSequence();if(o)if(3===n.length&&"LineString"===o.geometry.type){const e=o.geometry;n[n.length-1]=e.coordinates[e.coordinates.length-1]}else if(n.length>3&&"Polygon"===o.geometry.type){const e=o.geometry;n[n.length-1]=e.coordinates[0][e.coordinates[0].length-2];const s=(0,l.ZC)(i);if(s&&Array.isArray(s.properties.positionIndexes)&&(0===s.properties.positionIndexes[1]||s.properties.positionIndexes[1]===e.coordinates[0].length-3)){const i={type:"Polygon",coordinates:this.finalizedCoordinates([...e.coordinates[0]])};this.resetClickSequence();const o=this.getAddFeatureOrBooleanPolygonAction(i,t);o&&t.onEdit(o)}}else{const i={screenCoords:[-1,-1],mapCoords:e.mapCoords,picks:[],pointerDownPicks:null,pointerDownScreenCoords:null,pointerDownMapCoords:null,cancelPan:()=>{},sourceEvent:null};this.handlePointerMove(i,t)}}finalizedCoordinates(e){let t=[[...e.slice(0,-2),e[0]]],i=this.getIntermediatePoint([...e]);if(i)t=[[...e.slice(0,-2),i,e[0]]];else{const o=[...e];o.splice(-3,1),i=this.getIntermediatePoint([...o]),i&&(t=[[...e.slice(0,-3),i,e[0]]])}return t}getIntermediatePoint(e){let t=null;if(e.length>4){const[i,l]=[...e],d=(0,n.A)(i,l),c=e[e.length-3],p=e[e.length-4],h=(0,n.A)(c,p),g={first:[],second:[]};[1,2,3].forEach(e=>{const t=d+90*e;g.first.push(t>180?t-360:t);const i=h+90*e;g.second.push(i>180?i-360:i)});const u=(0,r.A)((0,a.zx)(i),(0,a.zx)(c));[0,1,2].forEach(e=>{const n=(0,a.wi)([i,(0,o.A)(i,u,g.first[e]).geometry.coordinates]);[0,1,2].forEach(e=>{const i=(0,a.wi)([c,(0,o.A)(c,u,g.second[e]).geometry.coordinates]),r=(0,s.A)(n,i);r&&r.features.length&&(t=r.features[0].geometry.coordinates)})})}return t}}},19143:(e,t,i)=>{i.d(t,{H:()=>n});var o=i(15530);class n extends o.b{constructor(e){super(),this._modes=e}_coalesce(e,t){void 0===t&&(t=null);let i=null;for(let o=0;o<this._modes.length&&(i=e(this._modes[o]),!(t?t(i):i));o++);return i}handleClick(e,t){this._coalesce(i=>i.handleClick(e,t))}handlePointerMove(e,t){return this._coalesce(i=>i.handlePointerMove(e,t))}handleStartDragging(e,t){return this._coalesce(i=>i.handleStartDragging(e,t))}handleStopDragging(e,t){return this._coalesce(i=>i.handleStopDragging(e,t))}handleDragging(e,t){return this._coalesce(i=>i.handleDragging(e,t))}getGuides(e){const t=[];for(const i of this._modes)t.push(...i.getGuides(e).features);return{type:"FeatureCollection",features:t}}}},19474:(e,t,i)=>{i.d(t,{_:()=>l});var o=i(93279),n=i(89784),s=i(78400),r=i(96161),a=i(19143);class l extends a.H{constructor(){super([new n.O,new s.G,new r.D])}handlePointerMove(e,t){let i=null;super.handlePointerMove(e,Object.assign({},t,{onUpdateCursor:e=>{i=e||i}})),t.onUpdateCursor(i)}handleStartDragging(e,t){let i=null,o=null;const r=[];e.picks.length&&e.cancelPan(),this._modes.forEach(e=>{e instanceof n.O?o=e:(e instanceof s.G&&(i=e),r.push(e))}),i instanceof s.G&&!i.isEditHandleSelected()&&r.push(o),r.filter(Boolean).forEach(i=>i.handleStartDragging(e,t))}getGuides(e){let t=super.getGuides(e);const i=(this._modes||[]).find(e=>e instanceof r.D);if(i instanceof r.D){const e=t.features.filter(e=>{const{editHandleType:t,mode:o}=e.properties||{},n=[o];return i.getIsRotating()&&n.push(t),!n.includes("scale")});t=(0,o.Lr)(e)}return t}}},21518:(e,t,i)=>{i.d(t,{h:()=>s});var o=i(31234),n=i(78990);class s extends n.g{getTwoClickPolygon(e,t,i){const n=(0,o.A)([e[0],e[1],t[0],t[1]]);return n.properties=n.properties||{},n.properties.shape="Rectangle",n}}},21551:(e,t,i)=>{i.d(t,{EE:()=>s.A,Ys:()=>n.A,ww:()=>r.A,xv:()=>o.A});var o=i(13203),n=i(86742),s=i(63476),r=i(92893);i(12849)},22802:(e,t,i)=>{i.d(t,{r:()=>d});var o=i(16779),n=i(10654);const s={common:0,meters:1,pixels:2};function r(e){let{source:t,code:i=""}=e;return t.replace(/}[^{}]*$/,i.concat("\n}\n"))}const a={blend:!0,blendColorSrcFactor:"one",blendColorDstFactor:"one",blendColorOperation:"max",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one",blendAlphaOperation:"max",depthWriteEnabled:!1,depthCompare:"always"},l={blend:!1,depthWriteEnabled:!1,depthCompare:"always"};class d extends o.A{constructor(){super(...arguments),this.state=void 0}getShaders(){const e=super.getShaders();return Object.assign({},e,{modules:e.modules.concat([n.r]),vs:r({source:e.vs,code:"  outline_setUV(gl_Position);\n  outline_setZLevel(instanceZLevel);\n"}),fs:r({source:e.fs,code:"  fragColor = outline_filterColor(fragColor);\n"})})}initializeState(e){super.initializeState();const t=e.device.createFramebuffer({colorAttachments:["rgba8unorm"]});this.setState({outlineFramebuffer:t}),this.state.attributeManager.addInstanced({instanceZLevel:{size:1,type:5121,accessor:"getZLevel"}})}draw(e){var t;let{moduleParameters:i={},parameters:o,uniforms:n,context:r}=e;const{jointRounded:d,capRounded:c,billboard:p,miterLimit:h,widthUnits:g,widthScale:u,widthMinPixels:m,widthMaxPixels:f}=this.props;n=Object.assign({},n,{jointType:Number(d),capType:Number(c),billboard:p,widthUnits:s[g],widthScale:u,miterLimit:h,widthMinPixels:m,widthMaxPixels:f});const{outlineFramebuffer:y}=this.state;if(null!=r&&r.viewport){const e=Math.max(1,Math.ceil(r.viewport.width)),t=Math.max(1,Math.ceil(r.viewport.height));y.resize({width:e,height:t})}else y.resize();const x=null==(t=y.colorAttachments[0])?void 0:t.texture;x&&(this.state.model.updateModuleSettings({outlineEnabled:!0,outlineRenderShadowmap:!0,outlineShadowmap:x}),this.state.model.draw({uniforms:Object.assign({},n,{jointType:0,widthScale:1.3*this.props.widthScale}),parameters:a,framebuffer:y}),this.state.model.updateModuleSettings({outlineEnabled:!0,outlineRenderShadowmap:!1,outlineShadowmap:x}),this.state.model.draw({uniforms:Object.assign({},n,{jointType:Number(d),capType:Number(c),widthScale:this.props.widthScale}),parameters:l}))}}d.layerName="PathOutlineLayer",d.defaultProps={getZLevel:()=>0}},23373:(e,t,i)=>{i.d(t,{D:()=>a});var o=i(30669),n=i(85914),s=i(6701),r=i(15530);class a extends r.b{constructor(){super(...arguments),this.dist=0,this.position=null,this.elems=[],this._getTooltips=(0,n.B)(e=>{let{modeConfig:t,dist:i}=e,o=[];const{formatTooltip:n}=t||{};let s;return i&&(s=n?n(i):"Distance: "+parseFloat(i).toFixed(2)+" kilometers",o=[{position:this.position,text:s}]),o})}handleClick(e,t){const{picks:i}=e,o=(0,s.ZC)(i);let n=!1;o||(this.addClickSequence(e),n=!0);const r=this.getClickSequence();o||this.calculateInfoDraw(r),r.length>1&&o&&Array.isArray(o.properties.positionIndexes)&&o.properties.positionIndexes[0]===r.length-1?(this.dist=0,this.finishDrawing(t)):n&&t.onEdit({updatedData:t.data,editType:"addTentativePosition",editContext:{position:e.mapCoords}})}handleDoubleClick(e,t){this.finishDrawing(t)}finishDrawing(e){const t=this.getClickSequence();if(t.length>1){const i={type:"LineString",coordinates:[...t]};this.resetClickSequence();const o=this.getAddFeatureAction(i,e.data);o&&e.onEdit(o)}}handleKeyUp(e,t){const{key:i}=e;"Enter"===i?this.finishDrawing(t):"Escape"===i&&(this.resetClickSequence(),t.onEdit({updatedData:t.data,editType:"cancelFeature",editContext:{}}))}getGuides(e){const{lastPointerMoveEvent:t}=e,i=this.getClickSequence(),o=t?[t.mapCoords]:[],n={type:"FeatureCollection",features:[]};let s;i.length>0&&(s={type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[...i,...o]}}),s&&n.features.push(s);const r=i.map((e,t)=>({type:"Feature",properties:{guideType:"editHandle",editHandleType:"existing",featureIndex:-1,positionIndexes:[t]},geometry:{type:"Point",coordinates:e}}));return n.features.push(...r),n}handlePointerMove(e,t){t.onUpdateCursor("cell")}getTooltips(e){return this._getTooltips({modeConfig:e.modeConfig,dist:this.dist})}calculateInfoDraw(e){e.length>1&&(this.position=e[e.length-1],this.dist+=(0,o.A)(e[e.length-2],e[e.length-1]))}}},23799:(e,t,i)=>{i(42067);var o=i(76525);i(61631),i(14029),i(9804);o.B},24164:(e,t,i)=>{i.d(t,{v:()=>o});class o{constructor(e){this.featureCollection=e}getObject(){return this.featureCollection}replacePosition(e,t,i){const o=this.featureCollection.features[e].geometry,n="Polygon"===o.type||"MultiPolygon"===o.type,r=Object.assign({},o,{coordinates:s(o.coordinates,t,i,n)});return this.replaceGeometry(e,r)}removePosition(e,t){const i=this.featureCollection.features[e].geometry;if("Point"===i.type)throw Error("Can't remove a position from a Point or there'd be nothing left");if("MultiPoint"===i.type&&i.coordinates.length<2)throw Error("Can't remove the last point of a MultiPoint or there'd be nothing left");if("LineString"===i.type&&i.coordinates.length<3)throw Error("Can't remove position. LineString must have at least two positions");if("Polygon"===i.type&&i.coordinates[0].length<5&&Array.isArray(t)&&0===t[0])throw Error("Can't remove position. Polygon's outer ring must have at least four positions");if("MultiLineString"===i.type&&1===i.coordinates.length&&i.coordinates[0].length<3)throw Error("Can't remove position. MultiLineString must have at least two positions");if("MultiPolygon"===i.type&&1===i.coordinates.length&&i.coordinates[0][0].length<5&&Array.isArray(t)&&0===t[0]&&0===t[1])throw Error("Can't remove position. MultiPolygon's outer ring must have at least four positions");const o="Polygon"===i.type||"MultiPolygon"===i.type,n=Object.assign({},i,{coordinates:r(i.coordinates,t,o)});return function(e){switch(e.type){case"Polygon":!function(e){const t=e.coordinates;for(let i=1;i<t.length;i++)l(t,i)&&i--}(e);break;case"MultiLineString":!function(e){for(let t=0;t<e.coordinates.length;t++){1===e.coordinates[t].length&&(e.coordinates.splice(t,1),t--)}}(e);break;case"MultiPolygon":!function(e){for(let t=0;t<e.coordinates.length;t++){const i=e.coordinates[t];i[0].length<=3&&(e.coordinates.splice(t,1),t--);for(let e=1;e<i.length;e++)l(i,e)&&e--}}(e)}}(n),this.replaceGeometry(e,n)}addPosition(e,t,i){const o=this.featureCollection.features[e].geometry;if("Point"===o.type)throw new Error("Unable to add a position to a Point feature");const n="Polygon"===o.type||"MultiPolygon"===o.type,s=Object.assign({},o,{coordinates:a(o.coordinates,t,i,n)});return this.replaceGeometry(e,s)}replaceGeometry(e,t){const i=Object.assign({},this.featureCollection.features[e],{geometry:t}),n=Object.assign({},this.featureCollection,{features:[...this.featureCollection.features.slice(0,e),i,...this.featureCollection.features.slice(e+1)]});return new o(n)}addFeature(e){return this.addFeatures([e])}addFeatures(e){const t=Object.assign({},this.featureCollection,{features:[...this.featureCollection.features,...e]});return new o(t)}deleteFeature(e){return this.deleteFeatures([e])}deleteFeatures(e){const t=[...this.featureCollection.features];e.sort();for(let o=e.length-1;o>=0;o--){const i=e[o];i>=0&&i<t.length&&t.splice(i,1)}const i=Object.assign({},this.featureCollection,{features:t});return new o(i)}}function n(e,t){if(2===e.length&&3===t.length){const i=t[2];return[e[0],e[1],i]}return e}function s(e,t,i,o){if(!t)return e;if(0===t.length)return n(i,e);if(1===t.length){const s=[...e.slice(0,t[0]),n(i,e[t[0]]),...e.slice(t[0]+1)];return!o||0!==t[0]&&t[0]!==e.length-1||(s[0]=n(i,e[0]),s[e.length-1]=n(i,e[0])),s}return[...e.slice(0,t[0]),s(e[t[0]],t.slice(1,t.length),i,o),...e.slice(t[0]+1)]}function r(e,t,i){if(!t)return e;if(0===t.length)throw Error("Must specify the index of the position to remove");if(1===t.length){const o=[...e.slice(0,t[0]),...e.slice(t[0]+1)];return!i||0!==t[0]&&t[0]!==e.length-1||(0===t[0]?o[o.length-1]=o[0]:t[0]===e.length-1&&(o[0]=o[o.length-1])),o}return[...e.slice(0,t[0]),r(e[t[0]],t.slice(1,t.length),i),...e.slice(t[0]+1)]}function a(e,t,i,o){if(!t)return e;if(0===t.length)throw Error("Must specify the index of the position to remove");if(1===t.length){return[...e.slice(0,t[0]),i,...e.slice(t[0])]}return[...e.slice(0,t[0]),a(e[t[0]],t.slice(1,t.length),i,o),...e.slice(t[0]+1)]}function l(e,t){return e[t].length<=3&&(e.splice(t,1),!0)}},25946:(e,t,i)=>{i.d(t,{v:()=>a});var o=i(90999),n=i(17450),s=i(26443);const r=[];class a extends s.c{handleClick(e,t){const i=Object.assign({},t,{onEdit:()=>{}});super.handleClick(e,i)}handleKeyUp(e,t){const i=Object.assign({},t,{onEdit:()=>{}});super.handleKeyUp(e,i)}getTooltips(e){const t=this.getTentativeGuide(e);if(t&&"Polygon"===t.geometry.type){const{modeConfig:i}=e,{formatTooltip:s,measurementCallback:r}=i||{},a="sq. m",l=(0,n.A)(t),d=(0,o.A)(t);let c;return c=s?s(d):parseFloat(d).toFixed(2)+" "+a,r&&r(d),[{position:l.geometry.coordinates,text:c}]}return r}}},26443:(e,t,i)=>{i.d(t,{c:()=>a});var o=i(78640),n=i(93279),s=i(6701),r=i(15530);class a extends r.b{createTentativeFeature(e){const{lastPointerMoveEvent:t}=e,i=this.getClickSequence(),o=t?[t.mapCoords]:[];let n;return 1===i.length||2===i.length?n={type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[...i,...o]}}:i.length>2&&(n={type:"Feature",properties:{guideType:"tentative"},geometry:{type:"Polygon",coordinates:[[...i,...o,i[0]]]}}),n}getGuides(e){const t=this.getClickSequence(),i={type:"FeatureCollection",features:[]},o=this.createTentativeFeature(e);o&&i.features.push(o);const n=t.map((e,t)=>({type:"Feature",properties:{guideType:"editHandle",editHandleType:"existing",featureIndex:-1,positionIndexes:[t]},geometry:{type:"Point",coordinates:e}}));return i.features.push(...n),i}finishDrawing(e){const t=this.getClickSequence();if(t.length>2){const i={type:"Polygon",coordinates:[[...t,t[0]]]};this.resetClickSequence();const o=this.getAddFeatureOrBooleanPolygonAction(i,e);o&&e.onEdit(o)}}handleClick(e,t){const{picks:i}=e,r=(0,s.ZC)(i),a=this.getClickSequence();let l=!1;if(a.length>2&&t.modeConfig&&t.modeConfig.preventOverlappingLines){const t=(0,n.wi)([a[a.length-1],e.mapCoords]),i=(0,n.wi)([...a.slice(0,a.length-1)]);(0,o.A)(t,i).features.length>0&&(l=!0)}let d=!1;r||l||(this.addClickSequence(e),d=!0),a.length>2&&r&&Array.isArray(r.properties.positionIndexes)&&(0===r.properties.positionIndexes[0]||r.properties.positionIndexes[0]===a.length-1)?this.finishDrawing(t):d&&t.onEdit({updatedData:t.data,editType:"addTentativePosition",editContext:{position:e.mapCoords}})}handleDoubleClick(e,t){this.finishDrawing(t)}handleKeyUp(e,t){"Enter"===e.key?this.finishDrawing(t):"Escape"===e.key&&(this.resetClickSequence(),t.onEdit({updatedData:t.data,editType:"cancelFeature",editContext:{}}))}handlePointerMove(e,t){t.onUpdateCursor("cell"),super.handlePointerMove(e,t)}}},30337:(e,t,i)=>{i.d(t,{S:()=>o});i(93279),i(75917),i(31234),i(57468),i(50365),i(30669);const o={NONE:null,RECTANGLE:"rectangle",POLYGON:"polygon"}},35667:(e,t,i)=>{i.d(t,{h:()=>d});var o=i(30669),n=i(53416),s=i(67604),r=i(93279),a=i(15530),l=i(1160);class d extends l._{getThreeClickPolygon(e,t,i,l){const d=(0,a.T)(e,t),c=Math.max((0,o.A)(d,(0,r.zx)(i)),.001),p=Math.max((0,o.A)(e,t),.001)/2,h={angle:(0,s.A)(e,t)},g=(0,n.A)(d,c,p,h);return g.properties=g.properties||{},g.properties.editProperties=g.properties.editProperties||{},g.properties.editProperties.shape="Ellipse",g.properties.editProperties.xSemiAxis={value:c,unit:"kilometers"},g.properties.editProperties.ySemiAxis={value:p,unit:"kilometers"},g.properties.editProperties.angle=h.angle,g.properties.editProperties.center=d,g}}},38033:(e,t,i)=>{i.d(t,{H5:()=>n});var o=i(46957);const n=e=>{if("function"===e.type){let t=String(e.value);if(Array.isArray(e.value)&&(t="["+t+"]"),"function"==typeof e.value)return t=t.replace(/^function (\w+)?\((\w*?)\)/,"$2 =>"),t=t.replace(/^function (\w+)?(\(.*?\))/,"$2 =>"),t=t.replace(/\{\s*return\s*(.*?);?\s*\}$/,"$1"),Object.assign({},e,{displayValue:t});if(!e.altType)return Object.assign({},e,{displayValue:t});e.type=e.altType}if("json"===e.type)return Object.assign({},e,{displayValue:JSON.stringify(e.value)});if("color"===e.type){const i=function(e){if(!e)return[255,255,255,0];if(Array.isArray(e))return e.slice(0,4);const t=(0,o.Qh)(e);return[t.r,t.g,t.b,255]}(e.value);return Object.assign({},e,{value:i,displayValue:(t=i,t.slice(0,3).reduce((e,t)=>e+(t<16?"0":"")+t.toString(16),"#"))})}var t;return Object.assign({},e,{displayValue:String(e.value)})}},39286:(e,t,i)=>{i.d(t,{Z:()=>s,u:()=>r});var o=i(64536),n=i(53736);function s(e,t,i){if(t){const s=(0,o.Em)(e),r=new n.Y(t,(e,t)=>{i(e,t)});s.on("progress",r.onProgress).on("load",r.onLoad).get()}else/\.(json|geojson)$/.test(e)?(0,o.Pq)(e,(e,t)=>{e||i(t,{})}):(0,o.Qq)(e,(e,t)=>{e||i(t,{})})}function r(e,t){return t.match(/^\w+:\/\//)?t:e.replace(/\/$/,"")+"/"+t.replace(/^\//,"")}},44258:(e,t,i)=>{i.d(t,{I:()=>r});var o=i(59452),n=i(7769),s=i(98543);class r extends o.A{renderLayers(){return[new s.A(Object.assign({},this.props,{id:this.props.id+"-ScatterplotLayer",data:this.props.data})),new n.A(Object.assign({},this.props,{id:this.props.id+"-LineLayer",data:this.props.data,pickable:!1,getSourcePosition:e=>{let{position:t}=e;return[t[0],t[1],0]},getTargetPosition:e=>{let{position:t}=e;return[t[0],t[1],t[2]||0]},getColor:[150,150,150,200],getStrokeWidth:3}))]}}r.layerName="ElevatedEditHandleLayer",r.defaultProps={}},44375:(e,t,i)=>{i.d(t,{n:()=>n});var o=i(15530);class n extends o.b{}},49435:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var o=i(90823),n=i(74848),s=i(28453),r=i(84028);const a={},l="Advanced",d={},c=[];function p(e){const t={h1:"h1",header:"header",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"advanced",children:"Advanced"})}),"\n","\n",(0,n.jsx)(r.A,{})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},49542:(e,t,i)=>{i.d(t,{U:()=>s});var o=i(6701),n=i(15530);class s extends n.b{constructor(e){super(),this._handler=e}_getSnappedMouseEvent(e,t,i){return Object.assign(e,{mapCoords:i.geometry.coordinates,pointerDownMapCoords:t&&t.geometry.coordinates})}_getPickedSnapTarget(e){return(0,o.c0)(e).find(e=>"snap-target"===e.properties.editHandleType)}_getPickedSnapSource(e){return(0,o.UP)(e)}_getUpdatedSnapSourceHandle(e,t){const{featureIndex:i,positionIndexes:o}=e.properties;if(!Array.isArray(o))return e;const n=t.features[i],s=o.reduce((e,t)=>e[t],n.geometry.coordinates);return Object.assign({},e,{geometry:{type:"Point",coordinates:s}})}_getSnapTargets(e){let{additionalSnapTargets:t}=e.modeConfig||{};t=t||[];return[...e.data.features,...t]}_getSnapTargetHandles(e){const t=[],i=this._getSnapTargets(e);for(let n=0;n<i.length;n++){if(!e.selectedIndexes.includes(n)){const{geometry:e}=i[n];t.push(...(0,o.jb)(e,n,"snap-target"))}}return t}getGuides(e){const{modeConfig:t,lastPointerMoveEvent:i}=e,{enableSnapping:n}=t||{},s={type:"FeatureCollection",features:[...this._handler.getGuides(e).features]};if(!n)return s;const r=i&&this._getPickedSnapSource(i.pointerDownPicks);if(r)return s.features.push(...this._getSnapTargetHandles(e),this._getUpdatedSnapSourceHandle(r,e.data)),s;const{features:a}=e.data;for(const l of e.selectedIndexes)if(l<a.length){const{geometry:e}=a[l];s.features.push(...(0,o.jb)(e,l,"snap-source"))}return s}_getSnapAwareEvent(e,t){const i=this._getPickedSnapSource(t.lastPointerMoveEvent.pointerDownPicks),o=this._getPickedSnapTarget(e.picks);return i&&o?this._getSnappedMouseEvent(e,i,o):e}handleStartDragging(e,t){this._handler.handleStartDragging(e,t)}handleStopDragging(e,t){this._handler.handleStopDragging(this._getSnapAwareEvent(e,t),t)}handleDragging(e,t){this._handler.handleDragging(this._getSnapAwareEvent(e,t),t)}handlePointerMove(e,t){this._handler.handlePointerMove(this._getSnapAwareEvent(e,t),t)}}},50340:(e,t,i)=>{i.d(t,{Vi:()=>o,lP:()=>n});const o={LIGHT:"https://deck.gl/mapstyle/deck-light.json",LIGHT_LABEL:"https://basemaps.cartocdn.com/gl/positron-gl-style/style.json",DARK:"https://deck.gl/mapstyle/deck-dark.json",BLANK:{version:8,sources:{},layers:[]}},n="https://github.com/visgl/deck.gl-community/tree/master"},50907:(e,t,i)=>{i.d(t,{U:()=>d});var o=i(31234),n=i(30669),s=i(53416),r=i(93279),a=i(15530),l=i(78990);class d extends l.g{getTwoClickPolygon(e,t,i){const l=Math.min(e[0],t[0]),d=Math.min(e[1],t[1]),c=Math.max(e[0],t[0]),p=Math.max(e[1],t[1]),h=(0,o.A)([l,d,c,p]).geometry.coordinates[0],g=(0,a.T)(e,t),u=Math.max((0,n.A)((0,r.zx)(h[0]),(0,r.zx)(h[1])),.001),m=Math.max((0,n.A)((0,r.zx)(h[0]),(0,r.zx)(h[3])),.001),f=(0,s.A)(g,u,m);return f.properties=f.properties||{},f.properties.editProperties=f.properties.editProperties||{},f.properties.editProperties.shape="Ellipse",f.properties.editProperties.xSemiAxis={value:u,unit:"kilometers"},f.properties.editProperties.ySemiAxis={value:m,unit:"kilometers"},f.properties.editProperties.angle=0,f.properties.editProperties.center=g,f}}},51527:(e,t,i)=>{i.d(t,{G:()=>a});var o=i(68550),n=i.n(o),s=i(6701),r=i(26443);class a extends r.c{constructor(){super(...arguments),this.handleDraggingThrottled=null}handleClick(e,t){}handleStartDragging(e,t){e.cancelPan(),t.modeConfig&&t.modeConfig.throttleMs?this.handleDraggingThrottled=n()(this.handleDraggingAux,t.modeConfig.throttleMs):this.handleDraggingThrottled=this.handleDraggingAux}handleStopDragging(e,t){this.addClickSequence(e);const i=this.getClickSequence();if(this.handleDraggingThrottled&&this.handleDraggingThrottled.cancel&&this.handleDraggingThrottled.cancel(),i.length>2){const e={type:"Polygon",coordinates:[[...i,i[0]]]},o=this.getAddFeatureOrBooleanPolygonAction(e,t);o&&t.onEdit(o)}this.resetClickSequence()}handleDraggingAux(e,t){const{picks:i}=e;(0,s.ZC)(i)||(this.addClickSequence(e),t.onEdit({updatedData:t.data,editType:"addTentativePosition",editContext:{position:e.mapCoords}}))}handleDragging(e,t){this.handleDraggingThrottled&&this.handleDraggingThrottled(e,t)}handleKeyUp(e,t){if("Enter"===e.key){const e=this.getClickSequence();if(e.length>2){const i={type:"Polygon",coordinates:[[...e,e[0]]]};this.resetClickSequence();const o=this.getAddFeatureOrBooleanPolygonAction(i,t);o&&t.onEdit(o)}}else"Escape"===e.key&&(this.resetClickSequence(),this.handleDraggingThrottled&&(this.handleDraggingThrottled=null),t.onEdit({updatedData:t.data,editType:"cancelFeature",editContext:{}}))}}},53736:(e,t,i)=>{i.d(t,{Y:()=>n});const o={};function n(e,t){let i=0;o[e]&&o[e].terminate();const n=new Worker(e);o[e]=n;let s=[];n.onmessage=e=>{const{action:i,data:o,meta:r}=e.data;"end"===i?n.terminate():"add"===i&&o&&o.length&&(s=s.concat(o),t(s,r))},this.onProgress=e=>{const{responseText:t}=e.target,o=t.lastIndexOf("\n")+1;n.postMessage({event:"progress",text:t.slice(i,o)}),i=o},this.onLoad=e=>{const{responseText:t}=e;n.postMessage({event:"load",text:t.slice(i)})}}},54957:e=>{e.exports=JSON.parse('{"type":"FeatureCollection","features":[{"type":"Feature","properties":{"marker-color":"#ff0000","marker-size":"medium","marker-symbol":""},"geometry":{"type":"Point","coordinates":[-122.44477272033691,37.79906910652822]}},{"type":"Feature","properties":{"marker-color":"#0000ff","marker-size":"large","marker-symbol":""},"geometry":{"type":"Point","coordinates":[-122.42451667785645,37.8019175085504]}},{"type":"Feature","properties":{"marker-size":"small"},"geometry":{"type":"MultiPoint","coordinates":[[-122.46923446655273,37.803273851858656],[-122.46957778930665,37.79934038764369],[-122.46434211730958,37.80313821864869],[-122.46451377868652,37.8001542250124]]}},{"type":"Feature","properties":{"stroke":"#ff0000","stroke-width":10,"stroke-opacity":1},"geometry":{"type":"LineString","coordinates":[[-122.40880966186523,37.783536601521924],[-122.43893623352051,37.779669924659004],[-122.43515968322752,37.7624370109886],[-122.42348670959471,37.77180027337861],[-122.4250316619873,37.778584505321376],[-122.42314338684082,37.778652344496926],[-122.42357254028322,37.77987343901049],[-122.41198539733887,37.78109451335266]]}},{"type":"Feature","properties":{"stroke":"#408000","stroke-width":2,"stroke-opacity":1},"geometry":{"type":"MultiLineString","coordinates":[[[-122.39670753479004,37.7947284731866],[-122.44726181030273,37.788352705583755]],[[-122.44709014892577,37.78733524495977],[-122.39670753479004,37.79371110035437]]]}},{"type":"Feature","properties":{"stroke":"#800000","stroke-width":3,"stroke-opacity":0.5,"fill":"#ffff66","fill-opacity":1},"geometry":{"type":"Polygon","coordinates":[[[-122.51129150390625,37.771461045439764],[-122.46588706970215,37.77342854582093],[-122.45464324951172,37.77471756940714],[-122.45284080505371,37.76644028998291],[-122.45747566223145,37.765761783370465],[-122.45902061462401,37.76644028998291],[-122.5100040435791,37.763997637045456],[-122.51026153564452,37.767254489700846],[-122.51129150390625,37.771461045439764]],[[-122.50802993774414,37.770239811973674],[-122.45644569396974,37.77302148107203],[-122.45515823364258,37.76759373693769],[-122.45884895324706,37.76847577247014],[-122.50811576843262,37.765693932366865],[-122.50802993774414,37.770239811973674]]]}},{"type":"Feature","properties":{"stroke":"#004080","stroke-width":2,"stroke-opacity":1,"fill":"#66ff66","fill-opacity":0.5},"geometry":{"type":"MultiPolygon","coordinates":[[[[-122.4717664718628,37.73094604426975],[-122.47253894805908,37.71706268973759],[-122.47116565704346,37.71275119199666],[-122.47017860412596,37.71275119199666],[-122.46803283691405,37.712411693330296],[-122.46524333953857,37.712445643266925],[-122.46339797973633,37.71146108878938],[-122.46026515960692,37.71037466866717],[-122.45494365692137,37.7111215842122],[-122.44975090026854,37.71533133102705],[-122.4481201171875,37.72123815310796],[-122.45236873626708,37.723037263958275],[-122.4605655670166,37.72480238685191],[-122.46584415435791,37.72670324138648],[-122.46803283691405,37.72863798965106],[-122.468204498291,37.72938472107615],[-122.4717664718628,37.73094604426975]]],[[[-122.435245513916,37.73155698786267],[-122.42983818054199,37.73237157147889],[-122.42563247680664,37.73155698786267],[-122.42048263549805,37.73182851673044],[-122.41559028625487,37.732100044602525],[-122.40846633911133,37.73488314788311],[-122.40752220153807,37.73732676207096],[-122.40769386291502,37.74173863896063],[-122.4052906036377,37.74920429313147],[-122.4085521697998,37.748322027789115],[-122.42511749267578,37.74777909004261],[-122.42374420166016,37.73977029560411],[-122.42683410644533,37.73603708685575],[-122.435245513916,37.73155698786267]]],[[[-122.49532699584961,37.75347973770911],[-122.493953704834,37.73379707124429],[-122.4752426147461,37.73488314788311],[-122.47644424438477,37.75429408009598],[-122.49532699584961,37.75347973770911]]]]}}]}')},55797:(e,t,i)=>{i.d(t,{IP:()=>o,eK:()=>s,ee:()=>n});const o={NONE:0,FORWARD:1,BACKWARD:2,BOTH:3},n=3,s={arrowColor:[0,0,0,1],arrowCount:1,arrowStyle:o.NONE,fillColor:[0,0,0,1],lineColor:[0,0,0,1],lineWidthMeters:5,outlineRadiusMeters:0,opacity:1,zLevel:0}},55857:(e,t,i)=>{i.d(t,{a:()=>o});const o=2/3},57276:(e,t,i)=>{i.d(t,{L:()=>a});var o=i(30669),n=i(33922),s=i(6701),r=i(15530);class a extends r.b{constructor(){super(...arguments),this._isMeasuringSessionFinished=!1,this._currentTooltips=[],this._currentDistance=0,this._calculateDistanceForTooltip=e=>{let{positionA:t,positionB:i,modeConfig:n}=e;const{turfOptions:s,measurementCallback:r}=n||{},a=(0,o.A)(t,i,s);return r&&r(a),a}}_formatTooltip(e,t){const{formatTooltip:i,turfOptions:o}=t||{},n=o&&o.units||"kilometers";let s;return s=i?i(e):parseFloat(e).toFixed(2)+" "+n,s}handleClick(e,t){const{modeConfig:i,data:o,onEdit:r}=t,{centerTooltipsOnLine:a=!1}=i||{};this._isMeasuringSessionFinished&&(this._isMeasuringSessionFinished=!1,this.resetClickSequence(),this._currentTooltips=[],this._currentDistance=0);const{picks:l}=e,d=(0,s.ZC)(l);let c=!1;d||(this.addClickSequence(e),c=!0);const p=this.getClickSequence();if(p.length>1&&d&&Array.isArray(d.properties.positionIndexes)&&d.properties.positionIndexes[0]===p.length-1)this._isMeasuringSessionFinished=!0;else if(c){if(p.length>1){this._currentDistance+=this._calculateDistanceForTooltip({positionA:p[p.length-2],positionB:p[p.length-1],modeConfig:i});const t=a?(0,n.A)(p[p.length-2],p[p.length-1]).geometry.coordinates:e.mapCoords;this._currentTooltips.push({position:t,text:this._formatTooltip(this._currentDistance,i)})}r({updatedData:o,editType:"addTentativePosition",editContext:{position:e.mapCoords}})}}handleKeyUp(e,t){if(this._isMeasuringSessionFinished)return;e.stopPropagation();const{key:i}=e,o=this.getClickSequence().length;switch(i){case"Escape":this._isMeasuringSessionFinished=!0,1===o&&(this.resetClickSequence(),this._currentTooltips=[]),t.onUpdateCursor("cell");break;case"Enter":this.handleClick(t.lastPointerMoveEvent,t),this._isMeasuringSessionFinished=!0}}getGuides(e){const{lastPointerMoveEvent:t}=e,i=this.getClickSequence(),o=t&&!this._isMeasuringSessionFinished?[t.mapCoords]:[],n={type:"FeatureCollection",features:[]};i.length>0&&n.features.push({type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[...i,...o]}});const s=i.map((e,t)=>({type:"Feature",properties:{guideType:"editHandle",editHandleType:"existing",featureIndex:-1,positionIndexes:[t]},geometry:{type:"Point",coordinates:e}}));return n.features.push(...s),n}handlePointerMove(e,t){t.onUpdateCursor("cell")}getTooltips(e){const{lastPointerMoveEvent:t,modeConfig:i}=e,{centerTooltipsOnLine:o=!1}=i||{},s=this.getClickSequence();if(s.length>0&&t&&!this._isMeasuringSessionFinished){const r=this._calculateDistanceForTooltip({positionA:s[s.length-1],positionB:t.mapCoords,modeConfig:e.modeConfig}),a=o?(0,n.A)(s[s.length-1],t.mapCoords).geometry.coordinates:t.mapCoords;return[...this._currentTooltips,{position:a,text:this._formatTooltip(this._currentDistance+r,i)}]}return this._currentTooltips}}},57576:(e,t,i)=>{i.d(t,{V:()=>l});var o=i(31234),n=i(30669),s=i(20491),r=i(93279),a=i(78990);class l extends a.g{getTwoClickPolygon(e,t,i){const a=[t[0],e[1]],l=[e[0],t[1]],d=(0,n.A)((0,r.zx)(a),(0,r.zx)(e)),c=(0,n.A)((0,r.zx)(l),(0,r.zx)(e)),p=d<=c?d:c,h=d<=c?a:l,g=(0,r.wi)([h,t]),u=(0,s.A)(g,p).geometry.coordinates,m=(0,o.A)([e[0],e[1],u[0],u[1]]);return m.properties=m.properties||{},m.properties.shape="Square",m}}},57638:(e,t,i)=>{i.d(t,{u:()=>a});var o=i(93279),n=i(6701),s=i(15530),r=i(24164);class a extends s.b{getGuides(e){const t=[],{data:i,lastPointerMoveEvent:s}=e,{features:r}=i,a=s&&s.picks,l=s&&s.mapCoords;for(const o of e.selectedIndexes)if(o<r.length){const{geometry:e}=r[o];t.push(...(0,n.jb)(e,o))}else console.warn("selectedFeatureIndexes out of range "+o);if(a&&a.length&&l){var d;const i=!(0,n.G6)(a)&&a.find(e=>!e.isGuide);if(i&&!i.object.geometry.type.includes("Point")&&(null==(d=e.modeConfig)||!d.lockRectangles||"Rectangle"!==i.object.properties.shape)&&e.selectedIndexes.includes(i.index)){let s=null,r=[];const a=(0,o.zx)(l);if((0,n.FN)(i.object.geometry.coordinates,[],(t,i)=>{const n=(0,o.wi)(t),l=this.getNearestPoint(n,a,e.modeConfig&&e.modeConfig.viewport);(!s||l.properties.dist<s.properties.dist)&&(s=l,r=i)}),s){const{geometry:{coordinates:e},properties:{index:o}}=s;t.push({type:"Feature",properties:{guideType:"editHandle",editHandleType:"intermediate",featureIndex:i.index,positionIndexes:[...r,o+1]},geometry:{type:"Point",coordinates:e}})}}}return{type:"FeatureCollection",features:t}}getNearestPoint(e,t,i){const{coordinates:o}=e.geometry;if(o.some(e=>e.length>2)){if(i)return(0,n.mv)(e,t,i);console.log("Editing 3D point but modeConfig.viewport not provided. Falling back to 2D logic.")}return(0,n.W1)(e,t,i)}handleClick(e,t){const i=(0,n.G6)(e.picks),o=(0,n.AT)(e.picks);if(i){const{featureIndex:e,positionIndexes:o}=i.properties;let n;try{n=new r.v(t.data).removePosition(e,o).getObject()}catch(a){}n&&t.onEdit({updatedData:n,editType:"removePosition",editContext:{featureIndexes:[e],positionIndexes:o,position:i.geometry.coordinates}})}else if(o){var s;const{featureIndex:e,positionIndexes:i}=o.properties,n=t.data.features[e];if(!(null!=(s=t.modeConfig)&&s.lockRectangles&&"Rectangle"===(null==n?void 0:n.properties.shape))){const n=new r.v(t.data).addPosition(e,i,o.geometry.coordinates).getObject();n&&t.onEdit({updatedData:n,editType:"addPosition",editContext:{featureIndexes:[e],positionIndexes:i,position:o.geometry.coordinates}})}}}handleDragging(e,t){const i=(0,n.ZC)(e.pointerDownPicks);i&&(e.cancelPan(),this._dragEditHandle("movePosition",t,i,e))}_dragEditHandle(e,t,i,o){var s;const a=i.properties,l=t.data.features[a.featureIndex];let d;if(null!=(s=t.modeConfig)&&s.lockRectangles&&"Rectangle"===l.properties.shape){const e=(0,n.Eo)(l,a.positionIndexes[1],o.mapCoords);d=new r.v(t.data).replaceGeometry(a.featureIndex,{coordinates:e,type:"Polygon"}).getObject()}else d=new r.v(t.data).replacePosition(a.featureIndex,a.positionIndexes,o.mapCoords).getObject();t.onEdit({updatedData:d,editType:e,editContext:{featureIndexes:[a.featureIndex],positionIndexes:a.positionIndexes,position:o.mapCoords}})}handlePointerMove(e,t){const i=this.getCursor(e);t.onUpdateCursor(i)}handleStartDragging(e,t){(0,n.Fv)(e)&&e.cancelPan();const i=t.selectedIndexes,o=(0,n.AT)(e.picks);if(i.length&&o){const i=o.properties,n=new r.v(t.data).addPosition(i.featureIndex,i.positionIndexes,e.mapCoords).getObject();t.onEdit({updatedData:n,editType:"addPosition",editContext:{featureIndexes:[i.featureIndex],positionIndexes:i.positionIndexes,position:e.mapCoords}})}}handleStopDragging(e,t){const i=t.selectedIndexes,o=(0,n.ZC)(e.picks);i.length&&o&&this._dragEditHandle("finishMovePosition",t,o,e)}getCursor(e){const t=e&&e.picks||[];return(0,n.c0)(t).length?"cell":null}}},61631:(e,t,i)=>{i.d(t,{mg:()=>o,nc:()=>n});i(96558),i(67604),i(17885),i(93279),i(87531);function o(e,t){return void 0===t&&(t=[255,0,0,255]),Array.isArray(e)?[255*e[0],255*e[1],255*e[2],255*e[3]]:t}function n(e,t,i){const o=e.indexOf(t);return o<0?e:e.slice(0,o)+i+e.slice(o)}},62881:(e,t,i)=>{i.d(t,{m:()=>n});var o=i(25337);class n extends o.V{constructor(e){void 0===e&&(e={}),super(Object.assign({},e,{attributes:s(e),topology:"triangle-list"}))}}function s(e){let{length:t=1,headSize:i=.2,tailWidth:o=.05,tailStart:n=.05}=e;const s=[.5,1,0,.5-i/2,1-i,0,.5+i/2,1-i,0,.5-o/2,n,0,.5+o/2,1-i,0,.5+o/2,n,0,.5-o/2,n,0,.5-o/2,1-i,0,.5+o/2,1-i,0],r=new Array(s.length);for(let a=0;a<s.length/3;a++){const e=3*a;r[e+0]=(s[e+0]-.5)*t,r[e+1]=(s[e+1]-.5)*t,r[e+2]=0}return{positions:{size:3,value:new Float32Array(r)},normals:{size:3,value:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1])},texCoords:{size:2,value:new Float32Array(s)}}}},63414:(e,t,i)=>{i.d(t,{n:()=>r});var o=i(87597),n=i(54901);function s(e){let{p:t,p1:i,p2:s,clampToLine:r=!0}=e;const a=new o.P(s).subtract(i),l=new o.P(t).subtract(i);let d=a.dot(l);return r&&(d=(0,n.qE)(d,0,1)),a.lerp(i,s,d)}function r(e){let{p:t,points:i}=e;t=new o.P(t);let n=null,r=1/0,a=-1;for(let o=0;o<i.length-1;++o){const e=s({p:t,p1:i[o],p2:i[o+1]}),l=t.distanceSquared(e);l<r&&(r=l,n=e,a=o)}return{point:n,index:a,p1:i[a],p2:i[a+1],distanceSquared:r,distance:Math.sqrt(r)}}},63476:(e,t,i)=>{i.d(t,{A:()=>a});i(96540);var o=i(97639),n=i(2955),s=i(74848);function r(e){let{demo:t}=e;const{siteConfig:{baseUrl:i}}=(0,o.A)(),r=e=>{if(!e||/^(https?:)?\/\//.test(e))return e;return""+(i.endsWith("/")?i:i+"/")+e.replace(/^\//,"")},a=r(t.href),l=r(t.thumbnail);return(0,s.jsxs)(n.P,{href:a,target:"_blank",rel:"noreferrer","aria-label":t.title,children:[(0,s.jsx)("img",{width:"100%",src:l,alt:t.title}),(0,s.jsx)(n.Th,{children:(0,s.jsx)("span",{children:t.title})})]})}function a(e){let{demos:t}=e;return null!=t&&t.length?(0,s.jsx)(n.Z3,{children:(0,s.jsx)(n.hE,{children:t.map(e=>(0,s.jsx)(r,{demo:e},e.id))})}):(0,s.jsx)("p",{className:"margin-bottom--lg",children:"No scripting gallery items are available yet."})}},68368:(e,t,i)=>{var o=i(50172),n=i(66347),s=i(74848);const r={position:"absolute",display:"flex",pointerEvents:"auto",userSelect:"none",zIndex:"99"},a={display:"flex",gap:"6px",background:"rgba(36, 40, 41, 0.88)",borderRadius:"999px",padding:"6px",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.25)"},l={appearance:"none",background:"transparent",border:"none",color:"#f0f0f0",width:"34px",height:"34px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"50%",cursor:"pointer",padding:"0",transition:"background 0.15s ease, color 0.15s ease, box-shadow 0.15s ease"},d={background:"#0071e3",color:"#ffffff",boxShadow:"0 0 0 2px rgba(255, 255, 255, 0.35)"},c={fontSize:"10px",marginTop:"2px",lineHeight:"12px"};class p extends n.x{constructor(e){var t,i,o;void 0===e&&(e={}),super(Object.assign({},p.defaultProps,e)),this.placement="top-left",this.className="deck-widget-edit-mode-tray",this.layout="vertical",this.selectedModeId=null,this.deck=null,this.appliedCustomClassName=null,this.placement=null!=(t=e.placement)?t:p.defaultProps.placement,this.layout=null!=(i=e.layout)?i:p.defaultProps.layout,this.selectedModeId=this.resolveSelectedModeId(null!=(o=e.modes)?o:[],e)}setProps(e){var t,i;void 0!==e.placement&&(this.placement=e.placement),void 0!==e.layout&&(this.layout=e.layout);const o=null!=(t=null!=(i=e.modes)?i:this.props.modes)?t:[];this.selectedModeId=this.resolveSelectedModeId(o,e),super.setProps(e),this.renderTray()}onAdd(e){let{deck:t}=e;this.deck=t}onRemove(){this.deck=null;const e=this.rootElement;e&&(0,o.XX)(null,e),this.rootElement=null}onRenderHTML(e){const t=Object.assign({},r,this.props.style);Object.assign(e.style,t),this.appliedCustomClassName&&this.appliedCustomClassName!==this.props.className&&(e.classList.remove(this.appliedCustomClassName),this.appliedCustomClassName=null),this.props.className&&(e.classList.add(this.props.className),this.appliedCustomClassName=this.props.className),e.classList.add(this.className),this.renderTray()}renderTray(){var e;const t=this.rootElement;if(!t)return;const i=null!=(e=this.props.modes)?e:[],n=this.selectedModeId,r="horizontal"===this.layout?"row":"column",p=Object.assign({},a,{flexDirection:r}),h=e=>{e.stopPropagation(),"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation()},g=(0,s.jsx)("div",{style:p,onPointerDown:h,onPointerMove:h,onPointerUp:h,onMouseDown:h,onMouseMove:h,onMouseUp:h,onTouchStart:h,onTouchMove:h,onTouchEnd:h,children:i.map((e,t)=>{var i,o;const r=this.getModeId(e,t),a=r===n,p=null!=(i=e.label)?i:"",g=null!=(o=e.title)?o:p,u=Object.assign({},l,a?d:{});return(0,s.jsxs)("button",{type:"button",title:g||void 0,"aria-pressed":a,style:u,onClick:t=>{h(t),this.handleSelect(e,r)},children:[e.icon,p?(0,s.jsx)("span",{style:c,children:p}):null]},r)})});(0,o.XX)(g,t)}handleSelect(e,t){var i,o;this.selectedModeId!==t&&(this.selectedModeId=t,this.renderTray()),null==(i=(o=this.props).onSelectMode)||i.call(o,{id:t,mode:e.mode,option:e})}resolveSelectedModeId(e,t){var i,o,n;if(void 0!==t.selectedModeId)return t.selectedModeId;const s=null!=(i=null!=(o=t.activeMode)?o:null==(n=this.props)?void 0:n.activeMode)?i:null;if(s){const t=this.findOptionByMode(e,s);if(t)return this.getModeId(t.option,t.index)}if(this.selectedModeId){if(this.findOptionById(e,this.selectedModeId))return this.selectedModeId}const r=e[0];return r?this.getModeId(r,0):null}findOptionByMode(e,t){for(let i=0;i<e.length;i++){const o=e[i];if(o.mode===t)return{option:o,index:i};if(this.isSameMode(o.mode,t))return{option:o,index:i}}return null}findOptionById(e,t){for(let i=0;i<e.length;i++)if(this.getModeId(e[i],i)===t)return{option:e[i],index:i};return null}getModeId(e,t){if(e.id)return e.id;const i=e.mode;if(i){if("function"==typeof i&&i.name)return i.name;if(i&&i.constructor&&i.constructor.name)return i.constructor.name}return"mode-"+t}isSameMode(e,t){if(e===t)return!0;const i=null==e?void 0:e.constructor,o=null==t?void 0:t.constructor;return Boolean(i&&o&&i===o)}}p.defaultProps={id:"edit-mode-tray",placement:"top-left",layout:"vertical",modes:[],style:{},className:""}},72721:(e,t,i)=>{i.d(t,{f:()=>a});var o=i(67604),n=i(6701),s=i(57638),r=i(24164);class a extends s.u{constructor(){super(...arguments),this.isPointAdded=!1}handleDragging(e,t){const i=(0,n.ZC)(e.pointerDownPicks);if(i){const{featureIndex:o}=i.properties;let{positionIndexes:s}=i.properties;const a=this.coordinatesSize(s,o,t.data);s=this.isPointAdded?this.nextPositionIndexes(s,a):s;const l=this.getPointForPositionIndexes(this.prevPositionIndexes(s,a),o,t.data),d=this.getPointForPositionIndexes(s,o,t.data);if(l&&d){const[i,c]=(0,n.YO)(l,d,e.mapCoords),p=new r.v(t.data).replacePosition(o,this.prevPositionIndexes(s,a),c).replacePosition(o,s,i).getObject();t.onEdit({updatedData:p,editType:"extruding",editContext:{featureIndexes:[o],positionIndexes:this.nextPositionIndexes(s,a),position:i}}),e.cancelPan()}}}handleStartDragging(e,t){(0,n.Fv)(e)&&e.cancelPan();const i=t.selectedIndexes,o=(0,n.AT)(e.picks);if(i.length&&o){const{positionIndexes:e,featureIndex:i}=o.properties,n=this.coordinatesSize(e,i,t.data),s=this.getPointForPositionIndexes(this.prevPositionIndexes(e,n),i,t.data),a=this.getPointForPositionIndexes(e,i,t.data);if(s&&a){let o=new r.v(t.data);this.isOrthogonal(e,i,n,t.data)||(o=o.addPosition(i,e,a)),this.isOrthogonal(this.prevPositionIndexes(e,n),i,n,t.data)||(o=o.addPosition(i,e,s),this.isPointAdded=!0),t.onEdit({updatedData:o.getObject(),editType:"startExtruding",editContext:{featureIndexes:[i],positionIndexes:e,position:s}})}}}handleStopDragging(e,t){const i=t.selectedIndexes,o=(0,n.ZC)(e.pointerDownPicks);if(i.length&&o){const{featureIndex:i}=o.properties;let{positionIndexes:s}=o.properties;const a=this.coordinatesSize(s,i,t.data);s=this.isPointAdded?this.nextPositionIndexes(s,a):s;const l=this.getPointForPositionIndexes(this.prevPositionIndexes(s,a),i,t.data),d=this.getPointForPositionIndexes(s,i,t.data);if(l&&d){const[o,c]=(0,n.YO)(l,d,e.mapCoords),p=new r.v(t.data).replacePosition(i,this.prevPositionIndexes(s,a),c).replacePosition(i,s,o).getObject();t.onEdit({updatedData:p,editType:"extruded",editContext:{featureIndexes:[i],positionIndexes:s,position:o}})}}this.isPointAdded=!1}coordinatesSize(e,t,i){let{features:o}=i,n=0;if(Array.isArray(e)){const i=o[t].geometry.coordinates;if(3===e.length){const[t,o]=e;i.length&&i[t].length&&(n=i[t][o].length)}else{const[t]=e;i.length&&i[t].length&&(n=i[t].length)}}return n}getBearing(e,t){const i=(0,o.A)(e,t);return i<0?Math.floor(360+i):Math.floor(i)}isOrthogonal(e,t,i,o){if(!Array.isArray(e))return!1;e[e.length-1]===i-1&&(e[e.length-1]=0);const n=this.getPointForPositionIndexes(this.prevPositionIndexes(e,i),t,o),s=this.getPointForPositionIndexes(this.nextPositionIndexes(e,i),t,o),r=this.getPointForPositionIndexes(e,t,o),a=this.getBearing(r,n),l=this.getBearing(r,s);return[89,90,91,269,270,271].includes(Math.abs(a-l))}nextPositionIndexes(e,t){if(!Array.isArray(e))return[];const i=[...e];return i.length&&(i[i.length-1]=i[i.length-1]===t-1?0:i[i.length-1]+1),i}prevPositionIndexes(e,t){if(!Array.isArray(e))return[];const i=[...e];return i.length&&(i[i.length-1]=0===i[i.length-1]?t-2:i[i.length-1]-1),i}getPointForPositionIndexes(e,t,i){let o,{features:n}=i;if(Array.isArray(e)){const i=n[t].geometry.coordinates;if(3===e.length){const[t,n,s]=e;i.length&&i[t].length&&(o=i[t][n][s])}else{const[t,n]=e;i.length&&i[t].length&&(o=i[t][n])}}return o}}},72840:(e,t,i)=>{i.d(t,{Av:()=>d,M0:()=>r,_w:()=>s,wq:()=>l,xw:()=>a});var o=i(38267),n=i(84930);const s=o.Ay.div.withConfig({displayName:"styled__PanelContainer",componentId:"sc-oqnqzc-0"})(["font-size:14px;position:absolute;top:0;right:0;width:344px;background:var(--ifm-background-surface-color);box-shadow:var(--ifm-global-shadow-lw);margin:24px;padding:10px 24px;max-height:96%;overflow-x:hidden;overflow-y:auto;overflow-y:overlay;outline:none;z-index:1;","{width:auto;left:0;}"],n.F),r=o.Ay.div.withConfig({displayName:"styled__PanelExpander",componentId:"sc-oqnqzc-1"})(["display:none;width:16px;height:16px;font-family:serif;font-size:0.8em;text-align:center;line-height:16px;border-radius:50%;background:",";color:",";","{display:block;}"],e=>e.$expanded?"none":"var(--ifm-color-gray-900)",e=>e.$expanded?"var(--ifm-color-black)":"var(--ifm-color-white)",n.F),a=o.Ay.div.withConfig({displayName:"styled__PanelTitle",componentId:"sc-oqnqzc-2"})(["display:flex;align-items:center;justify-content:space-between;font:bold 1.25em var(--ifm-font-family-base);margin:8px 0;","{cursor:pointer;}"],n.F),l=o.Ay.div.withConfig({displayName:"styled__PanelContent",componentId:"sc-oqnqzc-3"})(["div > *{vertical-align:middle;white-space:nowrap;}div > label{display:inline-block;width:40%;margin-right:10%;color:var(--ifm-color-content-secondary);margin-top:2px;margin-bottom:2px;}div > input,div > a,div > button,div > select{font:normal 11px/16px var(--ifm-font-family-base);line-height:20px;text-transform:none;text-overflow:ellipsis;overflow:hidden;display:inline-block;padding:0 4px;width:50%;height:20px;text-align:left;}div > button{color:initial;}div > button:disabled{color:var(--ifm-color-gray-300);cursor:default;background:var(--ifm-color-gray-300);}div > input{border:solid 1px var(--ifm-color-gray-300);&:disabled{background:var(--ifm-color-white);}&[type='checkbox']{height:auto;}}p{margin-bottom:12px;white-space:initial;}","{display:",";}"],n.F,e=>e.$expanded?"block":"none"),d=o.Ay.a.withConfig({displayName:"styled__SourceLink",componentId:"sc-oqnqzc-4"})(["display:block;text-align:right;margin-top:8px;font:bold 12px/20px var(--ifm-font-family-base);color:var(--ifm-color-content-secondary);","{display:",";}"],n.F,e=>e.$expanded?"block":"none")},74420:(e,t,i)=>{i.d(t,{C$:()=>l.C,DS:()=>C.D,Dr:()=>p.D,Dx:()=>O.D,E6:()=>S.E,G2:()=>F.G,GN:()=>c.G,H2:()=>L.H,IM:()=>r.I,Jt:()=>T.J,L6:()=>I.L,O1:()=>d.O,O5:()=>k.O,OH:()=>w.O,Sn:()=>o.S,Tp:()=>n.T,UD:()=>D.U,UP:()=>j.U,UX:()=>z.U,Vv:()=>P.V,X5:()=>g.X,Zy:()=>A.Z,_C:()=>y._,cR:()=>v.c,cW:()=>s.c,fb:()=>m.f,hP:()=>M.h,hh:()=>b.h,i_:()=>x.i,l$:()=>f.l,ls:()=>h.l,m0:()=>u.m,nE:()=>E.n,uq:()=>a.u,vX:()=>_.v});i(55797);var o=i(30337),n=(i(76525),i(15562),i(23799),i(16293),i(84905),i(61631),i(83322)),s=(i(10935),i(4892)),r=i(44258),a=(i(68368),i(99800),i(6701),i(15530),i(57638)),l=i(78219),d=i(89784),c=i(78400),p=i(96161),h=i(93173),g=i(5331),u=i(17379),m=i(72721),f=i(13243),y=i(19474),x=i(99035),C=i(23373),v=i(26443),b=i(21518),P=i(57576),S=i(89943),w=i(93193),k=i(10523),A=i(1108),j=i(50907),M=i(35667),D=i(10708),T=i(18547),F=i(51527),E=i(44375),I=i(57276),_=i(25946),O=i(3196),L=i(19143),z=i(49542)},76525:(e,t,i)=>{i.d(t,{B:()=>s});var o=i(30228),n=i(18562);class s extends o.EventEmitter{constructor(e){let{getData:t,on:i,toNebulaFeature:o}=e;super(),this.usesMapEvents=!1,this.enablePicking=!1,this.enableSelection=!1,this.id=(0,n.A)(),this.getData=t,this.toNebulaFeature=o,this.helperLayers=[],i&&Object.keys(i).forEach(e=>this.on(e,i[e]))}render(e){return null}}},78219:(e,t,i)=>{i.d(t,{C:()=>p});var o=i(37028),n=i(93279),s=i(96338),r=i(30669),a=i(25903),l=i(6701),d=i(15530),c=i(24164);class p extends d.b{constructor(){super(...arguments),this._isResizing=!1}getGuides(e){const t=[],i=e.selectedIndexes,{lastPointerMoveEvent:o}=e,s=o&&o.picks,r=o&&o.mapCoords;if(s&&s.length&&r&&1===i.length&&!this._isResizing){const i=s.find(e=>!e.isGuide);if(i&&i.object.properties.shape&&i.object.properties.shape.includes("Circle")&&e.selectedIndexes.includes(i.index)){let o=null,s=[];const a=(0,n.zx)(r);if((0,l.FN)(i.object.geometry.coordinates,[],(t,i)=>{const r=(0,n.wi)(t),l=this.getNearestPoint(r,a,e.modeConfig&&e.modeConfig.viewport);(!o||l.properties.dist<o.properties.dist)&&(o=l,s=i)}),o){const{geometry:{coordinates:e},properties:{index:n}}=o;t.push({type:"Feature",properties:{guideType:"editHandle",editHandleType:"intermediate",featureIndex:i.index,positionIndexes:[...s,n+1]},geometry:{type:"Point",coordinates:e}})}}}return{type:"FeatureCollection",features:t}}getNearestPoint(e,t,i){const{coordinates:n}=e.geometry;if(n.some(e=>e.length>2)){if(i)return(0,l.mv)(e,t,i);console.log("Editing 3D point but modeConfig.viewport not provided. Falling back to 2D logic.")}return(0,o.A)(e,t)}handleDragging(e,t){const i=(0,l.ZC)(e.pointerDownPicks);if(i){e.cancelPan();const o=i.properties,n=this.getSelectedFeature(t),l=(0,a.A)(n).geometry.coordinates,d=Object.entries(n.geometry.coordinates[0]).length-1,p=Math.max((0,r.A)(l,e.mapCoords),.001),{steps:h=d}={},g={steps:h},u=(0,s.A)(l,p,g).geometry,m=new c.v(t.data).replaceGeometry(o.featureIndex,u).getObject();t.onEdit({updatedData:m,editType:"unionGeometry",editContext:{featureIndexes:[o.featureIndex]}})}}handlePointerMove(e,t){if(!this._isResizing){const t=(0,l.ZC)(e.picks);this._selectedEditHandle=t&&"intermediate"===t.properties.editHandleType?t:null}const i=this.getCursor(e);t.onUpdateCursor(i)}handleStartDragging(e,t){this._selectedEditHandle&&(e.cancelPan(),this._isResizing=!0)}handleStopDragging(e,t){this._isResizing&&(this._selectedEditHandle=null,this._isResizing=!1)}getCursor(e){const t=e&&e.picks||[];return(0,l.c0)(t).length?"cell":null}}},78400:(e,t,i)=>{i.d(t,{G:()=>f});var o=i(75917),n=i(17450),s=i(67604),r=i(31234),a=i(93279),l=i(65875),d=i(29987),c=i(30669),p=i(91349),h=i(45046),g=i(6701),u=i(15530),m=i(24164);class f extends u.b{constructor(){super(...arguments),this._cornerGuidePoints=[],this._isScaling=!1,this._isSinglePointGeometrySelected=e=>{const{features:t}=e||{};if(Array.isArray(t)&&1===t.length){const{type:e}=(0,h.bg)(t[0]);return"Point"===e}return!1},this._getOppositeScaleHandle=e=>{const t=e&&e.properties&&Array.isArray(e.properties.positionIndexes)&&e.properties.positionIndexes[0];if("number"!=typeof t)return null;const i=this._cornerGuidePoints.length,o=(t+i/2)%i;return this._cornerGuidePoints.find(e=>!!Array.isArray(e.properties.positionIndexes)&&e.properties.positionIndexes[0]===o)||null},this._getUpdatedData=(e,t)=>{let i=new m.v(e.data);const o=e.selectedIndexes;for(let n=0;n<o.length;n++){const e=o[n],s=t.features[n];i=i.replaceGeometry(e,s.geometry)}return i.getObject()},this.isEditHandleSelected=()=>Boolean(this._selectedEditHandle),this.getScaleAction=(e,t,i,o)=>{if(!this._selectedEditHandle)return null;const n=this._getOppositeScaleHandle(this._selectedEditHandle),s=(0,h.uG)(n),r=function(e,t,i){const o=(0,c.A)(e,t),n=(0,c.A)(e,i);return n/o}(s,e,t),a=(0,p.A)(this._geometryBeingScaled,r,{origin:s});return{updatedData:this._getUpdatedData(o,a),editType:i,editContext:{featureIndexes:o.selectedIndexes}}},this.updateCursor=e=>{if(this._selectedEditHandle){this._cursor&&e.onUpdateCursor(this._cursor);const t=this.getSelectedFeaturesAsFeatureCollection(e),i=(0,n.A)(t),o=(0,s.A)(i,this._selectedEditHandle),r=o<0?o+180:o;r>=0&&r<=90||r>=180&&r<=270?(this._cursor="nesw-resize",e.onUpdateCursor("nesw-resize")):(this._cursor="nwse-resize",e.onUpdateCursor("nwse-resize"))}else e.onUpdateCursor(null),this._cursor=null}}handlePointerMove(e,t){if(!this._isScaling){const i=(0,g.ZC)(e.picks);this._selectedEditHandle=i&&"scale"===i.properties.editHandleType?i:null,this.updateCursor(t)}}handleStartDragging(e,t){this._selectedEditHandle&&(e.cancelPan(),this._isScaling=!0,this._geometryBeingScaled=this.getSelectedFeaturesAsFeatureCollection(t))}handleDragging(e,t){if(!this._isScaling)return;t.onUpdateCursor(this._cursor);const i=this.getScaleAction(e.pointerDownMapCoords,e.mapCoords,"scaling",t);i&&t.onEdit(i),e.cancelPan()}handleStopDragging(e,t){if(this._isScaling){const i=this.getScaleAction(e.pointerDownMapCoords,e.mapCoords,"scaled",t);i&&t.onEdit(i),t.onUpdateCursor(null),this._geometryBeingScaled=null,this._selectedEditHandle=null,this._cursor=null,this._isScaling=!1}}getGuides(e){this._cornerGuidePoints=[];const t=this.getSelectedFeaturesAsFeatureCollection(e);if(this._isSinglePointGeometrySelected(t))return{type:"FeatureCollection",features:[]};const i=(0,r.A)((0,o.A)(t));i.properties.mode="scale";const n=[];return(0,d.Fh)(i,(e,t)=>{if(t<4){const i=(0,a.zx)(e,{guideType:"editHandle",editHandleType:"scale",positionIndexes:[t]});n.push(i)}}),this._cornerGuidePoints=n,(0,a.Lr)([(0,l.CN)(i),...this._cornerGuidePoints])}}},78532:(e,t,i)=>{i.d(t,{P:()=>u});var o=i(9350),n=i(59452),s=i(98543),r=i(70761),a=i(22802),l=i(62881),d=i(97874),c=i(63414);const p=r.A,h={mesh:new l.m({headSize:.2,tailWidth:.05})},g=Object.assign({},a.r.defaultProps,{MarkerLayer:p,markerLayerProps:h,sizeScale:100,fp64:!1,highlightIndex:-1,highlightPoint:null,getPath:e=>e.path,getColor:e=>e.color,getMarkerColor:e=>[0,0,0,255],getDirection:e=>e.direction,getMarkerPercentages:(e,t)=>{let{lineLength:i}=t;return i>.1?[.25,.5,.75]:[.5]}});class u extends n.A{constructor(){super(...arguments),this.state=void 0}initializeState(){this.state={markers:[],mesh:new l.m({headSize:.2,tailWidth:.05}),closestPoint:null,closestPoints:[]}}projectFlat(e,t,i,n){if(i===o.rf.METER_OFFSETS){const[i,o]=t.metersToLngLatDelta(e),[s,r]=n;return t.projectFlat([s+i,o+r])}if(i===o.rf.LNGLAT_OFFSETS){const[i,o]=e,[s,r]=n;return t.projectFlat([s+i,o+r])}return t.projectFlat(e)}updateState(e){let{props:t,oldProps:i,changeFlags:o}=e;if(o.dataChanged||o.updateTriggersChanged){const{data:e,getPath:t,getDirection:i,getMarkerColor:o,getMarkerPercentages:n,coordinateSystem:s,coordinateOrigin:r}=this.props,{viewport:a}=this.context,l=e=>this.projectFlat(e,a,s,r);this.state.markers=(0,d.Z)({data:e,getPath:t,getDirection:i,getColor:o,getMarkerPercentages:n,projectFlat:l}),this._recalculateClosestPoint()}o.propsChanged&&t.point!==i.point&&this._recalculateClosestPoint()}_recalculateClosestPoint(){const{highlightPoint:e,highlightIndex:t}=this.props;if(e&&t>=0){const i=this.props.data[t],o=this.props.getPath(i,null),{point:n}=(0,c.n)({points:o,p:e});this.state.closestPoints=[{position:n}]}else this.state.closestPoints=[]}getPickingInfo(e){let{info:t}=e;return Object.assign(t,{object:t.object&&t.object.path||t.object})}renderLayers(){return[new a.r(this.props,this.getSubLayerProps({id:"paths",data:this.props.data})),new this.props.MarkerLayer(this.getSubLayerProps(Object.assign({},this.props.markerLayerProps,{id:"markers",data:this.state.markers,getOrientation:e=>[0,-e.angle,0],getColor:e=>e.color,sizeScale:this.props.sizeScale,fp64:this.props.fp64,pickable:!1,parameters:{blend:!1,depthTest:!1}}))),this.state.closestPoints&&new s.A({id:this.props.id+"-highlight",data:this.state.closestPoints,fp64:this.props.fp64})]}}u.layerName="PathMarkerLayer",u.defaultProps=g},78990:(e,t,i)=>{i.d(t,{g:()=>r});var o=i(15530),n=i(97563),s=i.n(n);class r extends o.b{handleClick(e,t){t.modeConfig&&t.modeConfig.dragToDraw||(this.addClickSequence(e),this.checkAndFinishPolygon(t))}handleStartDragging(e,t){t.modeConfig&&t.modeConfig.dragToDraw&&(this.addClickSequence(e),e.cancelPan())}handleStopDragging(e,t){t.modeConfig&&t.modeConfig.dragToDraw&&(this.addClickSequence(e),this.checkAndFinishPolygon(t))}checkAndFinishPolygon(e){const t=this.getClickSequence(),i=this.getTentativeGuide(e);if(t.length>1&&i&&"Polygon"===i.geometry.type){const t={type:"Feature",properties:s()(i.properties,"guideType"),geometry:{type:"Polygon",coordinates:i.geometry.coordinates}},o=this.getAddFeatureOrBooleanPolygonAction(t,e);this.resetClickSequence(),o&&e.onEdit(o)}}getGuides(e){const{lastPointerMoveEvent:t,modeConfig:i}=e,o=this.getClickSequence(),n={type:"FeatureCollection",features:[]};if(0===o.length||!t)return n;const s=o[0],r=t.mapCoords,a=this.getTwoClickPolygon(s,r,i);return a&&n.features.push({type:"Feature",properties:Object.assign({},a.properties,{guideType:"tentative"}),geometry:a.geometry}),n}getTwoClickPolygon(e,t,i){return null}handlePointerMove(e,t){t.onUpdateCursor("cell"),super.handlePointerMove(e,t)}createTentativeFeature(e){const{lastPointerMoveEvent:t}=e,i=this.getClickSequence(),o=t?[t.mapCoords]:[];let n;return 1===i.length&&(n=this.getTwoClickPolygon(i[0],o[0],e.modeConfig)),n}}},80052:(e,t,i)=>{i.d(t,{Ez:()=>a,OO:()=>r,Wx:()=>d,XX:()=>l,oz:()=>p,tm:()=>g});i(96540);var o=i(38267),n=i(74848);const s={toolboxItem:{flexBasis:"50%"}},r=o.Ay.div.withConfig({displayName:"toolbox__Toolbox",componentId:"sc-1c3nzj2-0"})(["position:absolute;top:0px;left:0px;color:#f0f0f0;padding:0;width:230px;height:100%;font-family:Arial,Helvetica,sans-serif;font-size:16px;overflow:auto;z-index:30;"]),a=e=>(0,n.jsx)("div",{children:e.children}),l=e=>(0,n.jsx)("div",{style:s.toolboxItem,children:e.children}),d=o.Ay.div.withConfig({displayName:"toolbox__ToolboxTitle",componentId:"sc-1c3nzj2-1"})(["background:rgba(39,45,59,0.8);font-size:16px;height:44px;display:flex;align-items:center;padding:0px 8px;"]),c=e=>e.selected?"rgba(30, 84, 183, 0.8)":"rgba(23, 28, 41, 0.8)",p=o.Ay.button.withConfig({displayName:"toolbox__ToolboxButton",componentId:"sc-1c3nzj2-2"})(["display:block;width:100%;border:none;color:#f0f0f0;background:",";text-align:left;font-size:16px;outline:none;height:44px;cursor:pointer;&:hover{background:#276ef1;}"],c),h=o.Ay.div.withConfig({displayName:"toolbox__ToolboxCheckboxContainer",componentId:"sc-1c3nzj2-3"})(["display:flex;align-items:center;width:100%;border:none;color:#f0f0f0;background:",";text-align:left;text-transform:capitalize;font-size:16px;outline:none;height:44px;cursor:pointer;&:hover{background:#276ef1;}"],c),g=e=>(0,n.jsx)("label",{children:(0,n.jsxs)(h,{children:[(0,n.jsx)("input",Object.assign({},Object.assign({},e,{children:null}))),e.children]})})},80839:(e,t,i)=>{i.d(t,{A:()=>k});var o=i(96540),n=i(80951),s=i(45800),r=i(97564),a=i(94090),l=i(96338),d=i(74420),c=i(78532),p=i(54957),h=i(97859),g=i(80052),u=i(74848);const m=new d.H2([new d.DS,new d.uq]),f={mapContainer:{alignItems:"stretch",display:"flex",height:"100vh"},checkbox:{margin:10}},y={bearing:0,height:0,latitude:37.76,longitude:-122.44,pitch:0,width:0,zoom:11},x=[{category:"View",modes:[{label:"View",mode:d.nE},{label:"Measure Distance",mode:d.L6},{label:"Measure Area",mode:d.vX},{label:"Measure Angle",mode:d.Dx}]},{category:"Draw",modes:[{label:"Draw Point",mode:d.i_},{label:"Draw LineString",mode:d.DS},{label:"Draw Polygon",mode:d.cR},{label:"Draw 90\xb0 Polygon",mode:d.Jt},{label:"Draw Polygon By Dragging",mode:d.G2},{label:"Draw Rectangle",mode:d.hh},{label:"Draw Rectangle From Center",mode:d.E6},{label:"Draw Rectangle Using 3 Points",mode:d.UD},{label:"Draw Square",mode:d.Vv},{label:"Draw Square From Center",mode:d.OH},{label:"Draw Circle From Center",mode:d.Zy},{label:"Draw Circle By Diameter",mode:d.O5},{label:"Draw Ellipse By Bounding Box",mode:d.UP},{label:"Draw Ellipse Using 3 Points",mode:d.hP}]},{category:"Alter",modes:[{label:"Modify",mode:d.uq},{label:"Resize Circle",mode:d.C$},{label:"Elevation",mode:d.l$},{label:"Translate",mode:new d.UX(new d.O1)},{label:"Rotate",mode:d.Dr},{label:"Scale",mode:d.GN},{label:"Duplicate",mode:d.ls},{label:"Extend LineString",mode:d.X5},{label:"Extrude",mode:d.fb},{label:"Split",mode:d.m0},{label:"Transform",mode:new d.UX(new d._C)}]},{category:"Composite",modes:[{label:"Draw LineString + Modify",mode:m}]}],C=[d.cR,d.Jt,d.G2,d.hh,d.E6,d.UD,d.Vv,d.OH,d.Zy,d.O5,d.UP,d.hP],v=[d.hh,d.Vv,d.E6,d.OH,d.Zy,d.O5,d.UP],b={type:"FeatureCollection",features:[]};const P=["00AEE4","DAF0E3","9BCC32","07A35A","F7DF90","EA376C","6A126A","FCB09B","B0592D","C1B5E3","9C805B","CCDFE5"].map(function(e){const t=parseInt(e,16);return[16,8,0].map(e=>(t>>e&255)/255)});function S(e){return e.__source?e.__source.object.properties.editHandleType:e.sourceFeature?e.sourceFeature.feature.properties.editHandleType:e.properties?e.properties.editHandleType:e.type}function w(e){switch(S(e)){case"existing":return[255,128,0,255];case"snap-source":return[192,128,240,255];default:return[255,192,128,255]}}class k extends o.Component{constructor(e){super(e),this._onChangeViewport=e=>{this.setState({viewport:Object.assign({},this.state.viewport,e)})},this._onLayerClick=e=>{console.log("onLayerClick",e),this.state.mode!==d.nE||this.state.selectionTool||(e?(console.log("select editing feature "+e.index),this.setState({selectedFeatureIndexes:[e.index]})):(console.log("deselect editing feature"),this.setState({selectedFeatureIndexes:[]})))},this._resize=()=>{this.forceUpdate()},this._loadSample=e=>{if("mixed"===e)this.setState({testFeatures:p,selectedFeatureIndexes:[]});else if("complex"===e)this.setState({testFeatures:{type:"FeatureCollection",features:[(0,l.A)([-122.45,37.81],4,{steps:5e3}),(0,l.A)([-122.33,37.81],4,{steps:5e3}),(0,l.A)([-122.45,37.73],4,{steps:5e3}),(0,l.A)([-122.33,37.73],4,{steps:5e3})]},selectedFeatureIndexes:[]});else if("blank"===e)this.setState({testFeatures:b,selectedFeatureIndexes:[]});else if("file"===e){const e=document.createElement("input");e.type="file",e.onchange=e=>{const t=e.target;if(t.files&&t.files[0]){const e=new FileReader;e.onload=e=>{let{target:t}=e;this._parseStringJson(t.result)},e.readAsText(t.files[0])}},e.click()}},this._copy=()=>{navigator&&navigator.clipboard?navigator.clipboard.writeText(JSON.stringify(this.state.testFeatures)):this._error("No navigator.clipboard")},this._paste=()=>{navigator&&navigator.clipboard?navigator.clipboard.readText().then(e=>{this._parseStringJson(e)},e=>{this._error(e)}):this._error("No navigator.clipboard")},this._download=()=>{const e=new Blob([JSON.stringify(this.state.testFeatures)],{type:"octet/stream"}),t=document.createElement("a");t.href=URL.createObjectURL(e),t.download="nebula.geojson",t.click()},this._parseStringJson=e=>{let t=null;try{t=JSON.parse(e),Array.isArray(t)&&(t={type:"FeatureCollection",features:t}),console.log("Loaded JSON:",t),this.setState({testFeatures:t})}catch(i){this._error(i)}},this._error=e=>{alert(e)},this.onEdit=e=>{let{updatedData:t,editType:i,editContext:o}=e,n=this.state.selectedFeatureIndexes;if(!["movePosition","extruding","rotating","translating","scaling","updateTentativeFeature"].includes(i)){const e=function(e){const t=e.features.map(e=>e.geometry.type+"("+function(e){const t=(e,t)=>t.reduce((t,i)=>[...t,...e(i)],[]),{type:i,coordinates:o}=e;switch(i){case"Point":return 1;case"LineString":case"MultiPoint":return o.length;case"Polygon":case"MultiLineString":return t(e=>e,o).length;case"MultiPolygon":return t(e=>t(e=>e,e),o).length;default:throw Error("Unknown geometry type: "+i)}}(e.geometry)+")");return JSON.stringify(t)}(t);console.log("onEdit",i,o,e)}if("removePosition"!==i||this.state.pointsRemovable){if("addFeature"===i&&this.state.mode!==d.ls){const{featureIndexes:e}=o;n=[...this.state.selectedFeatureIndexes,...e]}this.setState({testFeatures:t,selectedFeatureIndexes:n})}},this.getFillColor=(e,t)=>{const i=this.state.testFeatures.features.indexOf(e);return t?this._getDeckColorForFeature(i,1,.5):this._getDeckColorForFeature(i,.5,.5)},this.getLineColor=(e,t)=>{const i=this.state.testFeatures.features.indexOf(e);return t?this._getDeckColorForFeature(i,1,1):this._getDeckColorForFeature(i,.5,1)},this.state={viewport:y,testFeatures:p,mode:d.cR,modeConfig:null,pointsRemovable:!0,selectedFeatureIndexes:[],editHandleType:"point",selectionTool:void 0,showGeoJson:!1,pathMarkerLayer:!1,featureMenu:void 0}}componentDidMount(){window.addEventListener("resize",this._resize)}componentWillUnmount(){window.removeEventListener("resize",this._resize)}_getHtmlColorForFeature(e,t){const i=P.length;return"rgba("+P[e%i].map(e=>255*e).join(",")+", "+(t?1:.7)+")"}_getDeckColorForFeature(e,t,i){const o=P.length;return[...P[e%o].map(e=>e*t*255),255*i]}_renderSelectFeatureCheckbox(e,t){const{selectedFeatureIndexes:i}=this.state;return(0,u.jsx)("div",{children:(0,u.jsxs)(g.tm,{style:f.checkbox,type:"checkbox",checked:i.includes(e),onChange:()=>{i.includes(e)?this.setState({selectedFeatureIndexes:i.filter(t=>t!==e)}):this.setState({selectedFeatureIndexes:[...i,e]})},children:[(0,u.jsxs)("span",{style:{color:this._getHtmlColorForFeature(e,i.includes(e))},children:[e,": ",t]}),(0,u.jsx)("a",{style:{position:"absolute",right:12},onClick:t=>{t.preventDefault(),t.stopPropagation(),this.setState({selectedFeatureIndexes:[e],featureMenu:{index:e,x:t.clientX,y:t.clientY}})},children:">>"})]})},e)}_renderSelectFeatureCheckboxes(){const{testFeatures:{features:e}}=this.state,t=[];for(let i=0;i<e.length;++i)t.push(this._renderSelectFeatureCheckbox(i,e[i].geometry.type));return t}_renderBooleanOperationControls(){return(0,u.jsxs)(g.Ez,{children:[(0,u.jsxs)(g.Wx,{children:["Boolean operation",(0,u.jsx)("br",{}),"(requires single selection)"]}),(0,u.jsx)(g.XX,{children:["union","difference","intersection"].map(e=>(0,u.jsx)(g.oz,{selected:this.state.modeConfig&&this.state.modeConfig.booleanOperation===e,onClick:()=>{this.state.modeConfig&&this.state.modeConfig.booleanOperation===e?this.setState({modeConfig:Object.assign({},this.state.modeConfig||{},{booleanOperation:null})}):this.setState({modeConfig:Object.assign({},this.state.modeConfig||{},{booleanOperation:e})})},children:e},e))})]},"booleanOperations")}_renderTwoClickPolygonControls(){return(0,u.jsxs)(g.Ez,{children:[(0,u.jsx)(g.Wx,{children:"Drag to draw"}),(0,u.jsx)(g.XX,{children:(0,u.jsx)("input",{type:"checkbox",checked:Boolean(this.state.modeConfig&&this.state.modeConfig.dragToDraw),onChange:e=>this.setState({modeConfig:Object.assign({},this.state.modeConfig||{},{dragToDraw:Boolean(e.target.checked)})})})})]},"twoClick")}_renderModifyModeControls(){return(0,u.jsxs)(g.Ez,{children:[(0,u.jsx)(g.Wx,{children:"Allow removing points"}),(0,u.jsx)(g.XX,{children:(0,u.jsx)("input",{type:"checkbox",checked:this.state.pointsRemovable,onChange:()=>this.setState({pointsRemovable:!this.state.pointsRemovable})})})]},"modify")}_renderSplitModeControls(){return(0,u.jsxs)(g.Ez,{children:[(0,u.jsx)(g.Wx,{children:"Constrain to 90\xb0"}),(0,u.jsx)(g.XX,{children:(0,u.jsx)("input",{type:"checkbox",checked:Boolean(this.state.modeConfig&&this.state.modeConfig.lock90Degree),onChange:e=>this.setState({modeConfig:{lock90Degree:Boolean(e.target.checked)}})})})]},"split")}_renderSnappingControls(){return(0,u.jsx)("div",{children:(0,u.jsxs)(g.Ez,{children:[(0,u.jsx)(g.Wx,{children:"Enable snapping"}),(0,u.jsx)(g.XX,{children:(0,u.jsx)("input",{type:"checkbox",checked:Boolean(this.state.modeConfig&&this.state.modeConfig.enableSnapping),onChange:e=>{const t=Object.assign({},this.state.modeConfig,{enableSnapping:Boolean(e.target.checked)});this.setState({modeConfig:t})}})})]})},"snap")}_renderMeasureDistanceControls(){return(0,u.jsxs)(g.Ez,{children:[(0,u.jsx)(g.Wx,{children:"Units"}),(0,u.jsx)(g.XX,{children:(0,u.jsxs)("select",{value:this.state.modeConfig&&this.state.modeConfig.turfOptions&&this.state.modeConfig.turfOptions.units||"kilometers",onChange:e=>{const t=Object.assign({},this.state.modeConfig,{turfOptions:{units:e.target.value}});this.setState({modeConfig:t})},children:[(0,u.jsx)("option",{value:"kilometers",children:"kilometers"}),(0,u.jsx)("option",{value:"miles",children:"miles"}),(0,u.jsx)("option",{value:"degrees",children:"degrees"}),(0,u.jsx)("option",{value:"radians",children:"radians"})]})}),(0,u.jsx)(g.Wx,{children:"Center Tooltips on Line"}),(0,u.jsx)(g.XX,{children:(0,u.jsx)("input",{type:"checkbox",checked:Boolean(this.state.modeConfig&&this.state.modeConfig.centerTooltipsOnLine),onChange:e=>{const t=Object.assign({},this.state.modeConfig,{centerTooltipsOnLine:Boolean(e.target.checked)});this.setState({modeConfig:t})}})})]},"measure-distance")}_renderDrawPolygonModeControls(){return(0,u.jsxs)(g.Ez,{children:[(0,u.jsx)(g.Wx,{children:"Prevent overlapping lines"}),(0,u.jsx)(g.XX,{children:(0,u.jsx)("input",{type:"checkbox",checked:Boolean(this.state.modeConfig&&this.state.modeConfig.preventOverlappingLines),onChange:e=>this.setState({modeConfig:Object.assign({},this.state.modeConfig||{},{preventOverlappingLines:Boolean(e.target.checked)})})})})]},"draw-polygon")}_renderModeConfigControls(){const e=[];return C.indexOf(this.state.mode)>-1&&e.push(this._renderBooleanOperationControls()),v.indexOf(this.state.mode)>-1&&e.push(this._renderTwoClickPolygonControls()),this.state.mode===d.uq&&e.push(this._renderModifyModeControls()),this.state.mode===d.m0&&e.push(this._renderSplitModeControls()),this.state.mode instanceof d.UX&&e.push(this._renderSnappingControls()),this.state.mode===d.L6&&e.push(this._renderMeasureDistanceControls()),this.state.mode===d.cR&&e.push(this._renderDrawPolygonModeControls()),e}_renderToolBox(){return(0,u.jsxs)(g.OO,{children:[x.map(e=>(0,u.jsxs)(g.Ez,{children:[(0,u.jsxs)(g.Wx,{children:[e.category," Modes"]}),e.modes.map(e=>{let{mode:t,label:i}=e;return(0,u.jsx)(g.oz,{selected:this.state.mode===t,onClick:()=>{this.setState({mode:t,modeConfig:{},selectionTool:void 0})},children:i},i)})]},e.category)),this._renderModeConfigControls(),this.state.showGeoJson&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(g.Wx,{children:"GeoJSON"}),(0,u.jsx)(g.oz,{onClick:()=>this.setState({showGeoJson:!this.state.showGeoJson}),children:"hide \u25b2"}),(0,u.jsx)(g.XX,{children:(0,u.jsx)("textarea",{id:"geo-json-text",rows:5,style:{width:"100%"},value:JSON.stringify(this.state.testFeatures),onChange:e=>this.setState({testFeatures:JSON.parse(e.target.value)})})})]}),!this.state.showGeoJson&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(g.Wx,{children:"GeoJSON"}),(0,u.jsx)(g.oz,{onClick:()=>this.setState({showGeoJson:!this.state.showGeoJson}),children:"show \u25bc"})]}),(0,u.jsx)(g.oz,{onClick:()=>this._copy(),children:"Copy"}),(0,u.jsx)(g.oz,{onClick:()=>this._paste(),children:"Paste"}),(0,u.jsx)(g.oz,{onClick:()=>this._download(),children:"Download"}),(0,u.jsxs)(g.Ez,{children:[(0,u.jsx)(g.Wx,{children:"Load data"}),(0,u.jsxs)(g.XX,{children:[(0,u.jsx)(g.oz,{onClick:()=>this._loadSample("mixed"),children:"Mixed Sample"}),(0,u.jsx)(g.oz,{onClick:()=>this._loadSample("complex"),children:"Complex Sample"}),(0,u.jsx)(g.oz,{onClick:()=>this._loadSample("blank"),children:"Blank"}),(0,u.jsx)(g.oz,{onClick:()=>this._loadSample("file"),children:"Open file..."})]})]}),(0,u.jsxs)(g.Ez,{children:[(0,u.jsx)(g.Wx,{children:"Options"}),(0,u.jsx)(g.XX,{children:(0,u.jsx)(g.tm,{type:"checkbox",checked:"icon"===this.state.editHandleType,onChange:()=>this.setState({editHandleType:"icon"===this.state.editHandleType?"point":"icon"}),children:"Use Icons"})}),(0,u.jsx)(g.XX,{children:(0,u.jsx)(g.tm,{type:"checkbox",checked:"elevated"===this.state.editHandleType,onChange:()=>this.setState({editHandleType:"elevated"===this.state.editHandleType?"point":"elevated"}),children:"Use ElevatedEditHandleLayer"})}),(0,u.jsx)(g.XX,{children:(0,u.jsx)(g.tm,{type:"checkbox",checked:this.state.pathMarkerLayer,onChange:()=>this.setState({pathMarkerLayer:!this.state.pathMarkerLayer}),children:"Use PathMarkerLayer"})})]}),(0,u.jsxs)(g.Ez,{children:[(0,u.jsx)(g.Wx,{children:"Select Features"}),(0,u.jsxs)(g.XX,{children:[(0,u.jsx)(g.oz,{onClick:()=>this.setState({selectedFeatureIndexes:[],selectionTool:d.Sn.NONE}),children:"Clear Selection"}),(0,u.jsx)(g.oz,{onClick:()=>this.setState({mode:d.nE,selectionTool:d.Sn.RECTANGLE}),children:"Rect Select"}),(0,u.jsx)(g.oz,{onClick:()=>this.setState({mode:d.nE,selectionTool:d.Sn.POLYGON}),children:"Lasso Select"})]})]}),(0,u.jsx)(g.Wx,{children:"Features"}),(0,u.jsx)(g.Ez,{children:this._renderSelectFeatureCheckboxes()})]})}renderStaticMap(e){return(0,u.jsx)(a.Ay,Object.assign({},e,{mapStyle:"https://basemaps.cartocdn.com/gl/positron-gl-style/style.json"}))}_featureMenuClick(e){const{index:t}=this.state.featureMenu||{};let i=this.state.testFeatures;if("delete"===e){const e=[...i.features];e.splice(t,1),i=Object.assign({},i,{features:e})}else"split"===e||"info"===e&&console.log(i.features[t]);this.setState({featureMenu:null,testFeatures:i})}_renderFeatureMenu(e){let{x:t,y:i}=e;return(0,u.jsxs)("div",{style:{position:"fixed",top:i-40,left:t+20},children:[(0,u.jsx)(g.oz,{onClick:()=>this._featureMenuClick("delete"),children:"Delete"}),(0,u.jsx)(g.oz,{onClick:()=>this._featureMenuClick("split"),children:"Split"}),(0,u.jsx)(g.oz,{onClick:()=>this._featureMenuClick("info"),children:"Info"}),(0,u.jsx)(g.oz,{onClick:()=>this._featureMenuClick(""),children:"Close"})]})}customizeLayers(e){}render(){const{testFeatures:e,selectedFeatureIndexes:t,mode:i}=this.state;let{modeConfig:o}=this.state;const a=Object.assign({},this.state.viewport,{height:window.innerHeight,width:window.innerWidth});i===d.l$?o=Object.assign({},o,{viewport:a,calculateElevationChange:e=>d.l$.calculateElevationChangeWithViewport(a,e)}):i===d.uq?o=Object.assign({},o,{viewport:a,lockRectangles:!0}):i instanceof d.UX&&o?(i._handler instanceof d.O1&&(o=Object.assign({},o,{viewport:a,screenSpace:!0})),o&&o.enableSnapping&&(o=Object.assign({},o,{additionalSnapTargets:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[-122.52235,37.734008],[-122.52217,37.712706],[-122.49436,37.711979],[-122.49725,37.734306],[-122.52235,37.734008]]]}}]}))):i===d.G2&&(o=Object.assign({},o,{throttleMs:100}));let l={tooltips:{getColor:[255,255,255,255]}};"elevated"===this.state.editHandleType&&(l=Object.assign(l,{guides:{_subLayerProps:{points:{type:d.IM,getFillColor:[0,255,0]}}}})),this.state.pathMarkerLayer&&(l=Object.assign(l,{geojson:{_subLayerProps:{linestrings:{type:c.P,getMarkerColor:e=>[255,255,255,255],sizeScale:1500}}}}));const p=new d.Tp({id:"geojson",data:e,selectedFeatureIndexes:t,mode:i,modeConfig:o,autoHighlight:!1,onEdit:this.onEdit,editHandleType:this.state.editHandleType,editHandleIconAtlas:h.A,editHandleIconMapping:{intermediate:{x:0,y:0,width:58,height:58,mask:!1},existing:{x:58,y:0,width:58,height:58,mask:!1},"snap-source":{x:58,y:0,width:58,height:58,mask:!1},"snap-target":{x:0,y:0,width:58,height:58,mask:!1}},getEditHandleIcon:e=>S(e),getEditHandleIconSize:40,getEditHandleIconColor:w,pointRadiusMinPixels:5,getFillColor:this.getFillColor,getLineColor:this.getLineColor,getEditHandlePointColor:w,editHandlePointRadiusScale:2,_subLayerProps:l,parameters:{depthTest:!0,depthMask:!1,blend:!0,blendEquation:32774,blendFunc:[770,771]}}),g=[p];return this.state.selectionTool&&g.push(new d.cW({id:"selection",selectionType:this.state.selectionTool,onSelect:e=>{let{pickingInfos:t}=e;this.setState({selectedFeatureIndexes:t.map(e=>e.index)})},layerIds:["geojson"],getTentativeFillColor:()=>[255,0,255,100],getTentativeLineColor:()=>[0,0,255,255],lineWidthMinPixels:3})),this.customizeLayers(g),(0,u.jsxs)("div",{style:f.mapContainer,children:[(0,u.jsx)(n.A,{viewState:a,getCursor:p.getCursor.bind(p),layers:g,height:"100%",width:"100%",views:[new s.A({id:"basemap",controller:{type:r.A,doubleClickZoom:!1}})],onClick:this._onLayerClick,onViewStateChange:e=>{let{viewState:t}=e;return this.setState({viewport:t})},children:this.renderStaticMap(a)}),this._renderToolBox(),this.state.featureMenu&&this._renderFeatureMenu(this.state.featureMenu)]})}}},83228:(e,t,i)=>{i.d(t,{Dh:()=>d,UD:()=>c,Uq:()=>a,_c:()=>l,lZ:()=>s});var o=i(38267),n=i(84930);const s=o.Ay.section.withConfig({displayName:"styled__Banner",componentId:"sc-exnbu5-0"})(["position:relative;height:30rem;background:var(--ifm-color-gray-400);color:var(--ifm-color-gray-900);z-index:0;","{height:80vh;}"],n.F),r=o.Ay.div.withConfig({displayName:"styled__Container",componentId:"sc-exnbu5-1"})(["position:relative;padding:2rem;max-width:80rem;width:100%;height:100%;margin:0;"]),a=(0,o.Ay)(r).withConfig({displayName:"styled__BannerContainer",componentId:"sc-exnbu5-2"})(["position:absolute;bottom:0;height:auto;padding-left:4rem;z-index:0;pointer-events:none;"]),l=o.Ay.div.withConfig({displayName:"styled__HeroExampleContainer",componentId:"sc-exnbu5-3"})(["position:absolute;top:0;left:0;right:0;bottom:0;z-index:-1;"]),d=(o.Ay.section.withConfig({displayName:"styled__Section",componentId:"sc-exnbu5-4"})(["&:nth-child(2n + 1){background:var(--ifm-color-gray-300);}"]),o.Ay.h1.withConfig({displayName:"styled__ProjectName",componentId:"sc-exnbu5-5"})(["font-size:5em;line-height:1;text-transform:uppercase;letter-spacing:4px;font-weight:700;margin:0;margin-bottom:16px;"])),c=o.Ay.a.withConfig({displayName:"styled__GetStartedLink",componentId:"sc-exnbu5-6"})(["pointer-events:all;font-size:12px;line-height:44px;letter-spacing:2px;font-weight:bold;margin:24px 0;padding:0 4rem;pointer-events:all;display:inline-block;text-decoration:none;transition:background-color 250ms ease-in,color 250ms ease-in;border:solid 2px var(--ifm-color-primary);color:var(--ifm-color-gray-900);border-image:linear-gradient( to right,var(--ifm-color-gray-700) 0%,var(--ifm-color-gray-400) 100% );border-image-slice:2;&:visited{color:var(--ifm-color-gray-900);}&:active{color:var(--ifm-color-white);}&:hover{color:var(--ifm-color-white);background-color:var(--ifm-color-primary);}"])},83322:(e,t,i)=>{i.d(t,{T:()=>Q});var o=i(34467),n=i(98543),s=i(46739),r=i(42067),a=i(44375),l=i(89784),d=i(57638),c=i(78400),p=i(96161),h=i(93173),g=i(17379),u=i(72721),m=i(13243),f=i(99035),y=i(23373),x=i(26443),C=i(21518),v=i(57576),b=i(89943),P=i(93193),S=i(1108),w=i(10523),k=i(50907),A=i(10708),j=i(35667),M=i(18547),D=i(51527),T=i(49542),F=i(19474),E=i(90033),I=i(55857),_=i(88720),O=i(93686);const L=[0,0,0,153],z=[0,0,0,144],H=[0,0,0,255],R=[0,0,144,144],N=[144,144,144,255],G=[144,144,144,144],U=[192,0,0,255],q=[0,0,0,128],B=[124,0,192,255],W=[255,255,255,255],Z=32*I.a,X=x.c;function J(e){return e&&"function"==typeof e?t=>e(function(e){if(e.__source)return e.__source.object;if(e.sourceFeature)return e.sourceFeature.feature;return e}(t)):e}function V(e){switch(e.properties.editHandleType){case"existing":return U;case"snap-source":return B;default:return q}}const K={mode:X,onEdit:()=>{},pickable:!0,pickingRadius:10,pickingDepth:5,fp64:!1,filled:!0,stroked:!0,lineWidthScale:I.a,lineWidthMinPixels:1,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,pickingLineWidthExtraPixels:0,lineWidthUnits:"pixels",lineJointRounded:!1,lineCapRounded:!1,lineMiterLimit:4,pointRadiusScale:1,pointRadiusMinPixels:2,pointRadiusMaxPixels:Number.MAX_SAFE_INTEGER,getLineColor:(e,t,i)=>t?H:L,getFillColor:(e,t,i)=>t?R:z,getRadius:e=>e&&e.properties&&e.properties.radius||e&&e.properties&&e.properties.size||1,getLineWidth:e=>e&&e.properties&&e.properties.lineWidth||3,getTentativeLineColor:e=>N,getTentativeFillColor:e=>G,getTentativeLineWidth:e=>e&&e.properties&&e.properties.lineWidth||3,editHandleType:"point",editHandlePointRadiusScale:1,editHandlePointOutline:!0,editHandlePointStrokeWidth:2,editHandlePointRadiusUnits:"pixels",editHandlePointRadiusMinPixels:4,editHandlePointRadiusMaxPixels:8,getEditHandlePointColor:V,getEditHandlePointOutlineColor:function(e){return W},getEditHandlePointRadius:function(e){switch(e.properties.editHandleType){case"existing":return 5;case"snap":return 7;default:return 3}},editHandleIconAtlas:null,editHandleIconMapping:null,editHandleIconSizeScale:1,editHandleIconSizeUnits:"pixels",getEditHandleIcon:e=>e.properties.editHandleType,getEditHandleIconSize:10,getEditHandleIconColor:V,getEditHandleIconAngle:0,billboard:!0},Y={view:a.n,modify:d.u,translate:new T.U(new l.O),transform:new T.U(new F._),scale:c.G,rotate:p.D,duplicate:h.l,split:g.m,extrude:u.f,elevation:m.l,delete:E.F,drawPoint:f.i,drawLineString:y.D,drawPolygon:x.c,drawRectangle:C.h,drawSquare:v.V,drawRectangleFromCenter:b.E,drawSquareFromCenter:P.O,drawCircleFromCenter:S.Z,drawCircleByBoundingBox:w.O,drawEllipseByBoundingBox:k.U,drawRectangleUsing3Points:A.U,drawEllipseUsing3Points:j.h,draw90DegreePolygon:M.J,drawPolygonByDragging:D.G};class Q extends _.K{constructor(){super(...arguments),this.state=void 0}renderLayers(){const e=this.getSubLayerProps({id:"geojson",data:this.props.data,fp64:this.props.fp64,filled:this.props.filled,stroked:this.props.stroked,lineWidthScale:this.props.lineWidthScale,lineWidthMinPixels:this.props.lineWidthMinPixels,lineWidthMaxPixels:this.props.lineWidthMaxPixels,lineWidthUnits:this.props.lineWidthUnits,lineJointRounded:this.props.lineJointRounded,lineCapRounded:this.props.lineCapRounded,lineMiterLimit:this.props.lineMiterLimit,pointRadiusScale:this.props.pointRadiusScale,pointRadiusMinPixels:this.props.pointRadiusMinPixels,pointRadiusMaxPixels:this.props.pointRadiusMaxPixels,getLineColor:this.selectionAwareAccessor(this.props.getLineColor),getFillColor:this.selectionAwareAccessor(this.props.getFillColor),getPointRadius:this.selectionAwareAccessor(this.props.getRadius),getLineWidth:this.selectionAwareAccessor(this.props.getLineWidth),_subLayerProps:{linestrings:{billboard:this.props.billboard,updateTriggers:{all:[this.props.selectedFeatureIndexes,this.props.mode]}},"polygons-stroke":{billboard:this.props.billboard,pickingLineWidthExtraPixels:this.props.pickingLineWidthExtraPixels,type:O.d,updateTriggers:{all:[this.props.selectedFeatureIndexes,this.props.mode]}}},updateTriggers:{getLineColor:[this.props.selectedFeatureIndexes,this.props.mode],getFillColor:[this.props.selectedFeatureIndexes,this.props.mode],getPointRadius:[this.props.selectedFeatureIndexes,this.props.mode],getLineWidth:[this.props.selectedFeatureIndexes,this.props.mode]}});let t=[new s.A(e)];return t=t.concat(this.createGuidesLayers(),this.createTooltipsLayers()),t}initializeState(){super.initializeState(),this.setState({selectedFeatures:[],editHandles:[]})}shouldUpdateState(e){return super.shouldUpdateState(e)||e.changeFlags.stateChanged}updateState(e){let{props:t,oldProps:i,changeFlags:o,context:n}=e;if(super.updateState({oldProps:i,props:t,changeFlags:o,context:n}),o.propsOrDataChanged){if(0===Object.keys(i).length||t.mode!==i.mode){let e;if("function"==typeof t.mode){e=new(0,t.mode)}else"string"==typeof t.mode?(e=Y[t.mode],console.warn("Deprecated use of passing `mode` as a string. Pass the mode's class constructor instead.")):e=t.mode;e||(console.warn("No mode configured for "+String(t.mode)),e=new X),e!==this.state.mode&&this.setState({mode:e,cursor:null})}}let s=[];if(Array.isArray(t.selectedFeatureIndexes)&&"object"==typeof t.data&&"features"in t.data){const e=t.data;s=t.selectedFeatureIndexes.map(t=>e.features[t])}this.setState({selectedFeatures:s})}getModeProps(e){return{modeConfig:e.modeConfig,data:e.data,selectedIndexes:e.selectedFeatureIndexes,lastPointerMoveEvent:this.state.lastPointerMoveEvent,cursor:this.state.cursor,onEdit:t=>{this.setNeedsUpdate(),e.onEdit(t)},onUpdateCursor:e=>{this.setState({cursor:e})}}}selectionAwareAccessor(e){return"function"!=typeof e?e:t=>e(t,this.isFeatureSelected(t),this.props.mode)}isFeatureSelected(e){return!(!this.props.data||!this.props.selectedFeatureIndexes)&&(!!this.props.selectedFeatureIndexes.length&&this.state.selectedFeatures.includes(e))}getPickingInfo(e){let{info:t,sourceLayer:i}=e;return i.id.endsWith("guides")&&(t.isGuide=!0),t}_updateAutoHighlight(e){if(null!=e&&e.sourceLayer)if(e.isGuide)for(const t of e.sourceLayer.getSubLayers())t.updateAutoHighlight(e);else e.sourceLayer.updateAutoHighlight(e)}createGuidesLayers(){const e=this.getActiveMode().getGuides(this.getModeProps(this.props));if(!e||!e.features.length)return[];const t={linestrings:{billboard:this.props.billboard,autoHighlight:!1},"polygons-fill":{autoHighlight:!1},"polygons-stroke":{billboard:this.props.billboard}};"icon"===this.props.editHandleType?t["points-icon"]={type:o.A,iconAtlas:this.props.editHandleIconAtlas,iconMapping:this.props.editHandleIconMapping,sizeUnits:this.props.editHandleIconSizeUnits,sizeScale:this.props.editHandleIconSizeScale,getIcon:J(this.props.getEditHandleIcon),getSize:J(this.props.getEditHandleIconSize),getColor:J(this.props.getEditHandleIconColor),getAngle:J(this.props.getEditHandleIconAngle),billboard:this.props.billboard}:t["points-circle"]={type:n.A,radiusScale:this.props.editHandlePointRadiusScale,stroked:this.props.editHandlePointOutline,getLineWidth:this.props.editHandlePointStrokeWidth,radiusUnits:this.props.editHandlePointRadiusUnits,radiusMinPixels:this.props.editHandlePointRadiusMinPixels,radiusMaxPixels:this.props.editHandlePointRadiusMaxPixels,getRadius:J(this.props.getEditHandlePointRadius),getFillColor:J(this.props.getEditHandlePointColor),getLineColor:J(this.props.getEditHandlePointOutlineColor),billboard:this.props.billboard};return[new s.A(this.getSubLayerProps({id:"guides",data:e,fp64:this.props.fp64,_subLayerProps:t,lineWidthScale:this.props.lineWidthScale,lineWidthMinPixels:this.props.lineWidthMinPixels,lineWidthMaxPixels:this.props.lineWidthMaxPixels,lineWidthUnits:this.props.lineWidthUnits,lineJointRounded:this.props.lineJointRounded,lineCapRounded:this.props.lineCapRounded,lineMiterLimit:this.props.lineMiterLimit,getLineColor:J(this.props.getTentativeLineColor),getLineWidth:J(this.props.getTentativeLineWidth),getFillColor:J(this.props.getTentativeFillColor),pointType:"icon"===this.props.editHandleType?"icon":"circle",iconAtlas:this.props.editHandleIconAtlas}))]}createTooltipsLayers(){const e=this.getActiveMode().getTooltips(this.getModeProps(this.props));return[new r.A(Object.assign({getSize:Z},this.getSubLayerProps({id:"tooltips",data:e})))]}onLayerClick(e){this.getActiveMode().handleClick(e,this.getModeProps(this.props))}onLayerDoubleClick(e){this.getActiveMode().handleDoubleClick&&this.getActiveMode().handleDoubleClick(e,this.getModeProps(this.props))}onLayerKeyUp(e){this.getActiveMode().handleKeyUp(e,this.getModeProps(this.props))}onStartDragging(e){this.getActiveMode().handleStartDragging(e,this.getModeProps(this.props))}onDragging(e){this.getActiveMode().handleDragging(e,this.getModeProps(this.props))}onStopDragging(e){this.getActiveMode().handleStopDragging(e,this.getModeProps(this.props))}onPointerMove(e){this.setState({lastPointerMoveEvent:e}),this.getActiveMode().handlePointerMove(e,this.getModeProps(this.props))}getCursor(e){let{isDragging:t}=e;if(null===this.state||void 0===this.state)return null;let{cursor:i}=this.state;return i||(i=t?"grabbing":"grab"),i}getActiveMode(){return this.state.mode}}Q.layerName="EditableGeoJsonLayer",Q.defaultProps=K},84028:(e,t,i)=>{i.d(t,{A:()=>p});var o=i(20454),n=i(96540),s=i(29813),r=i(50340),a=i(80839),l=i(21551),d=i(74848);class c extends n.Component{static renderInfo(e){return(0,d.jsx)(d.Fragment,{})}render(){const e=this.props,t=Object.assign({},((0,o.A)(e),e));return(0,d.jsx)(s.A,{children:()=>(0,d.jsx)(a.A,Object.assign({},t))})}}c.title="Advanced",c.code=r.lP+"/examples/editable-layers/advanced";const p=(0,l.xv)(c)},84905:(e,t,i)=>{i(30228),i(30337),i(76525)},84930:(e,t,i)=>{i.d(t,{F:()=>o});const o=e=>"@media screen and (max-width: 480px)"},85914:(e,t,i)=>{function o(e,t){if(e===t)return!0;if(Array.isArray(e)){const i=e.length;if(!t||t.length!==i)return!1;for(let o=0;o<i;o++)if(e[o]!==t[o])return!1;return!0}return!1}function n(e){let t,i={};return n=>{for(const s in n)if(!o(n[s],i[s])){t=e(n),i=n;break}return t}}i.d(t,{B:()=>n})},86742:(e,t,i)=>{i.d(t,{A:()=>l});i(96540);var o=i(20040),n=i(98180),s=i(2955),r=i(74848);function a(e,t){let{label:i,items:o}=e;return[(0,r.jsx)(s.iE,{children:i},i+"-header"),(0,r.jsx)(s.hE,{children:o.map(e=>function(e,t){const i=(0,n.Ay)(t(e)),{label:o,href:a}=e;return(0,r.jsxs)(s.P,{href:a,children:[(0,r.jsx)("img",{width:"100%",src:i,alt:o}),(0,r.jsx)(s.Th,{children:(0,r.jsx)("span",{children:o})})]},o)}(e,t))},i)]}function l(e){let{getThumbnail:t}=e;const i=(0,o.t)();return(0,r.jsx)(s.Z3,{children:i.items.map(e=>"category"===e.type?a(e,t):null)})}},88720:(e,t,i)=>{i.d(t,{K:()=>s});var o=i(59452);const n=["click","pointermove","panstart","panmove","panend","keyup","dblclick"];class s extends o.A{constructor(){super(...arguments),this.state=void 0}onLayerClick(e){}onLayerDoubleClick(e){}onStartDragging(e){}onStopDragging(e){}onDragging(e){}onPointerMove(e){}onLayerKeyUp(e){}initializeState(){this.setState({_editableLayerState:{pointerDownPicks:null,pointerDownScreenCoords:null,pointerDownMapCoords:null,eventHandler:this._forwardEventToCurrentLayer.bind(this)}}),this._addEventHandlers()}finalizeState(){this._removeEventHandlers()}_addEventHandlers(){const{eventManager:e}=this.context.deck,{eventHandler:t}=this.state._editableLayerState;for(const i of n)e.on(i,t,{priority:100})}_removeEventHandlers(){const{eventManager:e}=this.context.deck,{eventHandler:t}=this.state._editableLayerState;for(const i of n)e.off(i,t)}_forwardEventToCurrentLayer(e){const t=this.getCurrentLayer(),i=t["_on"+e.type].bind(t);i?i(e):console.warn("no handler for mjolnir.js event "+e.type)}_onclick(e){let{srcEvent:t}=e;const i=this.getScreenCoords(t),o=this.getMapCoords(i),n=this.getPicks(i);this.onLayerClick({mapCoords:o,screenCoords:i,picks:n,sourceEvent:t})}_ondblclick(e){let{srcEvent:t}=e;this.onLayerDoubleClick(t)}_onkeyup(e){let{srcEvent:t}=e;this.onLayerKeyUp(t)}_onpanstart(e){const t=this.getScreenCoords(e.srcEvent),i=this.getMapCoords(t),o=this.getPicks(t);this.setState({_editableLayerState:Object.assign({},this.state._editableLayerState,{pointerDownScreenCoords:t,pointerDownMapCoords:i,pointerDownPicks:o})}),this.onStartDragging({picks:o,screenCoords:t,mapCoords:i,pointerDownScreenCoords:t,pointerDownMapCoords:i,cancelPan:()=>{this.props.onCancelPan&&this.props.onCancelPan(),e.stopImmediatePropagation()},sourceEvent:e.srcEvent})}_onpanmove(e){const{srcEvent:t}=e,i=this.getScreenCoords(t),o=this.getMapCoords(i),{pointerDownPicks:n,pointerDownScreenCoords:s,pointerDownMapCoords:r}=this.state._editableLayerState,a=this.getPicks(i);this.onDragging({screenCoords:i,mapCoords:o,picks:a,pointerDownPicks:n,pointerDownScreenCoords:s,pointerDownMapCoords:r,sourceEvent:t,cancelPan:e.stopImmediatePropagation})}_onpanend(e){let{srcEvent:t}=e;const i=this.getScreenCoords(t),o=this.getMapCoords(i),{pointerDownPicks:n,pointerDownScreenCoords:s,pointerDownMapCoords:r}=this.state._editableLayerState,a=this.getPicks(i);this.onStopDragging({picks:a,screenCoords:i,mapCoords:o,pointerDownPicks:n,pointerDownScreenCoords:s,pointerDownMapCoords:r,sourceEvent:t}),this.setState({_editableLayerState:Object.assign({},this.state._editableLayerState,{pointerDownScreenCoords:null,pointerDownMapCoords:null,pointerDownPicks:null})})}_onpointermove(e){const{srcEvent:t}=e,i=this.getScreenCoords(t),o=this.getMapCoords(i),{pointerDownPicks:n,pointerDownScreenCoords:s,pointerDownMapCoords:r}=this.state._editableLayerState,a=this.getPicks(i);this.onPointerMove({screenCoords:i,mapCoords:o,picks:a,pointerDownPicks:n,pointerDownScreenCoords:s,pointerDownMapCoords:r,sourceEvent:t,cancelPan:e.stopImmediatePropagation})}getPicks(e){return this.context.deck.pickMultipleObjects({x:e[0],y:e[1],layerIds:[this.props.id],radius:this.props.pickingRadius,depth:this.props.pickingDepth})}getScreenCoords(e){return[e.clientX-this.context.gl.canvas.getBoundingClientRect().left,e.clientY-this.context.gl.canvas.getBoundingClientRect().top]}getMapCoords(e){return this.context.viewport.unproject([e[0],e[1]])}}s.layerName="EditableLayer"},89784:(e,t,i)=>{i.d(t,{O:()=>h});var o=i(67604),n=i(30669),s=i(97083),r=i(93279),a=i(87531),l=i(6701),d=i(92419),c=i(15530),p=i(24164);class h extends c.b{constructor(){super(...arguments),this._isTranslatable=void 0}handleDragging(e,t){if(this._isTranslatable){if(this._geometryBeforeTranslate){const i=this.getTranslateAction(e.pointerDownMapCoords,e.mapCoords,"translating",t);i&&t.onEdit(i)}e.cancelPan()}}handlePointerMove(e,t){this._isTranslatable=this.isSelectionPicked(e.pointerDownPicks||e.picks,t),this.updateCursor(t)}handleStartDragging(e,t){this._isTranslatable&&(e.cancelPan(),this._geometryBeforeTranslate=this.getSelectedFeaturesAsFeatureCollection(t))}handleStopDragging(e,t){if(this._geometryBeforeTranslate){const i=this.getTranslateAction(e.pointerDownMapCoords,e.mapCoords,"translated",t);i&&t.onEdit(i),this._geometryBeforeTranslate=null}}updateCursor(e){this._isTranslatable?e.onUpdateCursor("move"):e.onUpdateCursor(null)}getTranslateAction(e,t,i,c){if(!this._geometryBeforeTranslate)return null;let h=new p.v(c.data);const g=c.selectedIndexes,{viewport:u,screenSpace:m}=c.modeConfig||{};if(u&&m){const i=u.project?u:new a.KH(u),o=i.project(e),n=i.project(t),s=n[0]-o[0],r=n[1]-o[1];for(let e=0;e<g.length;e++){const t=g[e],o=this._geometryBeforeTranslate.features[e];let n=o.geometry.coordinates;n&&(n=(0,l.Do)(n,e=>{const t=i.project(e);return t?(t[0]+=s,t[1]+=r,i.unproject(t)):null}),h=h.replaceGeometry(t,{type:o.geometry.type,coordinates:n}))}}else{const i=(0,r.zx)(e),a=(0,r.zx)(t),l=(0,n.A)(i,a),c=(0,o.A)(i,a),p=this._geometryBeforeTranslate.features.map(e=>(0,d.O)((0,s.A)(e),l,c));for(let e=0;e<g.length;e++){const t=g[e],i=p[e];h=h.replaceGeometry(t,i.geometry)}}return{updatedData:h.getObject(),editType:i,editContext:{featureIndexes:g}}}}},89943:(e,t,i)=>{i.d(t,{E:()=>s});var o=i(31234),n=i(78990);class s extends n.g{getTwoClickPolygon(e,t,i){const n=e[0]>t[0]?e[0]+Math.abs(e[0]-t[0]):e[0]-Math.abs(e[0]-t[0]),s=e[1]>t[1]?e[1]+Math.abs(e[1]-t[1]):e[1]-Math.abs(e[1]-t[1]),r=(0,o.A)([n,s,t[0],t[1]]);return r.properties=r.properties||{},r.properties.shape="Rectangle",r}}},90033:(e,t,i)=>{i.d(t,{F:()=>n});var o=i(15530);class n extends o.b{handleClick(e,t){const i=t.lastPointerMoveEvent.picks.map(e=>e.index);if(i.length>0){const e=i[0],o=t.data.features.filter((t,i)=>i!==e),n={updatedData:Object.assign({},t.data,{features:o}),editType:"deleteFeature",editContext:{featureIndexes:i}};t.onEdit(n)}}}},90823:e=>{e.exports=JSON.parse('{"id":"editable-layers/advanced","title":"Advanced","description":"","source":"@site/src/examples/editable-layers/advanced.mdx","sourceDirName":"editable-layers","slug":"/editable-layers/advanced","permalink":"/deck.gl-community/examples/editable-layers/advanced","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"examplesSidebar","previous":{"title":"Editor","permalink":"/deck.gl-community/examples/editable-layers/editor"},"next":{"title":"HTML Overlays","permalink":"/deck.gl-community/examples/widgets/html-overlays"}}')},92419:(e,t,i)=>{i.d(t,{O:()=>l});var o=i(25903),n=i(7743),s=i(78664),r=i(7861),a=i(6701);function l(e,t,i){const l=(0,o.A)(e),d=(0,r.A)(l,t,i),c=(0,a.Do)(e.geometry.coordinates,e=>{const t=(0,s.A)(l.geometry.coordinates,e),i=(0,n.A)(l.geometry.coordinates,e);return(0,r.A)(d.geometry.coordinates,t,i).geometry.coordinates});return e.geometry.coordinates=c,e}},92893:(e,t,i)=>{i.d(t,{A:()=>r});i(96540);var o=i(97639),n=i(83228),s=i(74848);function r(e){let{HeroExample:t,children:i}=e;const{siteConfig:r}=(0,o.A)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.lZ,{children:[(0,s.jsx)(n._c,{children:t&&(0,s.jsx)(t,{})}),(0,s.jsxs)(n.Uq,{children:[(0,s.jsx)(n.Dh,{children:r.title}),(0,s.jsx)("p",{children:r.tagline}),(0,s.jsx)(n.UD,{href:"./docs",children:"GET STARTED"})]})]}),i]})}},93173:(e,t,i)=>{i.d(t,{l:()=>n});var o=i(89784);class n extends o.O{handleStartDragging(e,t){super.handleStartDragging(e,t),this._geometryBeforeTranslate&&t.onEdit(this.getAddManyFeaturesAction(this._geometryBeforeTranslate,t.data))}updateCursor(e){this._isTranslatable?e.onUpdateCursor("copy"):e.onUpdateCursor(null)}}},93193:(e,t,i)=>{i.d(t,{O:()=>l});var o=i(31234),n=i(30669),s=i(20491),r=i(93279),a=i(78990);class l extends a.g{getTwoClickPolygon(e,t,i){const a=[t[0],e[1]],l=[e[0],t[1]],d=(0,n.A)((0,r.zx)(a),(0,r.zx)(e)),c=(0,n.A)((0,r.zx)(l),(0,r.zx)(e)),p=d<=c?d:c,h=d<=c?a:l,g=(0,r.wi)([h,t]),u=(0,s.A)(g,p).geometry.coordinates,m=e[0]>u[0]?e[0]+Math.abs(e[0]-u[0]):e[0]-Math.abs(e[0]-u[0]),f=e[1]>u[1]?e[1]+Math.abs(e[1]-u[1]):e[1]-Math.abs(e[1]-u[1]),y=(0,o.A)([m,f,u[0],u[1]]);return y.properties=y.properties||{},y.properties.shape="Square",y}}},93686:(e,t,i)=>{i.d(t,{d:()=>l});var o=i(16779),n=i(61631);const s="uniform pickingLineWidthUniforms {\n  float extraPixels;\n} pickingLineWidth;\n",r={name:"pickingLineWidth",vs:s,fs:s,uniformTypes:{extraPixels:"f32"}},a=Object.assign({},o.A.defaultProps,{pickingLineWidthExtraPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER}});class l extends o.A{getShaders(){const e=super.getShaders();return e.vs=(0,n.nc)(e.vs,"vec3 width;","\n       if(bool(picking.isActive)){\n        widthPixels.xy += pickingLineWidth.extraPixels;\n       }\n      "),Object.assign({},e,{modules:[...e.modules,r]})}draw(e){const{pickingLineWidthExtraPixels:t}=this.props,i={extraPixels:t};this.state.model.shaderInputs.setProps({pickingLineWidth:i}),super.draw(e)}}l.defaultProps=a,l.layerName="EditablePathLayer"},96161:(e,t,i)=>{i.d(t,{D:()=>f});var o=i(75917),n=i(17450),s=i(67604),r=i(31234),a=i(30669),l=i(29987),d=i(45046),c=i(93279),p=i(5486),h=i(65875),g=i(6701),u=i(15530),m=i(24164);class f extends u.b{constructor(){super(...arguments),this._isRotating=!1,this._isSinglePointGeometrySelected=e=>{const{features:t}=e||{};if(Array.isArray(t)&&1===t.length){const{type:e}=(0,d.bg)(t[0]);return"Point"===e}return!1},this.getIsRotating=()=>this._isRotating}getGuides(e){const t=this._geometryBeingRotated||this.getSelectedFeaturesAsFeatureCollection(e);if(this._isSinglePointGeometrySelected(t))return{type:"FeatureCollection",features:[]};if(this._isRotating)return(0,c.Lr)([(0,n.A)(t)]);const i=(0,r.A)((0,o.A)(t));let s=null,d=null,p=0;(0,l.Fh)(i,e=>{if(s){const t=(0,u.T)(e,s);(!d||t[1]>d[1])&&(d=t);const i=(0,a.A)(e,s);p=Math.max(p,i)}s=e});const g=d&&[d[0],d[1]+p/1e3],m=(0,c.wi)([d,g]),f=(0,c.zx)(g,{guideType:"editHandle",editHandleType:"rotate"}),y=[(0,h.CN)(i),f,m];return(0,c.Lr)(y)}handleDragging(e,t){if(!this._isRotating)return;const i=this.getRotateAction(e.pointerDownMapCoords,e.mapCoords,"rotating",t);i&&t.onEdit(i),e.cancelPan()}handlePointerMove(e,t){if(!this._isRotating){const t=(0,g.ZC)(e.picks);this._selectedEditHandle=t&&"rotate"===t.properties.editHandleType?t:null}this.updateCursor(t)}handleStartDragging(e,t){this._selectedEditHandle&&(e.cancelPan(),this._isRotating=!0,this._geometryBeingRotated=this.getSelectedFeaturesAsFeatureCollection(t))}handleStopDragging(e,t){if(this._isRotating){const i=this.getRotateAction(e.pointerDownMapCoords,e.mapCoords,"rotated",t);i&&t.onEdit(i),this._geometryBeingRotated=null,this._selectedEditHandle=null,this._isRotating=!1}}updateCursor(e){this._selectedEditHandle?e.onUpdateCursor("crosshair"):e.onUpdateCursor(null)}getRotateAction(e,t,i,o){if(!this._geometryBeingRotated)return null;const r=(0,n.A)(this._geometryBeingRotated),a=function(e,t,i){const o=(0,s.A)(e,t),n=(0,s.A)(e,i);return n-o}(r,e,t),l=(0,p.A)(this._geometryBeingRotated,a,{pivot:r});let d=new m.v(o.data);const c=o.selectedIndexes;for(let n=0;n<c.length;n++){const e=c[n],t=l.features[n];d=d.replaceGeometry(e,t.geometry)}return{updatedData:d.getObject(),editType:i,editContext:{featureIndexes:c}}}}},96541:(e,t,i)=>{i.d(t,{A:()=>p});var o=i(98587),n=i(96540),s=i(38267),r=i(74848);const a=["name","onChange","displayName","altValue","displayValue"],l=s.Ay.div.withConfig({displayName:"input__InputContainer",componentId:"sc-1myx0c6-0"})(["position:relative;width:100%;&:last-child{margin-bottom:20px;}> *{vertical-align:middle;white-space:nowrap;}label{display:inline-block;width:40%;margin-right:10%;margin-top:2px;margin-bottom:2px;}input,a,button{background:var(--ifm-background-surface-color);font-size:0.9em;text-transform:none;text-overflow:ellipsis;overflow:hidden;display:inline-block;padding:0 4px;margin:0;width:50%;height:20px;line-height:1.833;text-align:left;}button{color:initial;}button:disabled{color:var(--ifm-color-gray-500);cursor:default;background:var(--ifm-color-gray-300);}input{border:solid 1px var(--ifm-color-gray-500);&:disabled{background:var(--ifm-color-gray-300);}&[type='checkbox']{height:auto;}}.tooltip{left:50%;top:24px;opacity:0;pointer-events:none;transition:opacity 200ms;}&:hover .tooltip{opacity:1;}"]);function d(e){let{name:t,min:i,max:o,step:s,displayName:a,displayValue:d,onChange:c}=e;const p=(0,n.useCallback)(e=>{const{value:n}=e.target;let s=Number(n);void 0!==i&&(s=Math.max(i,s)),void 0!==o&&(s=Math.min(o,s)),c(t,s)},[i,o,c]);return(0,r.jsxs)(l,{children:[(0,r.jsx)("label",{children:a}),(0,r.jsxs)("div",{className:"tooltip",children:[a,": ",String(d)]}),(0,r.jsx)("input",{type:"range",min:i,max:o,value:d,step:s,onChange:p})]})}function c(e){let{name:t,value:i,displayName:o,displayValue:s,onChange:a}=e;const d=(0,n.useCallback)(e=>{const i=e.target.checked;a(t,i)},[a]);return(0,r.jsxs)(l,{children:[(0,r.jsx)("label",{children:o}),(0,r.jsxs)("div",{className:"tooltip",children:[o,": ",String(s)]}),(0,r.jsx)("input",{type:"checkbox",checked:i,onChange:d})]})}function p(e){const{name:t,onChange:i,displayName:s,altValue:p,displayValue:h}=e,g=(0,o.A)(e,a),u=(0,n.useCallback)(e=>{i(t,e.target.value)},[i]),m=(0,n.useCallback)(()=>{i(t,p)},[p,i]),f=g;switch(e.type){case"link":return(0,r.jsxs)(l,{children:[(0,r.jsx)("label",{children:s}),(0,r.jsx)("a",{href:h,target:"_new",children:h})]});case"function":case"json":const t=Boolean(p);return(0,r.jsxs)(l,{children:[(0,r.jsx)("label",{children:s}),(0,r.jsx)("button",{type:"text",disabled:!t,onClick:m,children:h})]});case"select":return(0,r.jsxs)(l,{children:[(0,r.jsx)("label",{children:s}),(0,r.jsx)("select",{onChange:u,value:h,children:e.options.map((e,t)=>(0,r.jsx)("option",{value:e,children:e},t))})]});case"checkbox":return(0,r.jsx)(c,Object.assign({},e));case"range":return(0,r.jsx)(d,Object.assign({},e));default:return(0,r.jsxs)(l,{children:[(0,r.jsx)("label",{children:s}),(0,r.jsxs)("div",{className:"tooltip",children:[s,": ",String(h)]}),(0,r.jsx)("input",Object.assign({},f,{value:h,onChange:u}))]})}}},97859:(e,t,i)=>{i.d(t,{A:()=>o});const o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHQAAAA6CAYAAABhyH07AAAZ1UlEQVR4Xu1ceVxU5fp/zjmzMDMMMyzDOoykqIiCgJoLIkraVXMrTStMvZWZ2YZLecV9Kb1luXTNm3taZmmWy08zlU0EZZVFQVD2gRnWmWH2s/w+7wiEps4MYN38+PzjR+Y9z/s8z/ddnu0cDJ7QY2UB7LHS5oky8ATQx2wRPAH0CaCPmQUeM3We7NAngD5mFnjM1PmzdigBAF4AIAQALgCoAaAaAPSPmT3/cnUeFaA8APgHAIwDgGEA0B0wTINhhAoAGIahHYGhXQGgDgDSACAOAH4EgJq/3CJ/cwG6GlAZACwEgFkER3Cb7x6k5nsGebGFUj8cJxzutRWpqy/X1d+s1FZm0GZdTd8WcA8AwA8AQP6NbOsJAMEA0A0AXNrJjRZsKQBcBQDNn6FPVwEqBoCPALDXeW7++eJek3qyec4+9ihA06RBW5OVrb51nk2ZtI4AsAIAjqIdbQ+fP3FsIADMBYAJGIA3n4uVunLxel9XFi7g4KTWRLMadDRRpaKEGgMtYwDKAOBSy2JNAAD6UcjaFYCOBoCDbL7bLfewN3sTXL5bZwXVKfPT628c5TOkuRkAXgWAm53l2YXPhwDABgyDoTJnVqbJRNF6M+bWZKR7YwBMdJgg4+upbiPaz2ekGDKuSFd4MEtff+qGzs9MMUYA+DcA7O/qk6gzgCJHZx1g2BzngEllQu9BQ7rQaGgBM403zyVoKi4FAcAiAEBH8V9JfKQvhsE/Z4Xy871ELNgUr+47picvL1dh4vJZOO3tRBjSyo2+DWtlPR4kKEkD/fUVddqqX5tEWjNjaNnl6V2lWEcB5QDANxiLHeQ9dKGE4AglrQIxDEXqqrMzm+UZBpNG4cowJgkwwMFwvB7nONY7uPbWO3WL8Lf1SDY0lV2vzdzDZxj6NwCYDwBUVylvB58A5LTJxIThwpue3XxELMmys00JOy+rfb6c7Now7+c66WAp97aZBmaoH5fYOM4ZOYIPJZoGZvmvjclbL6n7MQBLAeC/1p6x5feOAIrA/AlnCby9wxf64ywuCkUAGJpsKj6Xoq647O/oKKgbPW5c7cgxY8TdZDIRh8dj19bUqDNSUxvPnj6NFd28GUzwXHPdQ2b5sXkuVu9aijSoqpM3l9KkPhsAXv+TQY0AgOOvDxTkb5viNgJrZ7How8r4n/P0gz6IcMrZMNZ5qC0Gv3dMSpmh6NndCiFFwzYA+KQjPNo/0xFA9xMcYT+v8EV9cZxl8VxNujq58srORqGIR27ft487cNAgtKIfSGqVSrU0JiYz/ty5/k7dR18X+0UOt6YIbdarqy59Vs7QRgTqrD/JWRqFARzfMlFcOHeI6On7yWgkGYrLwtD102EqUJoqBm2vJigalgDAdx1mBGB3tSUGw4j3vSM+EhFsPvJswaSpKq5J2+k4ccqUgk+2bYvEcdzmRZKTmVkYPWWKI9c9+IZb4FTkXD38mDLr66subWpgaPJbAFhjbXwnf0debNKO512L5wx0vC+YneR/1+OJJYYb43YrvBiAMAAo6Shvm43fEmcleQ2Yr2CLfXqiCUmDSim/vJl8ff5btxbFxqKjyW6SV1ZW/2PYMMbRL7JI5BcVaY2BSassqUndhu7sCQCA3P9HQcgBSntrsLDu80kud3msj2KyVp6vHalL+D5Hi7Jokzo6j62AonFJIlk4Jeo5rkVBmqlM2pQ9cmS4+st9+/4ARElRUcUb0dE11VVVQQRBNEx+8cWi9Zs33xew7MzMwlcmTnL3GvaBls1zlVpTprHoTJymPBklMZAH/CjSh5/JxETEjcXSp9vfmdbk6uzvBpI2SdZU1FO0BdAOeb62AjoTY7FjfSNW9gIcw5HgTcUXLlF1V11S8/N7EWw2q70y6qampvDgYB1FUd5sDuc2QRCkQa/v9cqcOQnLN2y4L6hvRkfHXckoJLyeXmDDjqCZqqRNmZRJi9KFmzpryHue74MBJN9Y7EN6O7HcWITd11KnxJl/vC7xQLq2CADe6AgjWwHNcA14wSzwCRuMJmFoUl8Rv1a9+/B3dcMiIlDK7i76eOXKxEN79ozw7907+efz54ehe3VSVFRyeUmJZ3ZJyX1jtFqlsjYyNJQvjVimxznWkxNGVWWBIn2ne0u6DSUguooOzggRyD6f6DJAtqFCrV7XzQMDsCziP4NKGszyvpvlKBeOEjR2Z5NsAXQwhuE/+Eat9gW44/Cob19I5uquc+MyMwfeT8kFc+bEx/3228iFS5cmv/Huu+EURdHjwsPTGurrndKLivo8yDBRAwde1fGDjGK/ETbdx1VJn6ZSJhXyCrd3kbHdMICismVSzE1AiAwkbXBg4X/IQXfRXA9k47SivJKkmbEAkG/vXLYA+gVP0idEEhw9spV5Zdz6vJWfrNFNnznzvt7fd3v3pq5fsWLImAkT4p8dO9ZxbWwsR6NSBb+7ePGl+TExDwxRli9alHD6TDLmMXCeDccuQLPiWlpD3o8oZBhgr+IPGD+/t4T9atYH3h2KKTsjQ5OB0ogdCEtM77+xMl2uoVBM+pO9PG0BNF0SOpvDc+mJHBCLZ1t9+TOH7JISHpvNZt9vQuS5jh4yxAkYBh0dOI7jtfPee6/w3SVLHhpvHj9y5OqKD1ewpJH/Qq67dWJosvziKg0AgwDtsKvfbqKfNowVec7o79idx8H4zi0Gti5I50ZQDNDe68pvKFbKLNdX2Fb55QKlGaU6v7aXszVAUdVDKY1axcKxO+Cpyi+lODRfY8elp//huKVpmlkfG5v4/cGDA4FhBGg8SvnFpaeT7h4eHtaES09JyZ09/SUH31GrLWGRLVSdsuWSWVf3DQDssmW8lTGVVxZ4maO/V8rfHCxkvRN+/2SCrfPUaanab7O01xNvG8hqDYmzCRx35GDmAVI2Pq2fwCfIm9sT3c8f/NKQsGWyS5uzGPx55eXiegqlApFedpE1QAMxjDjtG7XGr5WrInNv4jMR/ZjPvvrqLm+VIknqpSlTLudnZUWInJ2vLYyNNTo5OrJi3noriM/nF10pKAggCOKhzkXSxYs5b83+J88eQBsLT8VrKlNvt6QE7VL+nsGok8KgWteNLK41V3ZzYbnz2RiKR+2mvBrTzZe/rVPcbjCHSMXEjSG+HF0PVzYhdMBROc2cUWXCcuQmTyPFiCYF8vL4HJzcPc0NNQRYyGNteb7GyKC68jl7J7cGaBjO4u2TRsai4q2FqpI/vbpoaQw1Z+7cu+6Z1R99lPDDoUORfv7+l0/FxQ1tzRi998Yb8efPnBm5dM2ay7PeeOOhSetTx46lLV34Ebf9fNYU0tVez6jL+Q5VLaymD63wQnFtmW4DqlE/nGYcUsbveN4t2FWAty9mA0q4zztef+FwVnNIdIhj3qbnxGFiHuGEuJlI2lzRRCmUzVSzpxPhJBWz3dHCWXK6vizutjFolD8v6+hMyVCGAcZ1dTnCBQmCCuR2kTVAI3AW78v2Bq5IWFOwc+8eU8Qzz7SBbDSZjGHdu5sZhiHiMzI07p6eKJywUHNzs3ZwQADV3d8/52R8/EONvnbp0vhjx35jeQ19x2ZwTJqaWzVXv0RxcNspYpcFfh8swwDytBu63Sk2PITyFKaSPu6cbgT2ezhD00AN2yFPvtVAul1Z4CXu7sr2NpgZ/fYUdcaOSxqeUksFYDiuJVisZookhQxNC2TORO674U7MC30FPSbtV9wsrCM9RzzlUHahWI8KIDZ5+veKaQ3QGYSDaKFP+JI2b7YibnXR4RM/Q3BoaNs9l5qcnP/a9Ol9nV1ds5JzckLvnSQyLCy9Wa12zCgufmjS/tnw8Msa2of8PRtlzbR3CgM1KVvQfW3JLXeCXDCAEu2GbpYd1Upjd9ckLggXOk3sI0CF7QfS8wdqf0stM3gVfOjj5+SA83ckqy4uPdvUx1HkXDdn7tzmqdHRAW5ubq41NTU1fB7PwaDXm44cOFB4YPduV9Ko5+960bW+VkOblpxuCGbuhGH/6ogu1gD9iCuSjfcY+GZbGGEB9NQJCO7fvw3Q5ISEvLmvvNIPZYWulZR0v1eQAf7+BY5OTs0JD4hb0XiDXq8f0LOn2XNojMaWklrrHGaDqqo6+VPkvHUWUIsY9atlFI+N8T8603BJqSbNcwc7efpL2BIJn3AzmmmjAwdHd+1ddDxXm/bqkTrZ7X9JiYpGsmHKgdomNUm4fbp9u+rZCRMsC/xGXt6t6MmTKYPB4IsB0F6+vrlHTp7s4SqRSI4cPHhlfWysNKo7q/iD4SLXCfuV3gxj6dT4P3tBtQboJzzPoCGSvjPaYlAE6H8PHjAPHzkSVSMshI7cAT16NNE07TFuypT4f2/ZMhylA/U6nW7xggVpcefORb4dE5P0zuLFDzxGtm7cmLTrq91CaWTsQ3fCvQqatYrS6tTtSI/OHrmIdUnyAk8y1JvrX95IVrNwAG8RC7WfQsItw/WlZ5vqUxZ4WnTYlaq6+s9BogEMMLTbmoqK7ZNdanu6skSjdyslU2bMyFu1ceNQDpuNjk6gzGYyrFevshn92FVfveA23EQyxgn7FekFGkfH1hOtrq6ufkJkZHkfJ71mSaRQNO1gnTcAID/llj2gWgN0E88r9GlJ4NQ2QKtTtl16dfZUbPHy5eHtJ7qUkJA7LzpaxjCMCMMwNY/Hq9Lr9V4Mw4iDQ0ISvzt5MuJBpTV0zw4NDGwS95mmEHgE2RaDtkyuryvIqr12CDlFVrsEbDDMhZ0vuDrOGvDwcpmRok3P7KxJjnvLa/iG86rL+zKaHW9+6N3PfW1l9Zy336mKWbo0vKK0tPJmQUEtQRCYUCTivjb1BcfGNTIpjt/JDRtMtNF1TYXp8MmT8ut5eY0SDw/ukGHD/EaEhVXOC2U3VqlN9I+5epT6e8YGuduGWAN0HU8SMEISPLPtyFUV/5rgwpJzTycm/qGHqE6prPtk5cq8zPR0AUWSuIdUqntv4UKniKio/g8TavpzzyXeKKxg+wyLsTtDoyo6k6gqT0Yddajo3VnaMC2IN+ybl9zbFvDDGCKv1nl1eek3M1zrEoqNuh9uc0XnU1J6TR4zJqeytLSviIeXGknGwUCCJ44xGvXabl4YdgdQkmZMohXlZgYAd3fECzQGxlHg7KbedeiQ+IWxY51zPvDUhWytxikaZgPAeVsVswbo22y+R7TX0HfbVj9l0jbIL23Ezqemkl5SaVsvka0T3jtu0YIF8Wd/OfmUz/DFjjhHiJqv7SLF1R2JRo0c9fH+x64H7z94ooiHr69e7mvx4DVGRkvRNCnmESL0//RK4631F1WVP89yt8Tg54sM16YeVIqb1shkzqvKS9Zv3d544uhRTXl2kiDrA59+PDaGMmWwNUl1ednZpv4/znQrGt9HEIIWwqDt8uTSBtIjK8ZbJBOz3GkGaMma8purNm/VnPrpp2ZOVQouE7Jgf6YWNadPtlU3a4A+i+MOm6Wjlvdrz7D22qF4Hq0UX8jICORyOJZ7wl4y6HS6OTNmpOdmX5N6DnmPY0sd9H5zlF9cKQeGRonsXHtluM94VOGoki+XGlD8uPhUQ0JxAwkIQDMNJMqEKZupel8xGzVWw9SDynj07+rRYtmQHQpxTmmp8+DAwOvfvMCjx/fmW1KlrbTg5/r4cwV6QdFS6aBZ3yvjj+bqh519zePWiB4ObcWKgVvlSWPmxOBjxo/3mTxqJC9/iQ8d8O8qtJhQGKi1RT9rgCLvUS6NXMPFWcTvwNEUVZW67SoHdM479u+nBw8f3uYgWZsUZZT279p1ZdumTb4026nSc+C8AILNd7b23P1+NzSWXVdm7kLVkAe2TXaA74VPxoq570eIwhGIaIcCYLTn2gpl01rZXY6XdH1F9qbxLmY9SZMrEhlBSl5ecJBMJk97RwIB7lzk1LQR2u2e68pN37wkKX31cG3g++HC9E/Gu9zlh7isKi/c+s235ojIyH5BMllV0nx348ivajATxbwCAKm26GINUMQj3iV4hshREnSP90kzTbcuXFKXJfXg83mqQUOG1E6ePl3ULyTE09PDQ8Jisy1pPrPZTJWXllZlZ2Qofjx0yJB37VpvALbSpe/zRr57v05VSRTpXycaVeXovZjVtihr45gZIi6+vHql712nEnKEuAR+12kkXFEmT3/Pm/y/G7ryPbfc8FMJCcMG+PsX/vSyExXZw+EPi3z6IWX86QJ9sLMDXlER69u/fTfEF4nqxJUXNP7Zt297ohQpit3XhJuZTXEquqyR+hIADtkivy2ALuM6+YzzGDT//tkbhia11VktfbjV7gxtRm2ZfAzDLO9yMJYkPabBWQ4VXOcejWJZhE9rT5ItAj5oDGVsrqu6tBFliFCFQt4ZXvc8i3gW7Jrq1hAdJhh0L99GA63NqDCWju7J6yuILVNXLZfC8Xx9/upkwiEhKyt0wqhRl6f51DCrRzvftfuulhvzxu1RsPQk0x3HoJnAsPZHKE1jOHfrnj0NUWPGWBbC+PDwy3MDmuCHbD19rcb4va0+gi2A+gJgGdIRy/g4m2epoFgjijRogKbMDEOTOIvNxwkHdHR3KSky9yUYG2+hAvCCLmV8h9kkNoFtKf+Xj6uoJRfbOkdcsT7vULZGuWeae5RgeVnDjUU+Rg4Lw3psquJcKylx2rNjx5Vv//OZoHyZr+VE0xhp1bRDtWlJtw3DZ4YK0uTNJJ1VaXZ+NYxf02wCPLXMyCuqI2UsroP2l4sXhVKZzNKnPCIkJGPZYJLcm64z59UYURH/K1v0tAVQxGevwHtgD9c+U2wqPNsycWfGmJuqiqozvkLOAjIaes/0UdAeXxERmL9YOpCFw109U62Tea4tv/7l826GaUH8MK+1Fbkx6zYapkyf3n9Qz57VfmKQC1i4+VqNsS+OgfmXOe4NUT14gag5O6nEKG4FHPFC9dBZR5SJpwopaWZxcXd05AbJZBVxb0qML39X21Cloj5red3Sqp62AhoAgF32ifgQCI6wQw6MVUlsHECTpKkqacNthjajvlx0FD0qQvflCV8RIc6K8enLZ2N/OGUm7q1JYgDoU695Ru64rElZFW8Upd64EdDY0KD6evv23KqKCibu3LkhyfO9K0OlbIvjhjzjC0WGbk1rZU/dK7hweZnibEoqZTabzc+NiBA1rpYJJWsrKs0U8zwAZNmiqK2AIl5b2HyPQe1jUlsm6OoxirSdSUZ1JXoxeHpX874PPwTqXg6BDTs2y735GX+Hu0IR9BrD6F0KSVWsFHPiEk6yjyuujZn6inrVpk2Wk+zU8eMZH3/4Hk8e69vmIL3+ozLucLZ+eO1qmUnAxtqusJbMERmXkaHbuGpVbmXGrw7HZrr36P1pFarJongfvbFmlewBFIUHaaKnojSi7lF2Z3SsSmLDgPq8HxK0ihxUg0SZnAYbHumqITMB4LM+7uyi/dMlXkFed3Ybon6fy6+48nBTwnzPiKI6c3nolmqHVZ9+Wvriyy8/jXqTJ4waKaxf6ctrTerPPqKM+zFHP+r5voKEb19xa2sSmPJNTcKVGgeX365c6TYkMNDw62tujSdvGBXbklVNXZlYuNcgKINy0S04uoYv6fOH9s2ust4f+dBMbc7hRH3tDRTQo9WvfHRzPZAzqubEICfMQ0iUvj5QoJ8WLPDhczBO4GdyzgfhTgXrxzlHxN/W503YW+s5Lyam8N1Fi8JHPf10WphTg/bYzDvpxOAvKpOlIaPo5IQEGQdIY4AHR3FdYZIwLAfidEKCaPGCBdd1pdncjPe8h0jWlhfpzQwqo9ncLGbPDm3VNAoA+1YS8modz7XXXbHaIzEyTVGK9P+mGDVylMUZAwCVj2Qe25midB6601B3OwpNUKc/SqKTc8IEKf95wW1EdrXx1sidCpaPzK9647ZtLtFTpgiflrKKeruy4ECWLjQuLc3g7ObmfOLYseziggJj3/79eeMmTgz9dN26pMP79vgVfSgVHs3RFi4+3YBSoWjj2Px5go4AilRHq+2Yc/d/FAmfirA0Xz8KMmnkt5Xpe/U0bbje0kmO3vv4XyPUPIfsiFpYfn7KlVAnzvPuzedgvOhva6/8WmwIfqpHj2uU2UyxeTzekpUrRSgT1F4JVDp7e/bs/IKca92T3vaifUW4UPZxpYlmLN3zp+xRuKOAojlQyHCI7eilcg+dE0BwBHf119gjxL1jaZIyNRYcTdEqctEcywEAZUr+DoQ84S9wDCYvG+lU+FGU89DaZrLh/RMN+WcKDf4MhuO+MllZz759jY58Ptas0TB5ubm86srKoGAPdtaJ1zz7OHIxh56bKosb9XQSALxjr9KdARTNhRylDQDYHIF7/zzngPEhOJt/VwuHPQKRBnWtqvjMda0yrzcwDKrWo5RehT08/kfGoiL45xwCc1kYIayKGSEOE7AxfrbceOvEdb08R2GiaptplogHdIgHF39zqGNPmZjtmSU3Fo/+WkHpzQwKUZAjZvfb6p0FtNV+yJ1fib5NRPAl+ULPEJrn1subLfT0s/YKqkktL9Epciq1ynwOZWhE3uMJANgMAOiY/TsTsu1z6DMCGECEnzOR/3ygo2mkP9clyJvjJeZhQowBTNFMN2RXG6tXnVNpC5Rm5HRuaPmgRoe+/tJVgLYaHlUYpgLAqDveKMbGWQ6lGItrwFk8Ese5FDBmnDQ3cxiTgU/TJi8ABrnl6ONTx1vAfBSvB/7VCwN55+gjXFEtVxWq2rQmKlBOt7wlE7QDABSdEbarAW0vC6q29G7pL0X1PNQ5j/6GHBtUtEU9pxkAUN8ZBf7Gz6KkBfJe7X7D7GE6P0pA/8a2/vuK/gTQvy9295X8CaBPAH3MLPCYqfNkhz4B9DGzwGOmzpMd+pgB+v8u/FnRNuhlEQAAAABJRU5ErkJggg=="},97874:(e,t,i)=>{i.d(t,{Z:()=>a});var o=i(77422);function n(e){let t=0;for(let i=0;i<e.length-1;i++)t+=e[i].distance(e[i+1]);return t}const s=[0,0,0,255],r={forward:!0,backward:!1};function a(e){let{data:t,getPath:i=(e,t)=>e.path,getDirection:a=e=>e.direction,getColor:d=e=>s,getMarkerPercentages:c=(e,t)=>[.5],projectFlat:p}=e;const h=[];for(const s of t){const e=i(s,null),t=a(s)||r,g=d(s),u=e.map(e=>new o.I(e)),m=u.slice(0).reverse(),f=n(u),y=c(s,{lineLength:f});for(const i of y){if(t.forward){const e=l({path:u,percentage:i,lineLength:f,color:g,object:s,projectFlat:p});h.push(e)}if(t.backward){const e=l({path:m,percentage:i,lineLength:f,color:g,object:s,projectFlat:p});h.push(e)}}}return h}function l(e){let{path:t,percentage:i,lineLength:n,color:s,object:r,projectFlat:a}=e;const l=n*i;let d=0,c=0,p=0;for(p=0;p<t.length-1&&(d+=t[p].distance(t[p+1]),!(d>l));p++)c=d;p===t.length-1&&(p-=1);const h=l-c,g=t[p+1].clone().subtract(t[p]).normalize().clone().multiply(new o.I(h,h)).add(t[p]),u=180*new o.I(a(t[p+1])).subtract(a(t[p])).verticalAngle()/Math.PI;return{position:[g.x,g.y,0],angle:u,color:s,object:r}}},99035:(e,t,i)=>{i.d(t,{i:()=>n});var o=i(15530);class n extends o.b{createTentativeFeature(e){const{lastPointerMoveEvent:t}=e;return{type:"Feature",properties:{guideType:"tentative"},geometry:{type:"Point",coordinates:(t?[t.mapCoords]:[])[0]}}}handleClick(e,t){let{mapCoords:i}=e;const o={type:"Point",coordinates:i};t.onEdit(this.getAddFeatureAction(o,t.data))}handlePointerMove(e,t){t.onUpdateCursor("cell"),super.handlePointerMove(e,t)}}},99800:(e,t,i)=>{i.d(t,{X:()=>s});var o=i(59452),n=i(98543);class s extends o.A{renderLayers(){const{id:e,getFillColor:t,getStrokeColor:i,getInnerRadius:o,updateTriggers:s}=this.props;return[new n.A(Object.assign({},this.props,{id:e+"-full",data:this.props.data,getLineColor:i,updateTriggers:Object.assign({},s,{getStrokeColor:s.getStrokeColor})})),new n.A(Object.assign({},this.props,{id:e+"-inner",data:this.props.data,getFillColor:t,getRadius:o,pickable:!1,updateTriggers:Object.assign({},s,{getFillColor:s.getFillColor,getRadius:s.getInnerRadius})}))]}}s.layerName="JunctionScatterplotLayer",s.defaultProps=Object.assign({},n.A.defaultProps,{getFillColor:e=>[0,0,0,255],getStrokeColor:e=>[255,255,255,255],getInnerRadius:e=>1})}}]);