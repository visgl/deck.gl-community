"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[8720],{6917:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>i});const a=JSON.parse('{"id":"modules/graph-layers/api-reference/layers/graph-layer","title":"GraphLayer","description":"GraphLayer is a composite Deck.gl layer that renders graph nodes, edges, and","source":"@site/../docs/modules/graph-layers/api-reference/layers/graph-layer.md","sourceDirName":"modules/graph-layers/api-reference/layers","slug":"/modules/graph-layers/api-reference/layers/graph-layer","permalink":"/deck.gl-community/docs/modules/graph-layers/api-reference/layers/graph-layer","draft":false,"unlisted":false,"editUrl":"https://github.com/visgl/deck.gl-community/tree/master/website/../docs/modules/graph-layers/api-reference/layers/graph-layer.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/deck.gl-community/docs/modules/graph-layers/"},"next":{"title":"MarkerLayer","permalink":"/deck.gl-community/docs/modules/graph-layers/api-reference/layers/marker-layer"}}');var o=r(4848),s=r(8453);const t={},l="GraphLayer",d={},i=[{value:"Usage",id:"usage",level:2},{value:"Properties",id:"properties",level:2},{value:"Data sources",id:"data-sources",level:3},{value:"<code>data</code> (object | array, optional)",id:"data-object--array-optional",level:4},{value:"<code>graph</code> (<code>Graph</code>, optional)",id:"graph-graph-optional",level:4},{value:"<code>graphLoader</code> (function, optional)",id:"graphloader-function-optional",level:4},{value:"<code>engine</code> (<code>GraphEngine</code>, optional)",id:"engine-graphengine-optional",level:4},{value:"<code>layout</code> (<code>GraphLayout</code>, optional)",id:"layout-graphlayout-optional",level:4},{value:"Styling",id:"styling",level:3},{value:"<code>stylesheet</code> (<code>GraphLayerStylesheet</code>, optional)",id:"stylesheet-graphlayerstylesheet-optional",level:4},{value:"Interaction",id:"interaction",level:3},{value:"<code>nodeEvents</code> (object, optional)",id:"nodeevents-object-optional",level:4},{value:"<code>edgeEvents</code> (object, optional)",id:"edgeevents-object-optional",level:4},{value:"<code>enableDragging</code> (boolean, optional)",id:"enabledragging-boolean-optional",level:4},{value:"Miscellaneous",id:"miscellaneous",level:3},{value:"<code>pickable</code> (boolean, optional)",id:"pickable-boolean-optional",level:4},{value:"Notes",id:"notes",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"graphlayer",children:"GraphLayer"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"GraphLayer"})," is a composite Deck.gl layer that renders graph nodes, edges, and\noptional decorators using the declarative ",(0,o.jsx)(n.a,{href:"/deck.gl-community/docs/modules/graph-layers/api-reference/styling/graph-stylesheet",children:"graph stylesheet"}),".\nIt orchestrates the ",(0,o.jsx)(n.code,{children:"GraphEngine"})," with layout, styling, and interaction state so\nthat graph applications can focus on supplying data and high-level behavior."]}),"\n",(0,o.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"import {GraphLayer, JSONLoader, D3ForceLayout} from '@deck.gl-community/graph-layers';\n\nconst layer = new GraphLayer({\n  id: 'graph',\n  data: graphJson,\n  graphLoader: JSONLoader,\n  layout: new D3ForceLayout(),\n  stylesheet: {\n    nodes: [\n      {type: 'circle', radius: {attribute: 'degree', fallback: 6}},\n      {type: 'label', text: '@id', color: '#172B4D', offset: [0, 16]}\n    ],\n    edges: {\n      stroke: {attribute: 'isCritical', fallback: false, scale: value => (value ? '#F97316' : '#CBD5F5')},\n      strokeWidth: {default: 1, hover: 3},\n      decorators: [{type: 'arrow', size: 8}]\n    }\n  },\n  enableDragging: true\n});\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Provide either a pre-built ",(0,o.jsx)(n.code,{children:"graph"})," or raw ",(0,o.jsx)(n.code,{children:"data"})," plus a ",(0,o.jsx)(n.code,{children:"graphLoader"}),". When the\nlayer receives new data it rebuilds the internal ",(0,o.jsx)(n.code,{children:"GraphEngine"}),", re-runs the\nlayout, and updates interactions automatically."]}),"\n",(0,o.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"GraphLayer"})," inherits all standard ",(0,o.jsx)(n.a,{href:"https://deck.gl/docs/api-reference/core/layer",children:"Deck.gl layer props"}),"\nand adds the graph-specific options below."]}),"\n",(0,o.jsx)(n.h3,{id:"data-sources",children:"Data sources"}),"\n",(0,o.jsxs)(n.h4,{id:"data-object--array-optional",children:[(0,o.jsx)(n.code,{children:"data"})," (object | array, optional)"]}),"\n",(0,o.jsxs)(n.p,{children:["Raw JSON data used to construct a graph. The structure is passed to\n",(0,o.jsx)(n.a,{href:"#graphloader-function-optional",children:(0,o.jsx)(n.code,{children:"graphLoader"})})," whenever ",(0,o.jsx)(n.code,{children:"data"})," changes. Provide\none of ",(0,o.jsx)(n.code,{children:"data"}),", ",(0,o.jsx)(n.code,{children:"graph"}),", or ",(0,o.jsx)(n.code,{children:"engine"}),"."]}),"\n",(0,o.jsxs)(n.h4,{id:"graph-graph-optional",children:[(0,o.jsx)(n.code,{children:"graph"})," (",(0,o.jsx)(n.a,{href:"/deck.gl-community/docs/modules/graph-layers/api-reference/graph",children:(0,o.jsx)(n.code,{children:"Graph"})}),", optional)"]}),"\n",(0,o.jsxs)(n.p,{children:["Pre-initialized graph instance to render. Supply this when you manage the graph\nlifecycle yourself (e.g. streaming updates). Mutating the graph outside the layer\nrequires calling ",(0,o.jsx)(n.a,{href:"https://deck.gl/docs/api-reference/core/layer#layerupdateneeded",children:(0,o.jsx)(n.code,{children:"layer.setNeedsRedraw"})}),"\nor updating props so Deck.gl knows to re-render."]}),"\n",(0,o.jsxs)(n.h4,{id:"graphloader-function-optional",children:[(0,o.jsx)(n.code,{children:"graphLoader"})," (function, optional)"]}),"\n",(0,o.jsxs)(n.p,{children:["Custom loader that converts raw ",(0,o.jsx)(n.code,{children:"data"})," into a ",(0,o.jsx)(n.code,{children:"Graph"}),". Defaults to the bundled\n",(0,o.jsx)(n.code,{children:"JSONLoader"}),", which expects ",(0,o.jsx)(n.code,{children:"{nodes, edges}"})," collections."]}),"\n",(0,o.jsxs)(n.h4,{id:"engine-graphengine-optional",children:[(0,o.jsx)(n.code,{children:"engine"})," (",(0,o.jsx)(n.code,{children:"GraphEngine"}),", optional)"]}),"\n",(0,o.jsxs)(n.p,{children:["Inject an existing engine to reuse layout state across renders. When omitted the\nlayer constructs a new engine from ",(0,o.jsx)(n.code,{children:"graph"})," or ",(0,o.jsx)(n.code,{children:"data"}),"."]}),"\n",(0,o.jsxs)(n.h4,{id:"layout-graphlayout-optional",children:[(0,o.jsx)(n.code,{children:"layout"})," (",(0,o.jsx)(n.a,{href:"/deck.gl-community/docs/modules/graph-layers/api-reference/layouts/",children:(0,o.jsx)(n.code,{children:"GraphLayout"})}),", optional)"]}),"\n",(0,o.jsxs)(n.p,{children:["Layout algorithm used by the engine. Pass one of the bundled layouts such as\n",(0,o.jsx)(n.a,{href:"/deck.gl-community/docs/modules/graph-layers/api-reference/layouts/d3-layout",children:(0,o.jsx)(n.code,{children:"D3ForceLayout"})})," or implement a custom layout that\nconforms to the interface."]}),"\n",(0,o.jsx)(n.h3,{id:"styling",children:"Styling"}),"\n",(0,o.jsxs)(n.h4,{id:"stylesheet-graphlayerstylesheet-optional",children:[(0,o.jsx)(n.code,{children:"stylesheet"})," (",(0,o.jsx)(n.a,{href:"/deck.gl-community/docs/modules/graph-layers/api-reference/styling/graph-stylesheet",children:(0,o.jsx)(n.code,{children:"GraphLayerStylesheet"})}),", optional)"]}),"\n",(0,o.jsxs)(n.p,{children:["Declarative description of node and edge appearance. Supply ",(0,o.jsx)(n.code,{children:"nodes"})," as an array\nand ",(0,o.jsx)(n.code,{children:"edges"})," as a single object or array when stacking edge passes. The layer\nstill accepts the legacy ",(0,o.jsx)(n.code,{children:"nodeStyle"}),"/",(0,o.jsx)(n.code,{children:"edgeStyle"})," props but they are deprecated\nand forward to the stylesheet internally."]}),"\n",(0,o.jsx)(n.h3,{id:"interaction",children:"Interaction"}),"\n",(0,o.jsxs)(n.h4,{id:"nodeevents-object-optional",children:[(0,o.jsx)(n.code,{children:"nodeEvents"})," (object, optional)"]}),"\n",(0,o.jsxs)(n.p,{children:["Register interaction callbacks for nodes. Supported keys are ",(0,o.jsx)(n.code,{children:"onMouseLeave"}),",\n",(0,o.jsx)(n.code,{children:"onHover"}),", ",(0,o.jsx)(n.code,{children:"onMouseEnter"}),", ",(0,o.jsx)(n.code,{children:"onClick"}),", and ",(0,o.jsx)(n.code,{children:"onDrag"}),". See the\n",(0,o.jsx)(n.a,{href:"/deck.gl-community/docs/modules/graph-layers/api-reference/interactions",children:"interaction reference"})," for signatures and usage notes."]}),"\n",(0,o.jsxs)(n.h4,{id:"edgeevents-object-optional",children:[(0,o.jsx)(n.code,{children:"edgeEvents"})," (object, optional)"]}),"\n",(0,o.jsxs)(n.p,{children:["Interaction callbacks for edges. Supports ",(0,o.jsx)(n.code,{children:"onClick"})," and ",(0,o.jsx)(n.code,{children:"onHover"}),". See the\n",(0,o.jsx)(n.a,{href:"/deck.gl-community/docs/modules/graph-layers/api-reference/interactions",children:"interaction reference"}),"."]}),"\n",(0,o.jsxs)(n.h4,{id:"enabledragging-boolean-optional",children:[(0,o.jsx)(n.code,{children:"enableDragging"})," (boolean, optional)"]}),"\n",(0,o.jsxs)(n.p,{children:["When ",(0,o.jsx)(n.code,{children:"true"}),", nodes can be repositioned by dragging. The interaction manager\nupdates the layout and stylesheet state automatically during drags."]}),"\n",(0,o.jsx)(n.h3,{id:"miscellaneous",children:"Miscellaneous"}),"\n",(0,o.jsxs)(n.h4,{id:"pickable-boolean-optional",children:[(0,o.jsx)(n.code,{children:"pickable"})," (boolean, optional)"]}),"\n",(0,o.jsxs)(n.p,{children:["Inherited from ",(0,o.jsx)(n.code,{children:"CompositeLayer"}),". Defaults to ",(0,o.jsx)(n.code,{children:"true"})," so nodes and edges respond to\nhover and click events. Disable if you only need a static rendering."]}),"\n",(0,o.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["The layer resolves the stylesheet through the ",(0,o.jsx)(n.code,{children:"GraphStyleEngine"}),", which\ncoalesces attribute bindings, selectors, and triggers before delegating to the\nunderlying Deck.gl sublayers."]}),"\n",(0,o.jsxs)(n.li,{children:["Reusing the same ",(0,o.jsx)(n.code,{children:"GraphEngine"})," instance across renders preserves layout state\nand interaction history. Provide the ",(0,o.jsx)(n.code,{children:"engine"})," prop to opt into that workflow."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>l});var a=r(6540);const o={},s=a.createContext(o);function t(e){const n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);