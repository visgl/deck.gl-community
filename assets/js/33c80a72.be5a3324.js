"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[8550],{28453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>i});var o=r(96540);const a={},s=o.createContext(a);function t(e){const n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),o.createElement(s.Provider,{value:n},e.children)}},41014:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>l});var o=r(68985),a=r(74848),s=r(28453);const t={},i="D3DagLayout",d={},l=[{value:"Usage",id:"usage",level:2},{value:"D3DagLayoutProps",id:"d3daglayoutprops",level:2},{value:"Pipeline operators",id:"pipeline-operators",level:3},{value:"Graph preparation",id:"graph-preparation",level:3},{value:"Post-processing",id:"post-processing",level:3},{value:"Runtime controls",id:"runtime-controls",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"d3daglayout",children:"D3DagLayout"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"D3DagLayout"})," wraps the ",(0,a.jsx)(n.a,{href:"https://github.com/erikbrinkman/d3-dag",children:"d3-dag"})," pipeline so you can generate layered layouts for directed graphs inside ",(0,a.jsx)(n.code,{children:"GraphLayer"}),". It lets you pick from the built-in d3-dag operators or supply your own functions, and adds convenience utilities such as orientation transforms and chain collapsing to tame long linear stretches of nodes."]}),"\n",(0,a.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"import {D3DagLayout} from '@deck.gl-community/graph-layers';\n\nconst layout = new D3DagLayout({\n  layout: 'sugiyama',\n  layering: 'longestPath',\n  decross: 'twoLayer',\n  coord: 'greedy',\n  nodeSize: [140, 80],\n  orientation: 'LR',\n  collapseLinearChains: true\n});\n\nnew GraphLayer({\n  id: 'graph',\n  data: graphData,\n  layout,\n  rankGrid: {\n    enabled: true,\n    direction: 'horizontal',\n    rankAccessor: 'rank'\n  }\n});\n"})}),"\n",(0,a.jsxs)(n.p,{children:["When the DAG assigns explicit ranks to nodes (e.g. via the ",(0,a.jsx)(n.code,{children:"nodeRank"})," layout\noption) the layer can render matching grid lines by enabling\n",(0,a.jsx)(n.a,{href:"/deck.gl-community/docs/modules/graph-layers/api-reference/layers/graph-layer#rankgrid-boolean--object-optional",children:(0,a.jsx)(n.code,{children:"rankGrid"})}),". ",(0,a.jsx)(n.code,{children:"GraphLayer"}),"\npulls the rank metadata from each node, averages their positions, and keeps the\nlines aligned with the layout bounds as you pan and zoom."]}),"\n",(0,a.jsx)(n.h2,{id:"d3daglayoutprops",children:"D3DagLayoutProps"}),"\n",(0,a.jsx)(n.h3,{id:"pipeline-operators",children:"Pipeline operators"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"layout"})," (",(0,a.jsx)(n.code,{children:"'sugiyama' | 'grid' | 'zherebko' | (dag) => LayoutResult"}),", default ",(0,a.jsx)(n.code,{children:"'sugiyama'"}),") - Chooses the high-level d3-dag operator. You can pass a layout instance returned from d3-dag directly to gain full control."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"layering"})," (",(0,a.jsx)(n.code,{children:"'simplex' | 'longestPath' | 'topological' | function"}),", default ",(0,a.jsx)(n.code,{children:"'topological'"}),") - Layering step used by sugiyama layouts. Supply a custom layering operator created with d3-dag helpers to override the defaults."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"decross"})," (",(0,a.jsx)(n.code,{children:"'twoLayer' | 'opt' | 'dfs' | function"}),", default ",(0,a.jsx)(n.code,{children:"'twoLayer'"}),") - Decrossing strategy used to reduce edge crossings in sugiyama layouts."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"coord"})," (",(0,a.jsx)(n.code,{children:"'simplex' | 'greedy' | 'quad' | 'center' | 'topological' | function"}),", default ",(0,a.jsx)(n.code,{children:"'greedy'"}),") - Coordinate assignment phase for sugiyama layouts."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"nodeSize"})," (",(0,a.jsx)(n.code,{children:"[number, number] | NodeSize"}),", default ",(0,a.jsx)(n.code,{children:"[140, 120]"}),") - Fixed size or accessor that reports each node's width and height to d3-dag."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"gap"})," (",(0,a.jsx)(n.code,{children:"[number, number]"}),", default ",(0,a.jsx)(n.code,{children:"[0, 0]"}),") - Gap between nodes in the x/y directions. ",(0,a.jsx)(n.code,{children:"separation"})," is an alias."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"separation"})," (",(0,a.jsx)(n.code,{children:"[number, number]"}),", default ",(0,a.jsx)(n.code,{children:"[0, 0]"}),") - Preferred spacing between adjacent nodes; takes precedence over ",(0,a.jsx)(n.code,{children:"gap"})," when both are provided."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"When any of these options change, the layout pipeline is recomputed on the next tick."}),"\n",(0,a.jsx)(n.h3,{id:"graph-preparation",children:"Graph preparation"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"dagBuilder"})," (",(0,a.jsx)(n.code,{children:"'graph' | 'connect' | 'stratify' | (graph) => MutGraph"}),", default ",(0,a.jsx)(n.code,{children:"'graph'"}),") - Controls how the ",(0,a.jsx)(n.code,{children:"Graph"})," is converted into a d3-dag instance. Use ",(0,a.jsx)(n.code,{children:"'graph'"})," for direct node/edge translation, ",(0,a.jsx)(n.code,{children:"'connect'"})," to infer structure from edge lists, or ",(0,a.jsx)(n.code,{children:"'stratify'"})," when the graph already stores parent references. Pass a custom builder to plug in your own conversion step."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"post-processing",children:"Post-processing"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"orientation"})," (",(0,a.jsx)(n.code,{children:"'TB' | 'BT' | 'LR' | 'RL'"}),", default ",(0,a.jsx)(n.code,{children:"'TB'"}),") - Rotates and flips the final coordinates. ",(0,a.jsx)(n.code,{children:"'TB'"})," keeps the root at the top; ",(0,a.jsx)(n.code,{children:"'LR'"})," produces a left-to-right layout, and so on."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"center"})," (",(0,a.jsx)(n.code,{children:"boolean | {x?: boolean; y?: boolean}"}),", default ",(0,a.jsx)(n.code,{children:"true"}),") - Centers the layout around the origin on the selected axes. Disable to keep the d3-dag output in its native coordinate space."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"runtime-controls",children:"Runtime controls"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"setProps(options)"})," - Merges partial props and reruns the layout. Useful for live controls that tweak layering/decross operators without recreating the layout instance."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["These helpers invoke the standard layout lifecycle callbacks (",(0,a.jsx)(n.code,{children:"onLayoutStart"}),", ",(0,a.jsx)(n.code,{children:"onLayoutChange"}),", ",(0,a.jsx)(n.code,{children:"onLayoutDone"}),") so the layer updates automatically when the DAG pipeline finishes."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},68985:e=>{e.exports=JSON.parse('{"id":"modules/graph-layers/api-reference/layouts/d3-dag-layout","title":"D3DagLayout","description":"D3DagLayout wraps the d3-dag pipeline so you can generate layered layouts for directed graphs inside GraphLayer. It lets you pick from the built-in d3-dag operators or supply your own functions, and adds convenience utilities such as orientation transforms and chain collapsing to tame long linear stretches of nodes.","source":"@site/../docs/modules/graph-layers/api-reference/layouts/d3-dag-layout.md","sourceDirName":"modules/graph-layers/api-reference/layouts","slug":"/modules/graph-layers/api-reference/layouts/d3-dag-layout","permalink":"/deck.gl-community/docs/modules/graph-layers/api-reference/layouts/d3-dag-layout","draft":false,"unlisted":false,"editUrl":"https://github.com/visgl/deck.gl-community/tree/master/website/../docs/modules/graph-layers/api-reference/layouts/d3-dag-layout.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"D3ForceLayout","permalink":"/deck.gl-community/docs/modules/graph-layers/api-reference/layouts/d3-force-layout"},"next":{"title":"radial-layout","permalink":"/deck.gl-community/docs/modules/graph-layers/api-reference/layouts/radial-layout"}}')}}]);