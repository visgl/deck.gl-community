"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[7124],{28453:(e,r,n)=>{n.d(r,{R:()=>i,x:()=>l});var o=n(96540);const t={},a=o.createContext(t);function i(e){const r=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),o.createElement(a.Provider,{value:r},e.children)}},44027:e=>{e.exports=JSON.parse('{"id":"modules/layers/api-reference/path-marker-layer","title":"PathMarkerLayer","description":"Create directional markers along a path (arrows by default) while reusing the","source":"@site/../docs/modules/layers/api-reference/path-marker-layer.md","sourceDirName":"modules/layers/api-reference","slug":"/modules/layers/api-reference/path-marker-layer","permalink":"/deck.gl-community/docs/modules/layers/api-reference/path-marker-layer","draft":false,"unlisted":false,"editUrl":"https://github.com/visgl/deck.gl-community/tree/master/website/../docs/modules/layers/api-reference/path-marker-layer.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/deck.gl-community/docs/modules/layers/"},"next":{"title":"PathOutlineLayer","permalink":"/deck.gl-community/docs/modules/layers/api-reference/path-outline-layer"}}')},85548:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>s,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var o=n(44027),t=n(74848),a=n(28453);const i={},l="PathMarkerLayer",s={},c=[{value:"Usage",id:"usage",level:2},{value:"Properties",id:"properties",level:2},{value:"<code>getDirection</code> (<code>function</code>, optional)",id:"getdirection-function-optional",level:3},{value:"<code>getMarkerColor</code> (<code>function</code>, optional)",id:"getmarkercolor-function-optional",level:3},{value:"<code>getMarkerPercentages</code> (<code>function</code>, optional)",id:"getmarkerpercentages-function-optional",level:3},{value:"<code>highlightPoint</code> (<code>[number, number] | [number, number, number]</code>, optional)",id:"highlightpoint-number-number--number-number-number-optional",level:3},{value:"<code>highlightIndex</code> (<code>number</code>, optional)",id:"highlightindex-number-optional",level:3},{value:"<code>MarkerLayer</code> (<code>Layer</code>, optional)",id:"markerlayer-layer-optional",level:3},{value:"<code>markerLayerProps</code> (<code>object</code>, optional)",id:"markerlayerprops-object-optional",level:3},{value:"<code>sizeScale</code> (<code>number</code>, optional)",id:"sizescale-number-optional",level:3},{value:"<code>fp64</code> (<code>boolean</code>, optional)",id:"fp64-boolean-optional",level:3},{value:"<code>nebulaLayer</code> (<code>Layer</code>, optional)",id:"nebulalayer-layer-optional",level:3},{value:"Sublayers",id:"sublayers",level:2}];function d(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"pathmarkerlayer",children:"PathMarkerLayer"})}),"\n",(0,t.jsxs)(r.p,{children:["Create directional markers along a path (arrows by default) while reusing the\n",(0,t.jsx)(r.a,{href:"/deck.gl-community/docs/modules/layers/api-reference/path-outline-layer",children:(0,t.jsx)(r.code,{children:"PathOutlineLayer"})})," halo renderer. The layer is useful\nfor visualizing traffic flow, transit routes, or any polyline where the travel\ndirection matters. Markers are positioned in screen space so they stay evenly\nspaced regardless of map zoom level."]}),"\n",(0,t.jsxs)(r.p,{children:["See the ",(0,t.jsx)(r.a,{href:"/examples/layers/path-outline-and-markers",children:"Path outline and marker example"}),"\nfor a live walkthrough."]}),"\n",(0,t.jsx)(r.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",children:"import {PathMarkerLayer} from '@deck.gl-community/layers';\n\nconst layer = new PathMarkerLayer({\n  id: 'transit-routes',\n  data: routes,\n  widthUnits: 'pixels',\n  widthScale: 10,\n  getPath: (d) => d.path,\n  getColor: (d) => d.color,\n  getDirection: () => ({forward: true, backward: false}),\n  getMarkerColor: (d) => d.markerColor,\n  getMarkerPercentages: (object, {lineLength}) =>\n    lineLength > 800 ? [0.2, 0.5, 0.8] : [0.5]\n});\n"})}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"PathMarkerLayer"})," inherits every property from ",(0,t.jsx)(r.code,{children:"PathOutlineLayer"})," (which itself\ninherits from deck.gl's ",(0,t.jsx)(r.code,{children:"PathLayer"}),") and adds the options below to control the\nmarker pass."]}),"\n",(0,t.jsx)(r.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsxs)(r.h3,{id:"getdirection-function-optional",children:[(0,t.jsx)(r.code,{children:"getDirection"})," (",(0,t.jsx)(r.code,{children:"function"}),", optional)"]}),"\n",(0,t.jsxs)(r.p,{children:["Accessor that returns an object describing which direction(s) to render markers.\nThe object supports ",(0,t.jsx)(r.code,{children:"forward"})," and ",(0,t.jsx)(r.code,{children:"backward"})," boolean flags. When omitted the\nlayer reads ",(0,t.jsx)(r.code,{children:"object.direction"})," or defaults to ",(0,t.jsx)(r.code,{children:"{forward: true, backward: false}"}),"."]}),"\n",(0,t.jsxs)(r.h3,{id:"getmarkercolor-function-optional",children:[(0,t.jsx)(r.code,{children:"getMarkerColor"})," (",(0,t.jsx)(r.code,{children:"function"}),", optional)"]}),"\n",(0,t.jsxs)(r.p,{children:["Accessor that returns the RGBA color of each marker. Defaults to ",(0,t.jsx)(r.code,{children:"[0, 0, 0, 255]"}),"."]}),"\n",(0,t.jsxs)(r.h3,{id:"getmarkerpercentages-function-optional",children:[(0,t.jsx)(r.code,{children:"getMarkerPercentages"})," (",(0,t.jsx)(r.code,{children:"function"}),", optional)"]}),"\n",(0,t.jsxs)(r.p,{children:["Controls where markers are placed along each path. The accessor receives the\nobject and a context object ",(0,t.jsx)(r.code,{children:"{lineLength}"})," measured in screen pixels. Return an\narray of numbers between ",(0,t.jsx)(r.code,{children:"0"})," and ",(0,t.jsx)(r.code,{children:"1"}),", representing the percentage along the\npolyline from the start vertex. The default accessor places three markers at 25,\n50, and 75 percent for longer paths and a single marker at the midpoint for\nshorter ones."]}),"\n",(0,t.jsxs)(r.h3,{id:"highlightpoint-number-number--number-number-number-optional",children:[(0,t.jsx)(r.code,{children:"highlightPoint"})," (",(0,t.jsx)(r.code,{children:"[number, number] | [number, number, number]"}),", optional)"]}),"\n",(0,t.jsxs)(r.p,{children:["Geographic position used to highlight the closest point on the selected path.\nRequires ",(0,t.jsx)(r.code,{children:"highlightIndex"})," to reference the matching object in ",(0,t.jsx)(r.code,{children:"data"}),". When both\nare provided the layer renders a small ",(0,t.jsx)(r.code,{children:"ScatterplotLayer"})," dot at the nearest\npoint along the polyline. Defaults to ",(0,t.jsx)(r.code,{children:"null"}),"."]}),"\n",(0,t.jsxs)(r.h3,{id:"highlightindex-number-optional",children:[(0,t.jsx)(r.code,{children:"highlightIndex"})," (",(0,t.jsx)(r.code,{children:"number"}),", optional)"]}),"\n",(0,t.jsxs)(r.p,{children:["Index of the path to inspect when ",(0,t.jsx)(r.code,{children:"highlightPoint"})," is provided. Defaults to ",(0,t.jsx)(r.code,{children:"-1"}),"\n(no highlight)."]}),"\n",(0,t.jsxs)(r.h3,{id:"markerlayer-layer-optional",children:[(0,t.jsx)(r.code,{children:"MarkerLayer"})," (",(0,t.jsx)(r.code,{children:"Layer"}),", optional)"]}),"\n",(0,t.jsxs)(r.p,{children:["Layer class used to render each marker. Defaults to deck.gl's ",(0,t.jsx)(r.code,{children:"SimpleMeshLayer"}),"\nwith a 2D arrow mesh. Supply your own layer (for example, ",(0,t.jsx)(r.code,{children:"IconLayer"}),") to change\nthe marker geometry."]}),"\n",(0,t.jsxs)(r.h3,{id:"markerlayerprops-object-optional",children:[(0,t.jsx)(r.code,{children:"markerLayerProps"})," (",(0,t.jsx)(r.code,{children:"object"}),", optional)"]}),"\n",(0,t.jsxs)(r.p,{children:["Static props merged into the ",(0,t.jsx)(r.code,{children:"MarkerLayer"})," constructor. The defaults provide the\nbundled arrow mesh. Override this to adjust orientation, lighting, or other\nper-layer options. Dynamic props can also be supplied via ",(0,t.jsx)(r.code,{children:"updateTriggers"})," on\nthe composite layer."]}),"\n",(0,t.jsxs)(r.h3,{id:"sizescale-number-optional",children:[(0,t.jsx)(r.code,{children:"sizeScale"})," (",(0,t.jsx)(r.code,{children:"number"}),", optional)"]}),"\n",(0,t.jsxs)(r.p,{children:["Scale applied to the marker geometry. Defaults to ",(0,t.jsx)(r.code,{children:"100"}),", matching the size range\nof the arrow mesh used by the ",(0,t.jsx)(r.code,{children:"SimpleMeshLayer"}),"."]}),"\n",(0,t.jsxs)(r.h3,{id:"fp64-boolean-optional",children:[(0,t.jsx)(r.code,{children:"fp64"})," (",(0,t.jsx)(r.code,{children:"boolean"}),", optional)"]}),"\n",(0,t.jsxs)(r.p,{children:["Enable 64-bit precision for the underlying marker layer. Defaults to ",(0,t.jsx)(r.code,{children:"false"}),"."]}),"\n",(0,t.jsxs)(r.h3,{id:"nebulalayer-layer-optional",children:[(0,t.jsx)(r.code,{children:"nebulaLayer"})," (",(0,t.jsx)(r.code,{children:"Layer"}),", optional)"]}),"\n",(0,t.jsxs)(r.p,{children:["Legacy escape hatch carried over from the nebula.gl version of this layer. Most\napplications can ignore it; when provided the instance will be reused instead of\ncreating a new ",(0,t.jsx)(r.code,{children:"MarkerLayer"}),"."]}),"\n",(0,t.jsx)(r.h2,{id:"sublayers",children:"Sublayers"}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"PathMarkerLayer"})," renders three sublayers:"]}),"\n",(0,t.jsxs)(r.ol,{children:["\n",(0,t.jsxs)(r.li,{children:["A ",(0,t.jsx)(r.code,{children:"PathOutlineLayer"})," to draw the base stroke and halo."]}),"\n",(0,t.jsxs)(r.li,{children:["A marker layer (default ",(0,t.jsx)(r.code,{children:"SimpleMeshLayer"}),") positioned at the percentages\nreturned by ",(0,t.jsx)(r.code,{children:"getMarkerPercentages"}),"."]}),"\n",(0,t.jsxs)(r.li,{children:["A ",(0,t.jsx)(r.code,{children:"ScatterplotLayer"})," that marks the closest point to ",(0,t.jsx)(r.code,{children:"highlightPoint"})," when\nhighlighting is enabled."]}),"\n"]}),"\n",(0,t.jsxs)(r.p,{children:["Because the outline already renders the base path, disable picking on the marker\nlayer if you only want to interact with the path geometry. The composite layer's\n",(0,t.jsx)(r.code,{children:"getPickingInfo"})," helper also forwards the picked object from the outline so tool\ntips receive the original data object instead of the generated marker vertices."]})]})}function h(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);