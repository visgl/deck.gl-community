"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[2330],{15331:e=>{e.exports=JSON.parse('{"id":"modules/graph-layers/api-reference/layouts/collapsible-d3-dag-layout","title":"D3DagLayout","description":"D3DagLayout wraps the d3-dag pipeline so you can generate layered layouts for directed graphs inside GraphLayer. It lets you pick from the built-in d3-dag operators or supply your own functions, and adds convenience utilities such as orientation transforms and chain collapsing to tame long linear stretches of nodes.","source":"@site/../docs/modules/graph-layers/api-reference/layouts/collapsible-d3-dag-layout.md","sourceDirName":"modules/graph-layers/api-reference/layouts","slug":"/modules/graph-layers/api-reference/layouts/collapsible-d3-dag-layout","permalink":"/deck.gl-community/docs/modules/graph-layers/api-reference/layouts/collapsible-d3-dag-layout","draft":false,"unlisted":false,"editUrl":"https://github.com/visgl/deck.gl-community/tree/master/website/../docs/modules/graph-layers/api-reference/layouts/collapsible-d3-dag-layout.md","tags":[],"version":"current","frontMatter":{}}')},28453:(e,n,a)=>{a.d(n,{R:()=>r,x:()=>l});var o=a(96540);const s={},t=o.createContext(s);function r(e){const n=o.useContext(t);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(t.Provider,{value:n},e.children)}},74527:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var o=a(15331),s=a(74848),t=a(28453);const r={},l="D3DagLayout",i={},d=[{value:"Usage",id:"usage",level:2},{value:"D3DagLayoutProps",id:"d3daglayoutprops",level:2},{value:"Runtime controls",id:"runtime-controls",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"d3daglayout",children:"D3DagLayout"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"D3DagLayout"})," wraps the ",(0,s.jsx)(n.a,{href:"https://github.com/erikbrinkman/d3-dag",children:"d3-dag"})," pipeline so you can generate layered layouts for directed graphs inside ",(0,s.jsx)(n.code,{children:"GraphLayer"}),". It lets you pick from the built-in d3-dag operators or supply your own functions, and adds convenience utilities such as orientation transforms and chain collapsing to tame long linear stretches of nodes."]}),"\n",(0,s.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import {D3DagLayout} from '@deck.gl-community/graph-layers';\n\nconst layout = new CollapsibleD3DagLayout({\n  layout: 'sugiyama',\n  layering: 'longestPath',\n  decross: 'twoLayer',\n  coord: 'greedy',\n  nodeSize: [140, 80],\n  orientation: 'LR',\n  collapseLinearChains: true\n});\n\nnew GraphLayer({\n  id: 'graph',\n  data: graphData,\n  layout\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"d3daglayoutprops",children:"D3DagLayoutProps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"collapseLinearChains"})," (",(0,s.jsx)(n.code,{children:"boolean"}),", default ",(0,s.jsx)(n.code,{children:"false"}),") - Collapses chains of degree-one nodes into a single representative so long pipelines can be expanded or collapsed interactively. Collapsed chains expose metadata on each node (",(0,s.jsx)(n.code,{children:"collapsedChainId"}),", ",(0,s.jsx)(n.code,{children:"collapsedNodeIds"}),", etc.) for UI controls."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"runtime-controls",children:"Runtime controls"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"setProps(options)"})," - Merges partial props and reruns the layout. Useful for live controls that tweak layering/decross operators without recreating the layout instance."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"toggleCollapsedChain(chainId)"})," / ",(0,s.jsx)(n.code,{children:"setCollapsedChains(chainIds)"})," - Toggle or set the collapse state for previously detected linear chains. Chain identifiers can be read from node data (",(0,s.jsx)(n.code,{children:"collapsedChainId"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"getLinkControlPoints(edge)"})," - Returns any intermediate control points computed by the active d3-dag operator, allowing ",(0,s.jsx)(n.code,{children:"GraphLayer"})," edge renderers to draw smooth splines."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["These helpers invoke the standard layout lifecycle callbacks (",(0,s.jsx)(n.code,{children:"onLayoutStart"}),", ",(0,s.jsx)(n.code,{children:"onLayoutChange"}),", ",(0,s.jsx)(n.code,{children:"onLayoutDone"}),") so the layer updates automatically when the DAG pipeline finishes."]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);