(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[1551],{168:(t,e,n)=>{"use strict";function r(t){return null===t?NaN:+t}n.d(e,{A:()=>r})},201:(t,e,n)=>{"use strict";n.d(e,{FD:()=>i,FK:()=>r.FK,Y:()=>i});var r=n(172);var o=0;Array.isArray;function i(t,e,n,i,a,s){e||(e={});var u,l,c=e;if("ref"in c)for(l in c={},e)"ref"==l?u=e[l]:c[l]=e[l];var h={type:t,props:c,key:n,ref:u,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--o,__i:-1,__u:0,__source:a,__self:s};if("function"==typeof t&&(u=t.defaultProps))for(l in u)void 0===c[l]&&(c[l]=u[l]);return r.fF.vnode&&r.fF.vnode(h),h}},734:(t,e,n)=>{const r=n(5659),o=n(8507),i={};Object.keys(r).forEach(t=>{i[t]={},Object.defineProperty(i[t],"channels",{value:r[t].channels}),Object.defineProperty(i[t],"labels",{value:r[t].labels});const e=o(t);Object.keys(e).forEach(n=>{const r=e[n];i[t][n]=function(t){const e=function(...e){const n=e[0];if(null==n)return n;n.length>1&&(e=n);const r=t(e);if("object"==typeof r)for(let t=r.length,o=0;o<t;o++)r[o]=Math.round(r[o]);return r};return"conversion"in t&&(e.conversion=t.conversion),e}(r),i[t][n].raw=function(t){const e=function(...e){const n=e[0];return null==n?n:(n.length>1&&(e=n),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(r)})}),t.exports=i},886:(t,e,n)=>{"use strict";n.d(e,{A:()=>o});var r=n(3735);function o(t){return(t=(0,r.f)(Math.abs(t)))?t[1]:NaN}},919:(t,e,n)=>{"use strict";function r(t,e){var n,r=1;function o(){var o,i,a=n.length,s=0,u=0;for(o=0;o<a;++o)s+=(i=n[o]).x,u+=i.y;for(s=(s/a-t)*r,u=(u/a-e)*r,o=0;o<a;++o)(i=n[o]).x-=s,i.y-=u}return null==t&&(t=0),null==e&&(e=0),o.initialize=function(t){n=t},o.x=function(e){return arguments.length?(t=+e,o):t},o.y=function(t){return arguments.length?(e=+t,o):e},o.strength=function(t){return arguments.length?(r=+t,o):r},o}n.d(e,{A:()=>r})},1015:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>u});var r=n(2887);function o(t){let e=t,n=t;function o(t,e,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){const i=r+o>>>1;n(t[i],e)<0?r=i+1:o=i}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>(0,r.A)(t(e),n)}(t)),{left:o,center:function(t,n,r,i){null==r&&(r=0),null==i&&(i=t.length);const a=o(t,n,r,i-1);return a>r&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){const i=r+o>>>1;n(t[i],e)>0?o=i:r=i+1}return r}}}var i=n(168);const a=o(r.A),s=a.right,u=(a.left,o(i.A).center,s)},1120:(t,e,n)=>{"use strict";n.d(e,{A:()=>S,x:()=>M,y:()=>I});var r,o,i=n(2996),a=0,s=0,u=0,l=0,c=0,h=0,f="object"==typeof performance&&performance.now?performance:Date,d="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p(){return c||(d(g),c=f.now()+h)}function g(){c=0}function v(){this._call=this._time=this._next=null}function m(t,e,n){var r=new v;return r.restart(t,e,n),r}function y(){c=(l=f.now())+h,a=s=0;try{!function(){p(),++a;for(var t,e=r;e;)(t=c-e._time)>=0&&e._call.call(void 0,t),e=e._next;--a}()}finally{a=0,function(){var t,e,n=r,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:r=e);o=t,w(i)}(),c=0}}function b(){var t=f.now(),e=t-l;e>1e3&&(h-=e,l=t)}function w(t){a||(s&&(s=clearTimeout(s)),t-c>24?(t<1/0&&(s=setTimeout(y,t-f.now()-h)),u&&(u=clearInterval(u))):(u||(l=f.now(),u=setInterval(b,1e3)),a=1,d(y)))}v.prototype=m.prototype={constructor:v,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?p():+n)+(null==e?0:+e),this._next||o===this||(o?o._next=this:r=this,o=this),this._call=t,this._time=n,w()},stop:function(){this._call&&(this._call=null,this._time=1/0,w())}};const x=1664525,_=1013904223,k=4294967296;function M(t){return t.x}function I(t){return t.y}var z=10,O=Math.PI*(3-Math.sqrt(5));function S(t){var e,n=1,r=.001,o=1-Math.pow(r,1/300),a=0,s=.6,u=new Map,l=m(f),c=(0,i.A)("tick","end"),h=function(){let t=1;return()=>(t=(x*t+_)%k)/k}();function f(){d(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function d(r){var i,l,c=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(a-n)*o,u.forEach(function(t){t(n)}),i=0;i<c;++i)null==(l=t[i]).fx?l.x+=l.vx*=s:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=s:(l.y=l.fy,l.vy=0);return e}function p(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var o=z*Math.sqrt(.5+n),i=n*O;e.x=o*Math.cos(i),e.y=o*Math.sin(i)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function g(e){return e.initialize&&e.initialize(t,h),e}return null==t&&(t=[]),p(),e={tick:d,restart:function(){return l.restart(f),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,p(),u.forEach(g),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(o=+t,e):+o},alphaTarget:function(t){return arguments.length?(a=+t,e):a},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},randomSource:function(t){return arguments.length?(h=t,u.forEach(g),e):h},force:function(t,n){return arguments.length>1?(null==n?u.delete(t):u.set(t,g(n)),e):u.get(t)},find:function(e,n,r){var o,i,a,s,u,l=0,c=t.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(a=(o=e-(s=t[l]).x)*o+(i=n-s.y)*i)<r&&(u=s,r=a);return u},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}},1219:(t,e,n)=>{"use strict";function r(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var o,i,a,s,u,l,c,h,f,d=t._root,p={data:r},g=t._x0,v=t._y0,m=t._x1,y=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=e>=(i=(g+m)/2))?g=i:m=i,(c=n>=(a=(v+y)/2))?v=a:y=a,o=d,!(d=d[h=c<<1|l]))return o[h]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,o?o[h]=p:t._root=p,t;do{o=o?o[h]=new Array(4):t._root=new Array(4),(l=e>=(i=(g+m)/2))?g=i:m=i,(c=n>=(a=(v+y)/2))?v=a:y=a}while((h=c<<1|l)==(f=(u>=a)<<1|s>=i));return o[f]=d,o[h]=p,t}function o(t,e,n,r,o){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=o}function i(t){return t[0]}function a(t){return t[1]}function s(t,e,n){var r=new u(null==e?i:e,null==n?a:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function u(t,e,n,r,o,i){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function l(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}n.d(e,{A:()=>p});var c=s.prototype=u.prototype;c.copy=function(){var t,e,n=new u(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=l(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var o=0;o<4;++o)(e=r.source[o])&&(e.length?t.push({source:e,target:r.target[o]=new Array(4)}):r.target[o]=l(e));return n},c.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return r(this.cover(e,n),e,n,t)},c.addAll=function(t){var e,n,o,i,a=t.length,s=new Array(a),u=new Array(a),l=1/0,c=1/0,h=-1/0,f=-1/0;for(n=0;n<a;++n)isNaN(o=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(s[n]=o,u[n]=i,o<l&&(l=o),o>h&&(h=o),i<c&&(c=i),i>f&&(f=i));if(l>h||c>f)return this;for(this.cover(l,c).cover(h,f),n=0;n<a;++n)r(this,s[n],u[n],t[n]);return this},c.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(t))+1,i=(r=Math.floor(e))+1;else{for(var a,s,u=o-n||1,l=this._root;n>t||t>=o||r>e||e>=i;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:o=n+u,i=r+u;break;case 1:n=o-u,i=r+u;break;case 2:o=n+u,r=i-u;break;case 3:n=o-u,r=i-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},c.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},c.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},c.find=function(t,e,n){var r,i,a,s,u,l,c,h=this._x0,f=this._y0,d=this._x1,p=this._y1,g=[],v=this._root;for(v&&g.push(new o(v,h,f,d,p)),null==n?n=1/0:(h=t-n,f=e-n,d=t+n,p=e+n,n*=n);l=g.pop();)if(!(!(v=l.node)||(i=l.x0)>d||(a=l.y0)>p||(s=l.x1)<h||(u=l.y1)<f))if(v.length){var m=(i+s)/2,y=(a+u)/2;g.push(new o(v[3],m,y,s,u),new o(v[2],i,y,m,u),new o(v[1],m,a,s,y),new o(v[0],i,a,m,y)),(c=(e>=y)<<1|t>=m)&&(l=g[g.length-1],g[g.length-1]=g[g.length-1-c],g[g.length-1-c]=l)}else{var b=t-+this._x.call(null,v.data),w=e-+this._y.call(null,v.data),x=b*b+w*w;if(x<n){var _=Math.sqrt(n=x);h=t-_,f=e-_,d=t+_,p=e+_,r=v.data}}return r},c.remove=function(t){if(isNaN(i=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,o,i,a,s,u,l,c,h,f,d=this._root,p=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((l=i>=(s=(p+v)/2))?p=s:v=s,(c=a>=(u=(g+m)/2))?g=u:m=u,e=d,!(d=d[h=c<<1|l]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(o=d.next)&&delete d.next,r?(o?r.next=o:delete r.next,this):e?(o?e[h]=o:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=o,this)},c.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},c.root=function(){return this._root},c.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},c.visit=function(t){var e,n,r,i,a,s,u=[],l=this._root;for(l&&u.push(new o(l,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,a=e.x1,s=e.y1)&&l.length){var c=(r+a)/2,h=(i+s)/2;(n=l[3])&&u.push(new o(n,c,h,a,s)),(n=l[2])&&u.push(new o(n,r,h,c,s)),(n=l[1])&&u.push(new o(n,c,i,a,h)),(n=l[0])&&u.push(new o(n,r,i,c,h))}return this},c.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new o(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var a,s=e.x0,u=e.y0,l=e.x1,c=e.y1,h=(s+l)/2,f=(u+c)/2;(a=i[0])&&n.push(new o(a,s,u,h,f)),(a=i[1])&&n.push(new o(a,h,u,l,f)),(a=i[2])&&n.push(new o(a,s,f,h,c)),(a=i[3])&&n.push(new o(a,h,f,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},c.x=function(t){return arguments.length?(this._x=t,this):this._x},c.y=function(t){return arguments.length?(this._y=t,this):this._y};var h=n(9874),f=n(4330),d=n(1120);function p(){var t,e,n,r,o,i=(0,h.A)(-30),a=1,u=1/0,l=.81;function c(n){var o,i=t.length,a=s(t,d.x,d.y).visitAfter(g);for(r=n,o=0;o<i;++o)e=t[o],a.visit(v)}function p(){if(t){var e,n,r=t.length;for(o=new Array(r),e=0;e<r;++e)n=t[e],o[n.index]=+i(n,e,t)}}function g(t){var e,n,r,i,a,s=0,u=0;if(t.length){for(r=i=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,u+=n,r+=n*e.x,i+=n*e.y);t.x=r/u,t.y=i/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=o[e.data.index]}while(e=e.next)}t.value=s}function v(t,i,s,c){if(!t.value)return!0;var h=t.x-e.x,d=t.y-e.y,p=c-i,g=h*h+d*d;if(p*p/l<g)return g<u&&(0===h&&(g+=(h=(0,f.A)(n))*h),0===d&&(g+=(d=(0,f.A)(n))*d),g<a&&(g=Math.sqrt(a*g)),e.vx+=h*t.value*r/g,e.vy+=d*t.value*r/g),!0;if(!(t.length||g>=u)){(t.data!==e||t.next)&&(0===h&&(g+=(h=(0,f.A)(n))*h),0===d&&(g+=(d=(0,f.A)(n))*d),g<a&&(g=Math.sqrt(a*g)));do{t.data!==e&&(p=o[t.data.index]*r/g,e.vx+=h*p,e.vy+=d*p)}while(t=t.next)}}return c.initialize=function(e,r){t=e,n=r,p()},c.strength=function(t){return arguments.length?(i="function"==typeof t?t:(0,h.A)(+t),p(),c):i},c.distanceMin=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.distanceMax=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c.theta=function(t){return arguments.length?(l=t*t,c):Math.sqrt(l)},c}},1614:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(9874),o=n(4330);function i(t){return t.index}function a(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function s(t){var e,n,s,u,l,c,h=i,f=function(t){return 1/Math.min(u[t.source.index],u[t.target.index])},d=(0,r.A)(30),p=1;function g(r){for(var i=0,a=t.length;i<p;++i)for(var s,u,h,f,d,g,v,m=0;m<a;++m)u=(s=t[m]).source,f=(h=s.target).x+h.vx-u.x-u.vx||(0,o.A)(c),d=h.y+h.vy-u.y-u.vy||(0,o.A)(c),f*=g=((g=Math.sqrt(f*f+d*d))-n[m])/g*r*e[m],d*=g,h.vx-=f*(v=l[m]),h.vy-=d*v,u.vx+=f*(v=1-v),u.vy+=d*v}function v(){if(s){var r,o,i=s.length,c=t.length,f=new Map(s.map((t,e)=>[h(t,e,s),t]));for(r=0,u=new Array(i);r<c;++r)(o=t[r]).index=r,"object"!=typeof o.source&&(o.source=a(f,o.source)),"object"!=typeof o.target&&(o.target=a(f,o.target)),u[o.source.index]=(u[o.source.index]||0)+1,u[o.target.index]=(u[o.target.index]||0)+1;for(r=0,l=new Array(c);r<c;++r)o=t[r],l[r]=u[o.source.index]/(u[o.source.index]+u[o.target.index]);e=new Array(c),m(),n=new Array(c),y()}}function m(){if(s)for(var n=0,r=t.length;n<r;++n)e[n]=+f(t[n],n,t)}function y(){if(s)for(var e=0,r=t.length;e<r;++e)n[e]=+d(t[e],e,t)}return null==t&&(t=[]),g.initialize=function(t,e){s=t,c=e,v()},g.links=function(e){return arguments.length?(t=e,v(),g):t},g.id=function(t){return arguments.length?(h=t,g):h},g.iterations=function(t){return arguments.length?(p=+t,g):p},g.strength=function(t){return arguments.length?(f="function"==typeof t?t:(0,r.A)(+t),m(),g):f},g.distance=function(t){return arguments.length?(d="function"==typeof t?t:(0,r.A)(+t),y(),g):d},g}},1688:(t,e,n)=>{"use strict";n.d(e,{A:()=>o});var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function o(t){if(!(e=r.exec(t)))throw new Error("invalid format: "+t);var e;return new i({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function i(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}o.prototype=i.prototype,i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},2607:(t,e,n)=>{"use strict";n.d(e,{GP:()=>h,s:()=>f});var r=n(886);var o=n(1688);var i,a=n(3735);function s(t,e){var n=(0,a.f)(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const u={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:a.A,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>s(100*t,e),r:s,s:function(t,e){var n=(0,a.f)(t,e);if(!n)return t+"";var r=n[0],o=n[1],s=o-(i=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,u=r.length;return s===u?r:s>u?r+new Array(s-u+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+(0,a.f)(t,Math.max(0,e+s-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function l(t){return t}var c,h,f,d=Array.prototype.map,p=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function g(t){var e,n,a=void 0===t.grouping||void 0===t.thousands?l:(e=d.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var o=t.length,i=[],a=0,s=e[0],u=0;o>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),i.push(t.substring(o-=s,o+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return i.reverse().join(n)}),s=void 0===t.currency?"":t.currency[0]+"",c=void 0===t.currency?"":t.currency[1]+"",h=void 0===t.decimal?".":t.decimal+"",f=void 0===t.numerals?l:function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(d.call(t.numerals,String)),g=void 0===t.percent?"%":t.percent+"",v=void 0===t.minus?"\u2212":t.minus+"",m=void 0===t.nan?"NaN":t.nan+"";function y(t){var e=(t=(0,o.A)(t)).fill,n=t.align,r=t.sign,l=t.symbol,d=t.zero,y=t.width,b=t.comma,w=t.precision,x=t.trim,_=t.type;"n"===_?(b=!0,_="g"):u[_]||(void 0===w&&(w=12),x=!0,_="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var k="$"===l?s:"#"===l&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",M="$"===l?c:/[%p]/.test(_)?g:"",I=u[_],z=/[defgprs%]/.test(_);function O(t){var o,s,u,l=k,c=M;if("c"===_)c=I(t)+c,t="";else{var g=(t=+t)<0||1/t<0;if(t=isNaN(t)?m:I(Math.abs(t),w),x&&(t=function(t){t:for(var e,n=t.length,r=1,o=-1;r<n;++r)switch(t[r]){case".":o=e=r;break;case"0":0===o&&(o=r),e=r;break;default:if(!+t[r])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t}(t)),g&&0===+t&&"+"!==r&&(g=!1),l=(g?"("===r?r:v:"-"===r||"("===r?"":r)+l,c=("s"===_?p[8+i/3]:"")+c+(g&&"("===r?")":""),z)for(o=-1,s=t.length;++o<s;)if(48>(u=t.charCodeAt(o))||u>57){c=(46===u?h+t.slice(o+1):t.slice(o))+c,t=t.slice(0,o);break}}b&&!d&&(t=a(t,1/0));var O=l.length+t.length+c.length,S=O<y?new Array(y-O+1).join(e):"";switch(b&&d&&(t=a(S+t,S.length?y-c.length:1/0),S=""),n){case"<":t=l+t+c+S;break;case"=":t=l+S+t+c;break;case"^":t=S.slice(0,O=S.length>>1)+l+t+c+S.slice(O);break;default:t=S+l+t+c}return f(t)}return w=void 0===w?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w)),O.toString=function(){return t+""},O}return{format:y,formatPrefix:function(t,e){var n=y(((t=(0,o.A)(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor((0,r.A)(e)/3))),a=Math.pow(10,-i),s=p[8+i/3];return function(t){return n(a*t)+s}}}}c=g({thousands:",",grouping:[3],currency:["$",""]}),h=c.format,f=c.formatPrefix},2887:(t,e,n)=>{"use strict";function r(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}n.d(e,{A:()=>r})},2937:(t,e,n)=>{t.exports=function(t){"uniqueLinkId"in(t=t||{})&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now on each graph\nis considered to be not a multigraph by default (each edge is unique)."),t.multigraph=t.uniqueLinkId);void 0===t.multigraph&&(t.multigraph=!1);if("function"!=typeof Map)throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var e=new Map,n=[],l={},c=0,h=t.multigraph?function(t,e,n){var r=u(t,e),o=l.hasOwnProperty(r);if(o||z(t,e)){o||(l[r]=0);var i="@"+ ++l[r];r=u(t+i,e+i)}return new s(t,e,n,r)}:function(t,e,n){var r=u(t,e);return new s(t,e,n,r)},f=[],d=O,p=O,g=O,v=O,m={addNode:w,addLink:function(t,e,r){g();var o=x(t)||w(t),i=x(e)||w(e),s=h(t,e,r);n.push(s),a(o,s),t!==e&&a(i,s);return d(s,"add"),v(),s},removeLink:I,removeNode:_,getNode:x,getNodeCount:k,getLinkCount:M,getLinksCount:M,getNodesCount:k,getLinks:function(t){var e=x(t);return e?e.links:null},forEachNode:C,forEachLinkedNode:function(t,n,r){var o=x(t);if(o&&o.links&&"function"==typeof n)return r?function(t,n,r){for(var o=0;o<t.length;++o){var i=t[o];if(i.fromId===n&&r(e.get(i.toId),i))return!0}}(o.links,t,n):function(t,n,r){for(var o=0;o<t.length;++o){var i=t[o],a=i.fromId===n?i.toId:i.fromId;if(r(e.get(a),i))return!0}}(o.links,t,n)},forEachLink:function(t){var e,r;if("function"==typeof t)for(e=0,r=n.length;e<r;++e)t(n[e])},beginUpdate:g,endUpdate:v,clear:function(){g(),C(function(t){_(t.id)}),v()},hasLink:z,hasNode:x,getLink:z};return r(m),function(){var t=m.on;function e(){return m.beginUpdate=g=S,m.endUpdate=v=E,d=y,p=b,m.on=t,t.apply(m,arguments)}m.on=e}(),m;function y(t,e){f.push({link:t,changeType:e})}function b(t,e){f.push({node:t,changeType:e})}function w(t,n){if(void 0===t)throw new Error("Invalid node identifier");g();var r=x(t);return r?(r.data=n,p(r,"update")):(r=new i(t,n),p(r,"add")),e.set(t,r),v(),r}function x(t){return e.get(t)}function _(t){var n=x(t);if(!n)return!1;g();var r=n.links;if(r){n.links=null;for(var o=0;o<r.length;++o)I(r[o])}return e.delete(t),p(n,"remove"),v(),!0}function k(){return e.size}function M(){return n.length}function I(t){if(!t)return!1;var e=o(t,n);if(e<0)return!1;g(),n.splice(e,1);var r=x(t.fromId),i=x(t.toId);return r&&(e=o(t,r.links))>=0&&r.links.splice(e,1),i&&(e=o(t,i.links))>=0&&i.links.splice(e,1),d(t,"remove"),v(),!0}function z(t,e){var n,r=x(t);if(!r||!r.links)return null;for(n=0;n<r.links.length;++n){var o=r.links[n];if(o.fromId===t&&o.toId===e)return o}return null}function O(){}function S(){c+=1}function E(){0===(c-=1)&&f.length>0&&(m.fire("changed",f),f.length=0)}function C(t){if("function"!=typeof t)throw new Error("Function is expected to iterate over graph nodes. You passed "+t);for(var n=e.values(),r=n.next();!r.done;){if(t(r.value))return!0;r=n.next()}}};var r=n(5316);function o(t,e){if(!e)return-1;if(e.indexOf)return e.indexOf(t);var n,r=e.length;for(n=0;n<r;n+=1)if(e[n]===t)return n;return-1}function i(t,e){this.id=t,this.links=null,this.data=e}function a(t,e){t.links?t.links.push(e):t.links=[e]}function s(t,e,n,r){this.fromId=t,this.toId=e,this.data=n,this.id=r}function u(t,e){return t.toString()+"\ud83d\udc49 "+e.toString()}},3735:(t,e,n)=>{"use strict";function r(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function o(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}n.d(e,{A:()=>r,f:()=>o})},4145:(t,e,n)=>{"use strict";n.d(e,{A:()=>u});var r=n(168);function o(t,e,n=r.A){if(o=t.length){if((e=+e)<=0||o<2)return+n(t[0],0,t);if(e>=1)return+n(t[o-1],o-1,t);var o,i=(o-1)*e,a=Math.floor(i),s=+n(t[a],a,t);return s+(+n(t[a+1],a+1,t)-s)*(i-a)}}var i=n(1015),a=n(2887),s=n(5758);function u(){var t,e=[],n=[],r=[];function l(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=o(e,t/i);return c}function c(e){return null==e||isNaN(e=+e)?t:n[(0,i.Ay)(r,e)]}return c.invertExtent=function(t){var o=n.indexOf(t);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},c.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(a.A),l()},c.range=function(t){return arguments.length?(n=Array.from(t),l()):n.slice()},c.unknown=function(e){return arguments.length?(t=e,c):t},c.quantiles=function(){return r.slice()},c.copy=function(){return u().domain(e).range(n).unknown(t)},s.C.apply(c,arguments)}},4308:(t,e,n)=>{const r=n(6250),o=n(734),i=["keyword","gray","hex"],a={};for(const d of Object.keys(o))a[[...o[d].labels].sort().join("")]=d;const s={};function u(t,e){if(!(this instanceof u))return new u(t,e);if(e&&e in i&&(e=null),e&&!(e in o))throw new Error("Unknown model: "+e);let n,l;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof u)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if("string"==typeof t){const e=r.get(t);if(null===e)throw new Error("Unable to parse color from string: "+t);this.model=e.model,l=o[this.model].channels,this.color=e.value.slice(0,l),this.valpha="number"==typeof e.value[l]?e.value[l]:1}else if(t.length>0){this.model=e||"rgb",l=o[this.model].channels;const n=Array.prototype.slice.call(t,0,l);this.color=f(n,l),this.valpha="number"==typeof t[l]?t[l]:1}else if("number"==typeof t)this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;const e=Object.keys(t);"alpha"in t&&(e.splice(e.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);const r=e.sort().join("");if(!(r in a))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=a[r];const{labels:i}=o[this.model],s=[];for(n=0;n<i.length;n++)s.push(t[i[n]]);this.color=f(s)}if(s[this.model])for(l=o[this.model].channels,n=0;n<l;n++){const t=s[this.model][n];t&&(this.color[n]=t(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}u.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in r.to?this:this.rgb();e=e.round("number"==typeof t?t:1);const n=1===e.valpha?e.color:[...e.color,this.valpha];return r.to[e.model](n)},percentString(t){const e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:[...e.color,this.valpha];return r.to.rgb.percent(n)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=o[this.model],{labels:n}=o[this.model];for(let r=0;r<e;r++)t[n[r]]=this.color[r];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new u([...this.color.map(l(t)),this.valpha],this.model)},alpha(t){return void 0!==t?new u([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:c("rgb",0,h(255)),green:c("rgb",1,h(255)),blue:c("rgb",2,h(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:c("hsl",1,h(100)),lightness:c("hsl",2,h(100)),saturationv:c("hsv",1,h(100)),value:c("hsv",2,h(100)),chroma:c("hcg",1,h(100)),gray:c("hcg",2,h(100)),white:c("hwb",1,h(100)),wblack:c("hwb",2,h(100)),cyan:c("cmyk",0,h(100)),magenta:c("cmyk",1,h(100)),yellow:c("cmyk",2,h(100)),black:c("cmyk",3,h(100)),x:c("xyz",0,h(95.047)),y:c("xyz",1,h(100)),z:c("xyz",2,h(108.833)),l:c("lab",0,h(100)),a:c("lab",1),b:c("lab",2),keyword(t){return void 0!==t?new u(t):o[this.model].keyword(this.color)},hex(t){return void 0!==t?new u(t):r.to.hex(this.rgb().round().color)},hexa(t){if(void 0!==t)return new u(t);const e=this.rgb().round().color;let n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),r.to.hex(e)+n},rgbNumber(){const t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity(){const t=this.rgb().color,e=[];for(const[n,r]of t.entries()){const t=r/255;e[n]=t<=.04045?t/12.92:((t+.055)/1.055)**2.4}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(2126*t[0]+7152*t[1]+722*t[2])/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return u.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let n=e.color[0];return n=(n+t)%360,n=n<0?360+n:n,e.color[0]=n,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const n=t.rgb(),r=this.rgb(),o=void 0===e?.5:e,i=2*o-1,a=n.alpha()-r.alpha(),s=((i*a===-1?i:(i+a)/(1+i*a))+1)/2,l=1-s;return u.rgb(s*n.red()+l*r.red(),s*n.green()+l*r.green(),s*n.blue()+l*r.blue(),n.alpha()*o+r.alpha()*(1-o))}};for(const d of Object.keys(o)){if(i.includes(d))continue;const{channels:t}=o[d];u.prototype[d]=function(...t){return this.model===d?new u(this):t.length>0?new u(t,d):new u([...(e=o[this.model][d].raw(this.color),Array.isArray(e)?e:[e]),this.valpha],d);var e},u[d]=function(...e){let n=e[0];return"number"==typeof n&&(n=f(e,t)),new u(n,d)}}function l(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}function c(t,e,n){t=Array.isArray(t)?t:[t];for(const r of t)(s[r]||(s[r]=[]))[e]=n;return t=t[0],function(r){let o;return void 0!==r?(n&&(r=n(r)),o=this[t](),o.color[e]=r,o):(o=this[t]().color[e],n&&(o=n(o)),o)}}function h(t){return function(e){return Math.max(0,Math.min(t,e))}}function f(t,e){for(let n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}t.exports=u},4330:(t,e,n)=>{"use strict";function r(t){return 1e-6*(t()-.5)}n.d(e,{A:()=>r})},5036:(t,e,n)=>{var r=n(5826),o=n(2937);function i(){for(var t=o(),e=0;e<r.nodes.length;++e)t.addNode(e,r.nodes[e]);for(e=0;e<r.links.length;++e){var n=r.links[e];t.addLink(n.source,n.target,n.value)}return t}t.exports=i(),t.exports.create=i},5204:(t,e,n)=>{var r;r="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},t.exports=r},5316:t=>{"use strict";t.exports=function(t){!function(t){if(!t)throw new Error("Eventify cannot use falsy object as events subject");const e=["on","fire","off"];for(let n=0;n<e.length;++n)if(t.hasOwnProperty(e[n]))throw new Error("Subject cannot be eventified, since it already has property '"+e[n]+"'")}(t);const e=function(t){let e=Object.create(null);return{on:function(n,r,o){if("function"!=typeof r)throw new Error("callback is expected to be a function");let i=e[n];return i||(i=e[n]=[]),i.push({callback:r,ctx:o}),t},off:function(n,r){if(typeof n>"u")return e=Object.create(null),t;if(e[n])if("function"!=typeof r)delete e[n];else{const t=e[n];for(let e=0;e<t.length;++e)t[e].callback===r&&t.splice(e,1)}return t},fire:function(n){const r=e[n];if(!r)return t;let o;arguments.length>1&&(o=Array.prototype.slice.call(arguments,1));for(let t=0;t<r.length;++t){const e=r[t];e.callback.apply(e.ctx,o)}return t}}}(t);return t.on=e.on,t.off=e.off,t.fire=e.fire,t}},5520:(t,e)=>{e.T=function(t,e,n,r){if(void 0===t||t.length<2)return new Float32Array(0);e="number"==typeof e?e:.5,n="number"==typeof n?n:25;var o,i=1,a=t.length,s=0,u=new Float32Array((a-2)*n+2+(r?2*n:0)),l=new Float32Array(n+2<<2),c=4;for(o=t.slice(0),r?(o.unshift(t[a-1]),o.unshift(t[a-2]),o.push(t[0],t[1])):(o.unshift(t[1]),o.unshift(t[0]),o.push(t[a-2],t[a-1])),l[0]=1;i<n;i++){var h=i/n,f=h*h,d=f*h,p=2*d,g=3*f;l[c++]=p-g+1,l[c++]=g-p,l[c++]=d-2*f+h,l[c++]=d-f}function v(t,e,r,o){for(var i,a=2;a<r;a+=2){var l,c,h,f,d=t[a],p=t[a+1],g=t[a+2],v=t[a+3],m=(g-t[a-2])*o,y=(v-t[a-1])*o,b=(t[a+4]-d)*o,w=(t[a+5]-p)*o,x=0;for(i=0;i<n;i++)l=e[x++],c=e[x++],h=e[x++],f=e[x++],u[s++]=l*d+c*g+h*m+f*b,u[s++]=l*p+c*v+h*y+f*w}}return l[++c]=1,v(o,l,a,e),r&&((o=[]).push(t[a-4],t[a-3],t[a-2],t[a-1],t[0],t[1],t[2],t[3]),v(o,l,4,e)),a=r?0:t.length-2,u[s++]=t[a++],u[s]=t[a],u}},5561:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(201),o=n(172);class i extends o.uA{buttonPressTimer=null;usingPointerEvents=!1;stopEvent(t){t.stopPropagation(),"function"==typeof t.stopImmediatePropagation&&t.stopImmediatePropagation(),"function"==typeof t.preventDefault&&t.preventDefault()}repeat=()=>{this.buttonPressTimer&&(this.props.onClick(),this.buttonPressTimer=setTimeout(this.repeat,100))};startPress(t){this.stopEvent(t),this.props.onClick(),this.buttonPressTimer=setTimeout(this.repeat,300)}endPress(t){t&&this.stopEvent(t),this.buttonPressTimer&&clearTimeout(this.buttonPressTimer),this.buttonPressTimer=null}handlePointerDown=t=>{this.usingPointerEvents=!0,t.currentTarget?.setPointerCapture?.(t.pointerId),this.startPress(t)};handlePointerUp=t=>{t.currentTarget?.releasePointerCapture?.(t.pointerId),this.endPress(t)};handlePointerCancel=t=>{t.currentTarget?.releasePointerCapture?.(t.pointerId),this.endPress(t)};handleMouseDown=t=>{this.usingPointerEvents||(this.startPress(t),document.addEventListener("mouseup",this.handleMouseUp,{once:!0}))};handleMouseUp=t=>{this.usingPointerEvents||this.endPress(t)};handleTouchStart=t=>{this.usingPointerEvents||(this.startPress(t),document.addEventListener("touchend",this.handleTouchEnd,{once:!0}),document.addEventListener("touchcancel",this.handleTouchEnd,{once:!0}))};handleTouchEnd=t=>{this.usingPointerEvents||this.endPress(t)};render(){return(0,r.Y)("div",{className:"deck-widget-button",children:(0,r.Y)("div",{style:{pointerEvents:"auto"},onPointerDown:this.handlePointerDown,onPointerUp:this.handlePointerUp,onPointerCancel:this.handlePointerCancel,onPointerMove:t=>this.stopEvent(t),onPointerLeave:this.handlePointerCancel,onPointerOut:this.handlePointerCancel,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseMove:t=>this.stopEvent(t),onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchMove:t=>this.stopEvent(t),onContextMenu:t=>t.preventDefault(),onWheel:t=>this.stopEvent(t),onClick:t=>this.stopEvent(t),children:this.props.children})})}}},5659:(t,e,n)=>{const r=n(8156),o={};for(const s of Object.keys(r))o[r[s]]=s;const i={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};t.exports=i;for(const s of Object.keys(i)){if(!("channels"in i[s]))throw new Error("missing channels property: "+s);if(!("labels"in i[s]))throw new Error("missing channel labels property: "+s);if(i[s].labels.length!==i[s].channels)throw new Error("channel and label counts mismatch: "+s);const{channels:t,labels:e}=i[s];delete i[s].channels,delete i[s].labels,Object.defineProperty(i[s],"channels",{value:t}),Object.defineProperty(i[s],"labels",{value:e})}function a(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}i.rgb.hsl=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=i-o;let s,u;i===o?s=0:e===i?s=(n-r)/a:n===i?s=2+(r-e)/a:r===i&&(s=4+(e-n)/a),s=Math.min(60*s,360),s<0&&(s+=360);const l=(o+i)/2;return u=i===o?0:l<=.5?a/(i+o):a/(2-i-o),[s,100*u,100*l]},i.rgb.hsv=function(t){let e,n,r,o,i;const a=t[0]/255,s=t[1]/255,u=t[2]/255,l=Math.max(a,s,u),c=l-Math.min(a,s,u),h=function(t){return(l-t)/6/c+.5};return 0===c?(o=0,i=0):(i=c/l,e=h(a),n=h(s),r=h(u),a===l?o=r-n:s===l?o=1/3+e-r:u===l&&(o=2/3+n-e),o<0?o+=1:o>1&&(o-=1)),[360*o,100*i,100*l]},i.rgb.hwb=function(t){const e=t[0],n=t[1];let r=t[2];const o=i.rgb.hsl(t)[0],a=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[o,100*a,100*r]},i.rgb.cmyk=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,o=Math.min(1-e,1-n,1-r);return[100*((1-e-o)/(1-o)||0),100*((1-n-o)/(1-o)||0),100*((1-r-o)/(1-o)||0),100*o]},i.rgb.keyword=function(t){const e=o[t];if(e)return e;let n,i=1/0;for(const o of Object.keys(r)){const e=a(t,r[o]);e<i&&(i=e,n=o)}return n},i.keyword.rgb=function(t){return r[t]},i.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;return[100*(.4124*e+.3576*n+.1805*r),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]},i.rgb.lab=function(t){const e=i.rgb.xyz(t);let n=e[0],r=e[1],o=e[2];n/=95.047,r/=100,o/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,o=o>.008856?o**(1/3):7.787*o+16/116;return[116*r-16,500*(n-r),200*(r-o)]},i.hsl.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;let o,i,a;if(0===n)return a=255*r,[a,a,a];o=r<.5?r*(1+n):r+n-r*n;const s=2*r-o,u=[0,0,0];for(let l=0;l<3;l++)i=e+1/3*-(l-1),i<0&&i++,i>1&&i--,a=6*i<1?s+6*(o-s)*i:2*i<1?o:3*i<2?s+(o-s)*(2/3-i)*6:s,u[l]=255*a;return u},i.hsl.hsv=function(t){const e=t[0];let n=t[1]/100,r=t[2]/100,o=n;const i=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,o*=i<=1?i:2-i;return[e,100*(0===r?2*o/(i+o):2*n/(r+n)),100*((r+n)/2)]},i.hsv.rgb=function(t){const e=t[0]/60,n=t[1]/100;let r=t[2]/100;const o=Math.floor(e)%6,i=e-Math.floor(e),a=255*r*(1-n),s=255*r*(1-n*i),u=255*r*(1-n*(1-i));switch(r*=255,o){case 0:return[r,u,a];case 1:return[s,r,a];case 2:return[a,r,u];case 3:return[a,s,r];case 4:return[u,a,r];case 5:return[r,a,s]}},i.hsv.hsl=function(t){const e=t[0],n=t[1]/100,r=t[2]/100,o=Math.max(r,.01);let i,a;a=(2-n)*r;const s=(2-n)*o;return i=n*o,i/=s<=1?s:2-s,i=i||0,a/=2,[e,100*i,100*a]},i.hwb.rgb=function(t){const e=t[0]/360;let n=t[1]/100,r=t[2]/100;const o=n+r;let i;o>1&&(n/=o,r/=o);const a=Math.floor(6*e),s=1-r;i=6*e-a,1&a&&(i=1-i);const u=n+i*(s-n);let l,c,h;switch(a){default:case 6:case 0:l=s,c=u,h=n;break;case 1:l=u,c=s,h=n;break;case 2:l=n,c=s,h=u;break;case 3:l=n,c=u,h=s;break;case 4:l=u,c=n,h=s;break;case 5:l=s,c=n,h=u}return[255*l,255*c,255*h]},i.cmyk.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,o=t[3]/100;return[255*(1-Math.min(1,e*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o))]},i.xyz.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100;let o,i,a;return o=3.2406*e+-1.5372*n+-.4986*r,i=-.9689*e+1.8758*n+.0415*r,a=.0557*e+-.204*n+1.057*r,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,o=Math.min(Math.max(0,o),1),i=Math.min(Math.max(0,i),1),a=Math.min(Math.max(0,a),1),[255*o,255*i,255*a]},i.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];e/=95.047,n/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;return[116*n-16,500*(e-n),200*(n-r)]},i.lab.xyz=function(t){let e,n,r;n=(t[0]+16)/116,e=t[1]/500+n,r=n-t[2]/200;const o=n**3,i=e**3,a=r**3;return n=o>.008856?o:(n-16/116)/7.787,e=i>.008856?i:(e-16/116)/7.787,r=a>.008856?a:(r-16/116)/7.787,e*=95.047,n*=100,r*=108.883,[e,n,r]},i.lab.lch=function(t){const e=t[0],n=t[1],r=t[2];let o;o=360*Math.atan2(r,n)/2/Math.PI,o<0&&(o+=360);return[e,Math.sqrt(n*n+r*r),o]},i.lch.lab=function(t){const e=t[0],n=t[1],r=t[2]/360*2*Math.PI;return[e,n*Math.cos(r),n*Math.sin(r)]},i.rgb.ansi16=function(t,e=null){const[n,r,o]=t;let a=null===e?i.rgb.hsv(t)[2]:e;if(a=Math.round(a/50),0===a)return 30;let s=30+(Math.round(o/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===a&&(s+=60),s},i.hsv.ansi16=function(t){return i.rgb.ansi16(i.hsv.rgb(t),t[2])},i.rgb.ansi256=function(t){const e=t[0],n=t[1],r=t[2];if(e===n&&n===r)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;return 16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},i.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},i.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;t-=16;return[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},i.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},i.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];3===e[0].length&&(n=n.split("").map(t=>t+t).join(""));const r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},i.rgb.hcg=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,o=Math.max(Math.max(e,n),r),i=Math.min(Math.min(e,n),r),a=o-i;let s,u;return s=a<1?i/(1-a):0,u=a<=0?0:o===e?(n-r)/a%6:o===n?2+(r-e)/a:4+(e-n)/a,u/=6,u%=1,[360*u,100*a,100*s]},i.hsl.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n);let o=0;return r<1&&(o=(n-.5*r)/(1-r)),[t[0],100*r,100*o]},i.hsv.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=e*n;let o=0;return r<1&&(o=(n-r)/(1-r)),[t[0],100*r,100*o]},i.hcg.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;if(0===n)return[255*r,255*r,255*r];const o=[0,0,0],i=e%1*6,a=i%1,s=1-a;let u=0;switch(Math.floor(i)){case 0:o[0]=1,o[1]=a,o[2]=0;break;case 1:o[0]=s,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=a;break;case 3:o[0]=0,o[1]=s,o[2]=1;break;case 4:o[0]=a,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=s}return u=(1-n)*r,[255*(n*o[0]+u),255*(n*o[1]+u),255*(n*o[2]+u)]},i.hcg.hsv=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);let r=0;return n>0&&(r=e/n),[t[0],100*r,100*n]},i.hcg.hsl=function(t){const e=t[1]/100,n=t[2]/100*(1-e)+.5*e;let r=0;return n>0&&n<.5?r=e/(2*n):n>=.5&&n<1&&(r=e/(2*(1-n))),[t[0],100*r,100*n]},i.hcg.hwb=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},i.hwb.hcg=function(t){const e=t[1]/100,n=1-t[2]/100,r=n-e;let o=0;return r<1&&(o=(n-r)/(1-r)),[t[0],100*r,100*o]},i.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},i.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},i.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},i.gray.hsl=function(t){return[0,0,t[0]]},i.gray.hsv=i.gray.hsl,i.gray.hwb=function(t){return[0,100,t[0]]},i.gray.cmyk=function(t){return[0,0,0,t[0]]},i.gray.lab=function(t){return[t[0],0,0]},i.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},i.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},5758:(t,e,n)=>{"use strict";function r(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}n.d(e,{C:()=>r})},5811:(t,e,n)=>{"use strict";n.d(e,{A:()=>h,C:()=>c});var r=n(7119),o=n(7025),i=n(5758),a=n(1688),s=n(886);var u=n(2607);function l(t,e,n,o){var i,l=(0,r.sG)(t,e,n);switch((o=(0,a.A)(null==o?",f":o)).type){case"s":var c=Math.max(Math.abs(t),Math.abs(e));return null!=o.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,s.A)(e)/3)))-(0,s.A)(Math.abs(t)))}(l,c))||(o.precision=i),(0,u.s)(o,c);case"":case"e":case"g":case"p":case"r":null!=o.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,(0,s.A)(e)-(0,s.A)(t))+1}(l,Math.max(Math.abs(t),Math.abs(e))))||(o.precision=i-("e"===o.type));break;case"f":case"%":null!=o.precision||isNaN(i=function(t){return Math.max(0,-(0,s.A)(Math.abs(t)))}(l))||(o.precision=i-2*("%"===o.type))}return(0,u.GP)(o)}function c(t){var e=t.domain;return t.ticks=function(t){var n=e();return(0,r.Ay)(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return l(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var o,i,a=e(),s=0,u=a.length-1,l=a[s],c=a[u],h=10;for(c<l&&(i=l,l=c,c=i,i=s,s=u,u=i);h-- >0;){if((i=(0,r.lq)(l,c,n))===o)return a[s]=l,a[u]=c,e(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}o=i}return t},t}function h(){var t=(0,o.Ay)();return t.copy=function(){return(0,o.C)(t,h())},i.C.apply(t,arguments),c(t)}},5826:t=>{t.exports={nodes:[{name:"Myriel",group:1},{name:"Napoleon",group:1},{name:"Mlle.Baptistine",group:1},{name:"Mme.Magloire",group:1},{name:"CountessdeLo",group:1},{name:"Geborand",group:1},{name:"Champtercier",group:1},{name:"Cravatte",group:1},{name:"Count",group:1},{name:"OldMan",group:1},{name:"Labarre",group:2},{name:"Valjean",group:2},{name:"Marguerite",group:3},{name:"Mme.deR",group:2},{name:"Isabeau",group:2},{name:"Gervais",group:2},{name:"Tholomyes",group:3},{name:"Listolier",group:3},{name:"Fameuil",group:3},{name:"Blacheville",group:3},{name:"Favourite",group:3},{name:"Dahlia",group:3},{name:"Zephine",group:3},{name:"Fantine",group:3},{name:"Mme.Thenardier",group:4},{name:"Thenardier",group:4},{name:"Cosette",group:5},{name:"Javert",group:4},{name:"Fauchelevent",group:0},{name:"Bamatabois",group:2},{name:"Perpetue",group:3},{name:"Simplice",group:2},{name:"Scaufflaire",group:2},{name:"Woman1",group:2},{name:"Judge",group:2},{name:"Champmathieu",group:2},{name:"Brevet",group:2},{name:"Chenildieu",group:2},{name:"Cochepaille",group:2},{name:"Pontmercy",group:4},{name:"Boulatruelle",group:6},{name:"Eponine",group:4},{name:"Anzelma",group:4},{name:"Woman2",group:5},{name:"MotherInnocent",group:0},{name:"Gribier",group:0},{name:"Jondrette",group:7},{name:"Mme.Burgon",group:7},{name:"Gavroche",group:8},{name:"Gillenormand",group:5},{name:"Magnon",group:5},{name:"Mlle.Gillenormand",group:5},{name:"Mme.Pontmercy",group:5},{name:"Mlle.Vaubois",group:5},{name:"Lt.Gillenormand",group:5},{name:"Marius",group:8},{name:"BaronessT",group:5},{name:"Mabeuf",group:8},{name:"Enjolras",group:8},{name:"Combeferre",group:8},{name:"Prouvaire",group:8},{name:"Feuilly",group:8},{name:"Courfeyrac",group:8},{name:"Bahorel",group:8},{name:"Bossuet",group:8},{name:"Joly",group:8},{name:"Grantaire",group:8},{name:"MotherPlutarch",group:9},{name:"Gueulemer",group:4},{name:"Babet",group:4},{name:"Claquesous",group:4},{name:"Montparnasse",group:4},{name:"Toussaint",group:5},{name:"Child1",group:10},{name:"Child2",group:10},{name:"Brujon",group:4},{name:"Mme.Hucheloup",group:8}],links:[{source:1,target:0,value:1},{source:2,target:0,value:8},{source:3,target:0,value:10},{source:3,target:2,value:6},{source:4,target:0,value:1},{source:5,target:0,value:1},{source:6,target:0,value:1},{source:7,target:0,value:1},{source:8,target:0,value:2},{source:9,target:0,value:1},{source:11,target:10,value:1},{source:11,target:3,value:3},{source:11,target:2,value:3},{source:11,target:0,value:5},{source:12,target:11,value:1},{source:13,target:11,value:1},{source:14,target:11,value:1},{source:15,target:11,value:1},{source:17,target:16,value:4},{source:18,target:16,value:4},{source:18,target:17,value:4},{source:19,target:16,value:4},{source:19,target:17,value:4},{source:19,target:18,value:4},{source:20,target:16,value:3},{source:20,target:17,value:3},{source:20,target:18,value:3},{source:20,target:19,value:4},{source:21,target:16,value:3},{source:21,target:17,value:3},{source:21,target:18,value:3},{source:21,target:19,value:3},{source:21,target:20,value:5},{source:22,target:16,value:3},{source:22,target:17,value:3},{source:22,target:18,value:3},{source:22,target:19,value:3},{source:22,target:20,value:4},{source:22,target:21,value:4},{source:23,target:16,value:3},{source:23,target:17,value:3},{source:23,target:18,value:3},{source:23,target:19,value:3},{source:23,target:20,value:4},{source:23,target:21,value:4},{source:23,target:22,value:4},{source:23,target:12,value:2},{source:23,target:11,value:9},{source:24,target:23,value:2},{source:24,target:11,value:7},{source:25,target:24,value:13},{source:25,target:23,value:1},{source:25,target:11,value:12},{source:26,target:24,value:4},{source:26,target:11,value:31},{source:26,target:16,value:1},{source:26,target:25,value:1},{source:27,target:11,value:17},{source:27,target:23,value:5},{source:27,target:25,value:5},{source:27,target:24,value:1},{source:27,target:26,value:1},{source:28,target:11,value:8},{source:28,target:27,value:1},{source:29,target:23,value:1},{source:29,target:27,value:1},{source:29,target:11,value:2},{source:30,target:23,value:1},{source:31,target:30,value:2},{source:31,target:11,value:3},{source:31,target:23,value:2},{source:31,target:27,value:1},{source:32,target:11,value:1},{source:33,target:11,value:2},{source:33,target:27,value:1},{source:34,target:11,value:3},{source:34,target:29,value:2},{source:35,target:11,value:3},{source:35,target:34,value:3},{source:35,target:29,value:2},{source:36,target:34,value:2},{source:36,target:35,value:2},{source:36,target:11,value:2},{source:36,target:29,value:1},{source:37,target:34,value:2},{source:37,target:35,value:2},{source:37,target:36,value:2},{source:37,target:11,value:2},{source:37,target:29,value:1},{source:38,target:34,value:2},{source:38,target:35,value:2},{source:38,target:36,value:2},{source:38,target:37,value:2},{source:38,target:11,value:2},{source:38,target:29,value:1},{source:39,target:25,value:1},{source:40,target:25,value:1},{source:41,target:24,value:2},{source:41,target:25,value:3},{source:42,target:41,value:2},{source:42,target:25,value:2},{source:42,target:24,value:1},{source:43,target:11,value:3},{source:43,target:26,value:1},{source:43,target:27,value:1},{source:44,target:28,value:3},{source:44,target:11,value:1},{source:45,target:28,value:2},{source:47,target:46,value:1},{source:48,target:47,value:2},{source:48,target:25,value:1},{source:48,target:27,value:1},{source:48,target:11,value:1},{source:49,target:26,value:3},{source:49,target:11,value:2},{source:50,target:49,value:1},{source:50,target:24,value:1},{source:51,target:49,value:9},{source:51,target:26,value:2},{source:51,target:11,value:2},{source:52,target:51,value:1},{source:52,target:39,value:1},{source:53,target:51,value:1},{source:54,target:51,value:2},{source:54,target:49,value:1},{source:54,target:26,value:1},{source:55,target:51,value:6},{source:55,target:49,value:12},{source:55,target:39,value:1},{source:55,target:54,value:1},{source:55,target:26,value:21},{source:55,target:11,value:19},{source:55,target:16,value:1},{source:55,target:25,value:2},{source:55,target:41,value:5},{source:55,target:48,value:4},{source:56,target:49,value:1},{source:56,target:55,value:1},{source:57,target:55,value:1},{source:57,target:41,value:1},{source:57,target:48,value:1},{source:58,target:55,value:7},{source:58,target:48,value:7},{source:58,target:27,value:6},{source:58,target:57,value:1},{source:58,target:11,value:4},{source:59,target:58,value:15},{source:59,target:55,value:5},{source:59,target:48,value:6},{source:59,target:57,value:2},{source:60,target:48,value:1},{source:60,target:58,value:4},{source:60,target:59,value:2},{source:61,target:48,value:2},{source:61,target:58,value:6},{source:61,target:60,value:2},{source:61,target:59,value:5},{source:61,target:57,value:1},{source:61,target:55,value:1},{source:62,target:55,value:9},{source:62,target:58,value:17},{source:62,target:59,value:13},{source:62,target:48,value:7},{source:62,target:57,value:2},{source:62,target:41,value:1},{source:62,target:61,value:6},{source:62,target:60,value:3},{source:63,target:59,value:5},{source:63,target:48,value:5},{source:63,target:62,value:6},{source:63,target:57,value:2},{source:63,target:58,value:4},{source:63,target:61,value:3},{source:63,target:60,value:2},{source:63,target:55,value:1},{source:64,target:55,value:5},{source:64,target:62,value:12},{source:64,target:48,value:5},{source:64,target:63,value:4},{source:64,target:58,value:10},{source:64,target:61,value:6},{source:64,target:60,value:2},{source:64,target:59,value:9},{source:64,target:57,value:1},{source:64,target:11,value:1},{source:65,target:63,value:5},{source:65,target:64,value:7},{source:65,target:48,value:3},{source:65,target:62,value:5},{source:65,target:58,value:5},{source:65,target:61,value:5},{source:65,target:60,value:2},{source:65,target:59,value:5},{source:65,target:57,value:1},{source:65,target:55,value:2},{source:66,target:64,value:3},{source:66,target:58,value:3},{source:66,target:59,value:1},{source:66,target:62,value:2},{source:66,target:65,value:2},{source:66,target:48,value:1},{source:66,target:63,value:1},{source:66,target:61,value:1},{source:66,target:60,value:1},{source:67,target:57,value:3},{source:68,target:25,value:5},{source:68,target:11,value:1},{source:68,target:24,value:1},{source:68,target:27,value:1},{source:68,target:48,value:1},{source:68,target:41,value:1},{source:69,target:25,value:6},{source:69,target:68,value:6},{source:69,target:11,value:1},{source:69,target:24,value:1},{source:69,target:27,value:2},{source:69,target:48,value:1},{source:69,target:41,value:1},{source:70,target:25,value:4},{source:70,target:69,value:4},{source:70,target:68,value:4},{source:70,target:11,value:1},{source:70,target:24,value:1},{source:70,target:27,value:1},{source:70,target:41,value:1},{source:70,target:58,value:1},{source:71,target:27,value:1},{source:71,target:69,value:2},{source:71,target:68,value:2},{source:71,target:70,value:2},{source:71,target:11,value:1},{source:71,target:48,value:1},{source:71,target:41,value:1},{source:71,target:25,value:1},{source:72,target:26,value:2},{source:72,target:27,value:1},{source:72,target:11,value:1},{source:73,target:48,value:2},{source:74,target:48,value:2},{source:74,target:73,value:3},{source:75,target:69,value:3},{source:75,target:68,value:3},{source:75,target:25,value:3},{source:75,target:48,value:1},{source:75,target:41,value:1},{source:75,target:70,value:1},{source:75,target:71,value:1},{source:76,target:64,value:1},{source:76,target:65,value:1},{source:76,target:66,value:1},{source:76,target:63,value:1},{source:76,target:62,value:1},{source:76,target:48,value:1},{source:76,target:58,value:1}]}},6195:t=>{"use strict";t.exports=function(t){return!!t&&(t instanceof Array||Array.isArray(t)||t.length>=0&&t.splice instanceof Function)}},6250:(t,e,n)=>{var r=n(8156),o=n(6852),i=Object.hasOwnProperty,a=Object.create(null);for(var s in r)i.call(r,s)&&(a[r[s]]=s);var u=t.exports={to:{},get:{}};function l(t,e,n){return Math.min(Math.max(e,t),n)}function c(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}u.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=u.get.hsl(t),n="hsl";break;case"hwb":e=u.get.hwb(t),n="hwb";break;default:e=u.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},u.get.rgb=function(t){if(!t)return null;var e,n,o,a=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(o=e[2],e=e[1],n=0;n<3;n++){var s=2*n;a[n]=parseInt(e.slice(s,s+2),16)}o&&(a[3]=parseInt(o,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(o=(e=e[1])[3],n=0;n<3;n++)a[n]=parseInt(e[n]+e[n],16);o&&(a[3]=parseInt(o+o,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=parseInt(e[n+1],0);e[4]&&(e[5]?a[3]=.01*parseFloat(e[4]):a[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(e=t.match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:i.call(r,e[1])?((a=r[e[1]])[3]=1,a):null:null;for(n=0;n<3;n++)a[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(e[5]?a[3]=.01*parseFloat(e[4]):a[3]=parseFloat(e[4]))}for(n=0;n<3;n++)a[n]=l(a[n],0,255);return a[3]=l(a[3],0,1),a},u.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,l(parseFloat(e[2]),0,100),l(parseFloat(e[3]),0,100),l(isNaN(n)?1:n,0,1)]}return null},u.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,l(parseFloat(e[2]),0,100),l(parseFloat(e[3]),0,100),l(isNaN(n)?1:n,0,1)]}return null},u.to.hex=function(){var t=o(arguments);return"#"+c(t[0])+c(t[1])+c(t[2])+(t[3]<1?c(Math.round(255*t[3])):"")},u.to.rgb=function(){var t=o(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},u.to.rgb.percent=function(){var t=o(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},u.to.hsl=function(){var t=o(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},u.to.hwb=function(){var t=o(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},u.to.keyword=function(t){return a[t.slice(0,3)]}},6371:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(1015),o=n(5811),i=n(5758);function a(){var t,e=0,n=1,s=1,u=[.5],l=[0,1];function c(e){return null!=e&&e<=e?l[(0,r.Ay)(u,e,0,s)]:t}function h(){var t=-1;for(u=new Array(s);++t<s;)u[t]=((t+1)*n-(t-s)*e)/(s+1);return c}return c.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,h()):[e,n]},c.range=function(t){return arguments.length?(s=(l=Array.from(t)).length-1,h()):l.slice()},c.invertExtent=function(t){var r=l.indexOf(t);return r<0?[NaN,NaN]:r<1?[e,u[0]]:r>=s?[u[s-1],n]:[u[r-1],u[r]]},c.unknown=function(e){return arguments.length?(t=e,c):c},c.thresholds=function(){return u.slice()},c.copy=function(){return a().domain([e,n]).range(l).unknown(t)},i.C.apply((0,o.C)(c),arguments)}},6446:(t,e,n)=>{"use strict";n.d(e,{M:()=>c});var r=n(201),o=n(172),i=n(5561),a=n(7952);const s={position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",zIndex:"99",userSelect:"none"},u={position:"relative",background:"#f7f7f7",borderRadius:"23px",border:"0.5px solid #eaeaea",boxShadow:"inset 11px 11px 5px -7px rgba(230, 230, 230, 0.49)",height:"46px",width:"46px"},l={color:"#848484",cursor:"pointer",position:"absolute",pointerEvents:"auto"};class c extends a.x{static defaultProps={id:"pan",viewId:null,placement:"top-left",step:48,style:{},className:""};placement="top-left";className="deck-widget-pan";deck=null;step;constructor(t={}){super({...c.defaultProps,...t}),this.viewId=t.viewId??null,this.placement=t.placement??"top-left",this.step=t.step??c.defaultProps.step}setProps(t){void 0!==t.viewId&&(this.viewId=t.viewId),void 0!==t.placement&&(this.placement=t.placement),void 0!==t.step&&(this.step=t.step),super.setProps(t)}onAdd({deck:t,viewId:e}){this.deck=t,void 0===this.viewId&&(this.viewId=e)}onRemove(){this.deck=null}onRenderHTML(t){const e={...s,...this.props.style};Object.assign(t.style,e);const n=[{top:-2,left:14,onClick:()=>this.handlePan(0,this.step),label:"\u25b2",key:"up"},{top:12,left:0,onClick:()=>this.handlePan(this.step,0),label:"\u25c0",key:"left"},{top:12,left:28,onClick:()=>this.handlePan(-this.step,0),label:"\u25b6",key:"right"},{top:25,left:14,onClick:()=>this.handlePan(0,-this.step),label:"\u25bc",key:"down"}],a=(0,r.Y)("div",{style:u,children:n.map(t=>(0,r.Y)("div",{style:{...l,top:`${t.top}px`,left:`${t.left}px`},children:(0,r.Y)(i.W,{onClick:t.onClick,children:t.label})},t.key))});(0,o.XX)(a,t)}getTargetViewports(){const t=this.deck;if(!t)return[];if(this.viewId){const e=t.viewManager?.getViewport(this.viewId);return e?[e]:[]}return t.getViewports()}getViewState(t){const e=this.deck?.viewManager,n=this.viewId||t.id;if(e)try{return{...e.getViewState(n)}}catch(r){return{...e.viewState}}return{...t}}handlePan(t,e){if(!this.deck)return;const n=this.getTargetViewports();for(const r of n){const n=r.unproject([r.width/2,r.height/2]);if(!n)continue;const o=[r.width/2+t,r.height/2+e],i={...this.getViewState(r),...r.panByPosition(n,o)},a=this.viewId||r.id||"default-view";this.deck._onViewStateChange({viewId:a,viewState:i,interactionState:{}})}}}},6527:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r=n(5758);const o=Symbol("implicit");function i(){var t=new Map,e=[],n=[],a=o;function s(r){var i=r+"",s=t.get(i);if(!s){if(a!==o)return a;t.set(i,s=e.push(r))}return n[(s-1)%n.length]}return s.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return s},s.range=function(t){return arguments.length?(n=Array.from(t),s):n.slice()},s.unknown=function(t){return arguments.length?(a=t,s):a},s.copy=function(){return i(e,n).unknown(a)},r.C.apply(s,arguments),s}},6816:(t,e,n)=>{"use strict";n.d(e,{A:()=>w});var r=n(1152),o=n(7345),i=n(5077),a=n(4901),s=n(3588),u=n(4697);const l=(new i.k).lookAt({eye:[0,0,1]});function c({width:t,height:e,near:n,far:r,padding:o}){let s=-t/2,u=t/2,l=-e/2,c=e/2;if(o){const{left:n=0,right:r=0,top:i=0,bottom:h=0}=o,f=(0,a.qE)((n+t-r)/2,0,t)-t/2,d=(0,a.qE)((i+e-h)/2,0,e)-e/2;s-=f,u-=f,l+=d,c+=d}return(new i.k).ortho({left:s,right:u,bottom:l,top:c,near:n,far:r})}class h extends o.A{constructor(t){const{width:e,height:n,near:r=.1,far:o=1e3,zoom:i=0,target:a=[0,0,0],padding:s=null,flipY:u=!0}=t,h=Array.isArray(i)?i[0]:i,f=Array.isArray(i)?i[1]:i,d=Math.min(h,f),p=Math.pow(2,d);let g;if(h!==f){const t=Math.pow(2,h),e=Math.pow(2,f);g={unitsPerMeter:[t/p,e/p,1],metersPerUnit:[p/t,p/e,1]}}super({...t,longitude:void 0,position:a,viewMatrix:l.clone().scale([p,p*(u?-1:1),p]),projectionMatrix:c({width:e||1,height:n||1,padding:s,near:r,far:o}),zoom:d,distanceScales:g})}projectFlat([t,e]){const{unitsPerMeter:n}=this.distanceScales;return[t*n[0],e*n[1]]}unprojectFlat([t,e]){const{metersPerUnit:n}=this.distanceScales;return[t*n[0],e*n[1]]}panByPosition(t,e){const n=(0,u.xJ)(e,this.pixelUnprojectionMatrix),r=this.projectFlat(t),o=s.WQ([],r,s.ze([],n)),i=s.WQ([],this.center,o);return{target:this.unprojectFlat(i)}}}var f=n(4027),d=n(676),p=n(5667),g=n(4443);class v extends d.A{constructor(t){const{width:e,height:n,rotationX:r=0,rotationOrbit:o=0,target:i=[0,0,0],zoom:a=0,minRotationX:s=-90,maxRotationX:u=90,minZoom:l=-1/0,maxZoom:c=1/0,startPanPosition:h,startRotatePos:f,startRotationX:d,startRotationOrbit:p,startZoomPosition:g,startZoom:v}=t;super({width:e,height:n,rotationX:r,rotationOrbit:o,target:i,zoom:a,minRotationX:s,maxRotationX:u,minZoom:l,maxZoom:c},{startPanPosition:h,startRotatePos:f,startRotationX:d,startRotationOrbit:p,startZoomPosition:g,startZoom:v}),this.makeViewport=t.makeViewport}panStart({pos:t}){return this._getUpdatedState({startPanPosition:this._unproject(t)})}pan({pos:t,startPosition:e}){const n=this.getState().startPanPosition||e;if(!n)return this;const r=this.makeViewport(this.getViewportProps()).panByPosition(n,t);return this._getUpdatedState(r)}panEnd(){return this._getUpdatedState({startPanPosition:null})}rotateStart({pos:t}){return this._getUpdatedState({startRotatePos:t,startRotationX:this.getViewportProps().rotationX,startRotationOrbit:this.getViewportProps().rotationOrbit})}rotate({pos:t,deltaAngleX:e=0,deltaAngleY:n=0}){const{startRotatePos:r,startRotationX:o,startRotationOrbit:i}=this.getState(),{width:a,height:s}=this.getViewportProps();if(!r||void 0===o||void 0===i)return this;let u;if(t){let e=(t[0]-r[0])/a;(o<-90||o>90)&&(e*=-1),u={rotationX:o+180*((t[1]-r[1])/s),rotationOrbit:i+180*e}}else u={rotationX:o+n,rotationOrbit:i+e};return this._getUpdatedState(u)}rotateEnd(){return this._getUpdatedState({startRotationX:null,startRotationOrbit:null})}shortestPathFrom(t){const e=t.getViewportProps(),n={...this.getViewportProps()},{rotationOrbit:r}=n;return Math.abs(r-e.rotationOrbit)>180&&(n.rotationOrbit=r<0?r+360:r-360),n}zoomStart({pos:t}){return this._getUpdatedState({startZoomPosition:this._unproject(t),startZoom:this.getViewportProps().zoom})}zoom({pos:t,startPos:e,scale:n}){let{startZoom:r,startZoomPosition:o}=this.getState();if(o||(r=this.getViewportProps().zoom,o=this._unproject(e)||this._unproject(t)),!o)return this;const i=this._calculateNewZoom({scale:n,startZoom:r}),a=this.makeViewport({...this.getViewportProps(),zoom:i});return this._getUpdatedState({zoom:i,...a.panByPosition(o,t)})}zoomEnd(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}zoomIn(t=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:t})})}zoomOut(t=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:1/t})})}moveLeft(t=50){return this._panFromCenter([-t,0])}moveRight(t=50){return this._panFromCenter([t,0])}moveUp(t=50){return this._panFromCenter([0,-t])}moveDown(t=50){return this._panFromCenter([0,t])}rotateLeft(t=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit-t})}rotateRight(t=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit+t})}rotateUp(t=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX-t})}rotateDown(t=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX+t})}_unproject(t){const e=this.makeViewport(this.getViewportProps());return t&&e.unproject(t)}_calculateNewZoom({scale:t,startZoom:e}){const{maxZoom:n,minZoom:r}=this.getViewportProps();void 0===e&&(e=this.getViewportProps().zoom);const o=e+Math.log2(t);return(0,a.qE)(o,r,n)}_panFromCenter(t){const{width:e,height:n,target:r}=this.getViewportProps();return this.pan({startPosition:r,pos:[e/2+t[0],n/2+t[1]]})}_getUpdatedState(t){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...t})}applyConstraints(t){const{maxZoom:e,minZoom:n,zoom:r,maxRotationX:o,minRotationX:i,rotationOrbit:s}=t;return t.zoom=Array.isArray(r)?[(0,a.qE)(r[0],n,e),(0,a.qE)(r[1],n,e)]:(0,a.qE)(r,n,e),t.rotationX=(0,a.qE)(t.rotationX,i,o),(s<-180||s>180)&&(t.rotationOrbit=(0,p.zi)(s+180,360)-180),t}}f.A;class m extends v{constructor(t){super(t),this.zoomAxis=t.zoomAxis||"all"}_calculateNewZoom({scale:t,startZoom:e}){const{maxZoom:n,minZoom:r}=this.getViewportProps();void 0===e&&(e=this.getViewportProps().zoom);let o=Math.log2(t);if(Array.isArray(e)){let[t,i]=e;switch(this.zoomAxis){case"X":t=(0,a.qE)(t+o,r,n);break;case"Y":i=(0,a.qE)(i+o,r,n);break;default:let e=Math.min(t+o,i+o);e<r&&(o+=r-e),e=Math.max(t+o,i+o),e>n&&(o+=n-e),t+=o,i+=o}return[t,i]}return(0,a.qE)(e+o,r,n)}}class y extends f.A{constructor(){super(...arguments),this.ControllerState=m,this.transition={transitionDuration:300,transitionInterpolator:new g.A(["target","zoom"])},this.dragMode="pan"}_onPanRotate(){return!1}}class b extends r.A{constructor(t={}){super(t)}getViewportType(){return h}get ControllerType(){return y}}b.displayName="OrthographicView";const w=b},6852:(t,e,n)=>{"use strict";var r=n(6195),o=Array.prototype.concat,i=Array.prototype.slice,a=t.exports=function(t){for(var e=[],n=0,a=t.length;n<a;n++){var s=t[n];r(s)?e=o.call(e,i.call(s)):e.push(s)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},7025:(t,e,n)=>{"use strict";n.d(e,{C:()=>S,Ay:()=>C,D_:()=>M,Gu:()=>E});var r=n(1015),o=n(6420);function i(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}const a=t=>()=>t;function s(t,e){return function(n){return t+n*e}}function u(t){return 1===(t=+t)?l:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):a(isNaN(e)?n:e)}}function l(t,e){var n=e-t;return n?s(t,n):a(isNaN(t)?e:t)}const c=function t(e){var n=u(e);function r(t,e){var r=n((t=(0,o.Qh)(t)).r,(e=(0,o.Qh)(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),s=l(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=s(e),t+""}}return r.gamma=t,r}(1);function h(t){return function(e){var n,r,i=e.length,a=new Array(i),s=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=(0,o.Qh)(e[n]),a[n]=r.r||0,s[n]=r.g||0,u[n]=r.b||0;return a=t(a),s=t(s),u=t(u),r.opacity=1,function(t){return r.r=a(t),r.g=s(t),r.b=u(t),r+""}}}h(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],a=t[r+1],s=r>0?t[r-1]:2*o-a,u=r<e-1?t[r+2]:2*a-o;return i((n-r/e)*e,s,o,a,u)}}),h(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],a=t[r%e],s=t[(r+1)%e],u=t[(r+2)%e];return i((n-r/e)*e,o,a,s,u)}});function f(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=w(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<o;++n)a[n]=i[n](t);return a}}function d(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function p(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function g(t,e){var n,r={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=w(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}var v=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,m=new RegExp(v.source,"g");function y(t,e){var n,r,o,i=v.lastIndex=m.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=v.exec(t))&&(r=m.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:p(n,r)})),i=m.lastIndex;return i<e.length&&(o=e.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function b(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,o=e.slice();return function(i){for(n=0;n<r;++n)o[n]=t[n]*(1-i)+e[n]*i;return o}}function w(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?a(e):("number"===i?p:"string"===i?(n=(0,o.Ay)(e))?(e=n,c):y:e instanceof o.Ay?c:e instanceof Date?d:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?f:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?g:p:b))(t,e)}function x(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function _(t){return+t}var k=[0,1];function M(t){return t}function I(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function z(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=I(o,r),i=n(a,i)):(r=I(r,o),i=n(i,a)),function(t){return i(r(t))}}function O(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),a=new Array(o),s=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<o;)i[s]=I(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(e){var n=(0,r.Ay)(t,e,1,o)-1;return a[n](i[n](e))}}function S(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function E(){var t,e,n,r,o,i,a=k,s=k,u=w,l=M;function c(){var t,e,n,u=Math.min(a.length,s.length);return l!==M&&(t=a[0],e=a[u-1],t>e&&(n=t,t=e,e=n),l=function(n){return Math.max(t,Math.min(e,n))}),r=u>2?O:z,o=i=null,h}function h(e){return null==e||isNaN(e=+e)?n:(o||(o=r(a.map(t),s,u)))(t(l(e)))}return h.invert=function(n){return l(e((i||(i=r(s,a.map(t),p)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,_),c()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),u=x,c()},h.clamp=function(t){return arguments.length?(l=!!t||M,c()):l!==M},h.interpolate=function(t){return arguments.length?(u=t,c()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,c()}}function C(){return E()(M,M)}},7119:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>a,lq:()=>s,sG:()=>u});var r=Math.sqrt(50),o=Math.sqrt(10),i=Math.sqrt(2);function a(t,e,n){var r,o,i,a,u=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(a=s(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,i=new Array(o=r-n+1);++u<o;)i[u]=(n+u)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,i=new Array(o=r-n+1);++u<o;)i[u]=(n+u)/a}return r&&i.reverse(),i}function s(t,e,n){var a=(e-t)/Math.max(0,n),s=Math.floor(Math.log(a)/Math.LN10),u=a/Math.pow(10,s);return s>=0?(u>=r?10:u>=o?5:u>=i?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(u>=r?10:u>=o?5:u>=i?2:1)}function u(t,e,n){var a=Math.abs(e-t)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),u=a/s;return u>=r?s*=10:u>=o?s*=5:u>=i&&(s*=2),e<t?-s:s}},7215:(t,e,n)=>{"use strict";n.d(e,{$o:()=>vn,AH:()=>fn,FV:()=>Sn,Hz:()=>gn,JB:()=>he,LQ:()=>me,Ms:()=>xn,Vg:()=>Ze,Vq:()=>Zn,Wc:()=>Ke,X4:()=>jn,X9:()=>un,Zm:()=>An,hi:()=>an,rP:()=>Mn,vJ:()=>zn,xp:()=>ke});var r=Object.create,o=Object.defineProperty,i=Object.defineProperties,a=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(t,e)=>{if(e=Symbol[t])return e;throw Error("Symbol."+t+" is not defined")},p=(t,e,n)=>e in t?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,g=(t,e)=>{for(var n in e||(e={}))h.call(e,n)&&p(t,n,e[n]);if(l)for(var n of l(e))f.call(e,n)&&p(t,n,e[n]);return t},v=(t,e)=>i(t,s(e)),m=(t,e)=>{var n={};for(var r in t)h.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&l)for(var r of l(t))e.indexOf(r)<0&&f.call(t,r)&&(n[r]=t[r]);return n},y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),b=(t,e,n)=>(n=null!=t?r(c(t)):{},((t,e,n,r)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let i of u(e))!h.call(t,i)&&i!==n&&o(t,i,{get:()=>e[i],enumerable:!(r=a(e,i))||r.enumerable});return t})(!e&&t&&t.__esModule?n:o(n,"default",{value:t,enumerable:!0}),t)),w=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},x=(t,e,n)=>(w(t,e,"read from private field"),n?n.call(t):e.get(t)),_=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},k=(t,e,n,r)=>(w(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),M=(t,e,n)=>(w(t,e,"access private method"),n),I=function(t,e){this[0]=t,this[1]=e},z=t=>{var e,n=t[d("asyncIterator")],r=!1,o={};return null==n?(n=t[d("iterator")](),e=t=>o[t]=e=>n[t](e)):(n=n.call(t),e=t=>o[t]=e=>{if(r){if(r=!1,"throw"===t)throw e;return e}return r=!0,{done:!1,value:new I(new Promise(r=>{var o=n[t](e);if(!(o instanceof Object))throw TypeError("Object expected");r(o)}),1)}}),o[d("iterator")]=()=>o,e("next"),"throw"in n?e("throw"):o.throw=t=>{throw t},"return"in n&&e("return"),o},O=y((t,e)=>{function n(t,e,n,r){this.feasible=n,this.evaluation=e,this.bounded=r,this._tableau=t}e.exports=n,n.prototype.generateSolutionSet=function(){for(var t={},e=this._tableau,n=e.varIndexByRow,r=e.variablesPerIndex,o=e.matrix,i=e.rhsColumn,a=e.height-1,s=Math.round(1/e.precision),u=1;u<=a;u+=1){var l=r[n[u]];if(void 0!==l&&!0!==l.isSlack){var c=o[u][i];t[l.id]=Math.round((Number.EPSILON+c)*s)/s}}return t}}),S=y((t,e)=>{var n=O();function r(t,e,r,o,i){n.call(this,t,e,r,o),this.iter=i}e.exports=r,r.prototype=Object.create(n.prototype),r.constructor=r}),E=y((t,e)=>{var n=O(),r=S();function o(t){this.model=null,this.matrix=null,this.width=0,this.height=0,this.costRowIndex=0,this.rhsColumn=0,this.variablesPerIndex=[],this.unrestrictedVars=null,this.feasible=!0,this.evaluation=0,this.simplexIters=0,this.varIndexByRow=null,this.varIndexByCol=null,this.rowByVarIndex=null,this.colByVarIndex=null,this.precision=t||1e-8,this.optionalObjectives=[],this.objectivesByPriority={},this.savedState=null,this.availableIndexes=[],this.lastElementIndex=0,this.variables=null,this.nVars=0,this.bounded=!0,this.unboundedVarIndex=null,this.branchAndCutIterations=0}function i(t,e){this.priority=t,this.reducedCosts=new Array(e);for(var n=0;n<e;n+=1)this.reducedCosts[n]=0}e.exports=o,o.prototype.solve=function(){return this.model.getNumberOfIntegerVariables()>0?this.branchAndCut():this.simplex(),this.updateVariableValues(),this.getSolution()},i.prototype.copy=function(){var t=new i(this.priority,this.reducedCosts.length);return t.reducedCosts=this.reducedCosts.slice(),t},o.prototype.setOptionalObjective=function(t,e,n){var r=this.objectivesByPriority[t];void 0===r&&(r=new i(t,Math.max(this.width,e+1)),this.objectivesByPriority[t]=r,this.optionalObjectives.push(r),this.optionalObjectives.sort(function(t,e){return t.priority-e.priority}));r.reducedCosts[e]=n},o.prototype.initialize=function(t,e,n,r){this.variables=n,this.unrestrictedVars=r,this.width=t,this.height=e;for(var o=new Array(t),i=0;i<t;i++)o[i]=0;this.matrix=new Array(e);for(var a=0;a<e;a++)this.matrix[a]=o.slice();this.varIndexByRow=new Array(this.height),this.varIndexByCol=new Array(this.width),this.varIndexByRow[0]=-1,this.varIndexByCol[0]=-1,this.nVars=t+e-2,this.rowByVarIndex=new Array(this.nVars),this.colByVarIndex=new Array(this.nVars),this.lastElementIndex=this.nVars},o.prototype._resetMatrix=function(){var t,e,n=this.model.variables,r=this.model.constraints,o=n.length,i=r.length,a=this.matrix[0],s=!0===this.model.isMinimization?-1:1;for(t=0;t<o;t+=1){var u=n[t],l=u.priority,c=s*u.cost;0===l?a[t+1]=c:this.setOptionalObjective(l,t+1,c),e=n[t].index,this.rowByVarIndex[e]=-1,this.colByVarIndex[e]=t+1,this.varIndexByCol[t+1]=e}for(var h=1,f=0;f<i;f+=1){var d=r[f],p=d.index;this.rowByVarIndex[p]=h,this.colByVarIndex[p]=-1,this.varIndexByRow[h]=p;var g,v,m=d.terms,y=m.length,b=this.matrix[h++];if(d.isUpperBound){for(g=0;g<y;g+=1)v=m[g],b[this.colByVarIndex[v.variable.index]]=v.coefficient;b[0]=d.rhs}else{for(g=0;g<y;g+=1)v=m[g],b[this.colByVarIndex[v.variable.index]]=-v.coefficient;b[0]=-d.rhs}}},o.prototype.setModel=function(t){this.model=t;var e=t.nVariables+1,n=t.nConstraints+1;return this.initialize(e,n,t.variables,t.unrestrictedVariables),this._resetMatrix(),this},o.prototype.getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var t=this.lastElementIndex;return this.lastElementIndex+=1,t},o.prototype.density=function(){for(var t=0,e=this.matrix,n=0;n<this.height;n++)for(var r=e[n],o=0;o<this.width;o++)0!==r[o]&&(t+=1);return t/(this.height*this.width)},o.prototype.setEvaluation=function(){var t=Math.round(1/this.precision),e=this.matrix[this.costRowIndex][this.rhsColumn],n=Math.round((Number.EPSILON+e)*t)/t;this.evaluation=n,0===this.simplexIters&&(this.bestPossibleEval=n)},o.prototype.getSolution=function(){var t=!0===this.model.isMinimization?this.evaluation:-this.evaluation;return this.model.getNumberOfIntegerVariables()>0?new r(this,t,this.feasible,this.bounded,this.branchAndCutIterations):new n(this,t,this.feasible,this.bounded)}}),C=y(()=>{var t=E();t.prototype.simplex=function(){return this.bounded=!0,this.phase1(),!0===this.feasible&&this.phase2(),this},t.prototype.phase1=function(){for(var t=this.model.checkForCycles,e=[],n=this.matrix,r=this.rhsColumn,o=this.width-1,i=this.height-1,a=0;;){for(var s=0,u=-this.precision,l=1;l<=i;l++){!0===this.unrestrictedVars[this.varIndexByRow[l]];var c=n[l][r];c<u&&(u=c,s=l)}if(0===s)return this.feasible=!0,a;for(var h=0,f=-1/0,d=n[0],p=n[s],g=1;g<=o;g++){var v=p[g];if(!0===this.unrestrictedVars[this.varIndexByCol[g]]||v<-this.precision){var m=-d[g]/v;f<m&&(f=m,h=g)}}if(0===h)return this.feasible=!1,a;if(t){e.push([this.varIndexByRow[s],this.varIndexByCol[h]]);var y=this.checkForCycles(e);if(y.length>0)return this.model.messages.push("Cycle in phase 1"),this.model.messages.push("Start :"+y[0]),this.model.messages.push("Length :"+y[1]),this.feasible=!1,a}this.pivot(s,h),a+=1}},t.prototype.phase2=function(){for(var t,e,n=this.model.checkForCycles,r=[],o=this.matrix,i=this.rhsColumn,a=this.width-1,s=this.height-1,u=this.precision,l=this.optionalObjectives.length,c=null,h=0;;){var f=o[this.costRowIndex];l>0&&(c=[]);for(var d=0,p=u,g=!1,v=1;v<=a;v++)t=f[v],e=!0===this.unrestrictedVars[this.varIndexByCol[v]],l>0&&-u<t&&t<u?c.push(v):e&&t<0?-t>p&&(p=-t,d=v,g=!0):t>p&&(p=t,d=v,g=!1);if(l>0)for(var m=0;0===d&&c.length>0&&m<l;){var y=[],b=this.optionalObjectives[m].reducedCosts;p=u;for(var w=0;w<c.length;w++)t=b[v=c[w]],e=!0===this.unrestrictedVars[this.varIndexByCol[v]],-u<t&&t<u?y.push(v):e&&t<0?-t>p&&(p=-t,d=v,g=!0):t>p&&(p=t,d=v,g=!1);c=y,m+=1}if(0===d)return this.setEvaluation(),this.simplexIters+=1,h;for(var x=0,_=1/0,k=(this.varIndexByRow,1);k<=s;k++){var M=o[k],I=M[i],z=M[d];if(!(-u<z&&z<u)){if(z>0&&u>I&&I>-u){_=0,x=k;break}var O=g?-I/z:I/z;O>u&&_>O&&(_=O,x=k)}}if(_===1/0)return this.evaluation=-1/0,this.bounded=!1,this.unboundedVarIndex=this.varIndexByCol[d],h;if(n){r.push([this.varIndexByRow[x],this.varIndexByCol[d]]);var S=this.checkForCycles(r);if(S.length>0)return this.model.messages.push("Cycle in phase 2"),this.model.messages.push("Start :"+S[0]),this.model.messages.push("Length :"+S[1]),this.feasible=!1,h}this.pivot(x,d,!0),h+=1}};var e=[];t.prototype.pivot=function(t,n){var r=this.matrix,o=r[t][n],i=this.height-1,a=this.width-1,s=this.varIndexByRow[t],u=this.varIndexByCol[n];this.varIndexByRow[t]=u,this.varIndexByCol[n]=s,this.rowByVarIndex[u]=t,this.rowByVarIndex[s]=-1,this.colByVarIndex[u]=-1,this.colByVarIndex[s]=n;for(var l=r[t],c=0,h=0;h<=a;h++)l[h]>=-1e-16&&l[h]<=1e-16?l[h]=0:(l[h]/=o,e[c]=h,c+=1);l[n]=1/o;this.precision;for(var f,d,p,g=0;g<=i;g++)if(g!==t&&!(r[g][n]>=-1e-16&&r[g][n]<=1e-16)){var v=r[g];if((f=v[n])>=-1e-16&&f<=1e-16)0!==f&&(v[n]=0);else{for(d=0;d<c;d++)(p=l[h=e[d]])>=-1e-16&&p<=1e-16?0!==p&&(l[h]=0):v[h]=v[h]-f*p;v[n]=-f/o}}var m=this.optionalObjectives.length;if(m>0)for(var y=0;y<m;y+=1){var b=this.optionalObjectives[y].reducedCosts;if(0!==(f=b[n])){for(d=0;d<c;d++)0!==(p=l[h=e[d]])&&(b[h]=b[h]-f*p);b[n]=-f/o}}},t.prototype.checkForCycles=function(t){for(var e=0;e<t.length-1;e++)for(var n=e+1;n<t.length;n++){var r=t[e],o=t[n];if(r[0]===o[0]&&r[1]===o[1]){if(n-e>t.length-n)break;for(var i=!0,a=1;a<n-e;a++){var s=t[e+a],u=t[n+a];if(s[0]!==u[0]||s[1]!==u[1]){i=!1;break}}if(i)return[e,n-e]}}return[]}}),j=y((t,e)=>{function n(t,e,n,r){this.id=t,this.cost=e,this.index=n,this.value=0,this.priority=r}function r(t,e,r,o){n.call(this,t,e,r,o)}function o(t,e){n.call(this,t,0,e,0)}function i(t,e){this.variable=t,this.coefficient=e}function a(t,e,n){return 0===n||"required"===n?null:(e=e||1,n=n||1,!1===t.isMinimization&&(e=-e),t.addVariable(e,"r"+t.relaxationIndex++,!1,!1,n))}function s(t,e,n,r){this.slack=new o("s"+n,n),this.index=n,this.model=r,this.rhs=t,this.isUpperBound=e,this.terms=[],this.termsByVarIndex={},this.relaxation=null}function u(t,e){this.upperBound=t,this.lowerBound=e,this.model=t.model,this.rhs=t.rhs,this.relaxation=null}r.prototype.isInteger=!0,o.prototype.isSlack=!0,s.prototype.addTerm=function(t,e){var n=e.index,r=this.termsByVarIndex[n];if(void 0===r)r=new i(e,t),this.termsByVarIndex[n]=r,this.terms.push(r),!0===this.isUpperBound&&(t=-t),this.model.updateConstraintCoefficient(this,e,t);else{var o=r.coefficient+t;this.setVariableCoefficient(o,e)}return this},s.prototype.removeTerm=function(t){return this},s.prototype.setRightHandSide=function(t){if(t!==this.rhs){var e=t-this.rhs;!0===this.isUpperBound&&(e=-e),this.rhs=t,this.model.updateRightHandSide(this,e)}return this},s.prototype.setVariableCoefficient=function(t,e){var n=e.index;if(-1!==n){var r=this.termsByVarIndex[n];if(void 0===r)this.addTerm(t,e);else if(t!==r.coefficient){var o=t-r.coefficient;!0===this.isUpperBound&&(o=-o),r.coefficient=t,this.model.updateConstraintCoefficient(this,e,o)}return this}console.warn("[Constraint.setVariableCoefficient] Trying to change coefficient of inexistant variable.")},s.prototype.relax=function(t,e){this.relaxation=a(this.model,t,e),this._relax(this.relaxation)},s.prototype._relax=function(t){null!==t&&(this.isUpperBound?this.setVariableCoefficient(-1,t):this.setVariableCoefficient(1,t))},u.prototype.isEquality=!0,u.prototype.addTerm=function(t,e){return this.upperBound.addTerm(t,e),this.lowerBound.addTerm(t,e),this},u.prototype.removeTerm=function(t){return this.upperBound.removeTerm(t),this.lowerBound.removeTerm(t),this},u.prototype.setRightHandSide=function(t){this.upperBound.setRightHandSide(t),this.lowerBound.setRightHandSide(t),this.rhs=t},u.prototype.relax=function(t,e){this.relaxation=a(this.model,t,e),this.upperBound.relaxation=this.relaxation,this.upperBound._relax(this.relaxation),this.lowerBound.relaxation=this.relaxation,this.lowerBound._relax(this.relaxation)},e.exports={Constraint:s,Variable:n,IntegerVariable:r,SlackVariable:o,Equality:u,Term:i}}),P=y(()=>{var t=E(),e=j().SlackVariable;t.prototype.addCutConstraints=function(t){for(var n=t.length,r=this.height,o=r+n,i=r;i<o;i+=1)void 0===this.matrix[i]&&(this.matrix[i]=this.matrix[i-1].slice());this.height=o,this.nVars=this.width+this.height-2;for(var a,s=this.width-1,u=0;u<n;u+=1){var l=t[u],c=r+u,h="min"===l.type?-1:1,f=l.varIndex,d=this.rowByVarIndex[f],p=this.matrix[c];if(-1===d){for(p[this.rhsColumn]=h*l.value,a=1;a<=s;a+=1)p[a]=0;p[this.colByVarIndex[f]]=h}else{var g=this.matrix[d],v=g[this.rhsColumn];for(p[this.rhsColumn]=h*(l.value-v),a=1;a<=s;a+=1)p[a]=-h*g[a]}var m=this.getNewElementIndex();this.varIndexByRow[c]=m,this.rowByVarIndex[m]=c,this.colByVarIndex[m]=-1,this.variablesPerIndex[m]=new e("s"+m,m),this.nVars+=1}},t.prototype._addLowerBoundMIRCut=function(t){if(t===this.costRowIndex)return!1;this.model;var n=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[t]].isInteger)return!1;var r=n[t][this.rhsColumn],o=r-Math.floor(r);if(o<this.precision||1-this.precision<o)return!1;var i=this.height;n[i]=n[i-1].slice(),this.height+=1,this.nVars+=1;var a=this.getNewElementIndex();this.varIndexByRow[i]=a,this.rowByVarIndex[a]=i,this.colByVarIndex[a]=-1,this.variablesPerIndex[a]=new e("s"+a,a),n[i][this.rhsColumn]=Math.floor(r);for(var s=1;s<this.varIndexByCol.length;s+=1){if(this.variablesPerIndex[this.varIndexByCol[s]].isInteger){var u=n[t][s],l=Math.floor(u)+Math.max(0,u-Math.floor(u)-o)/(1-o);n[i][s]=l}else n[i][s]=Math.min(0,n[t][s]/(1-o))}for(var c=0;c<this.width;c+=1)n[i][c]-=n[t][c];return!0},t.prototype._addUpperBoundMIRCut=function(t){if(t===this.costRowIndex)return!1;this.model;var n=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[t]].isInteger)return!1;var r=n[t][this.rhsColumn],o=r-Math.floor(r);if(o<this.precision||1-this.precision<o)return!1;var i=this.height;n[i]=n[i-1].slice(),this.height+=1,this.nVars+=1;var a=this.getNewElementIndex();this.varIndexByRow[i]=a,this.rowByVarIndex[a]=i,this.colByVarIndex[a]=-1,this.variablesPerIndex[a]=new e("s"+a,a),n[i][this.rhsColumn]=-o;for(var s=1;s<this.varIndexByCol.length;s+=1){var u=this.variablesPerIndex[this.varIndexByCol[s]],l=n[t][s],c=l-Math.floor(l);u.isInteger?n[i][s]=c<=o?-c:-(1-c)*o/c:n[i][s]=l>=0?-l:l*o/(1-o)}return!0},t.prototype.applyMIRCuts=function(){}}),$=y(()=>{var t=E();t.prototype._putInBase=function(t){var e=this.rowByVarIndex[t];if(-1===e){for(var n=this.colByVarIndex[t],r=1;r<this.height;r+=1){var o=this.matrix[r][n];if(o<-this.precision||this.precision<o){e=r;break}}this.pivot(e,n)}return e},t.prototype._takeOutOfBase=function(t){var e=this.colByVarIndex[t];if(-1===e){for(var n=this.rowByVarIndex[t],r=this.matrix[n],o=1;o<this.height;o+=1){var i=r[o];if(i<-this.precision||this.precision<i){e=o;break}}this.pivot(n,e)}return e},t.prototype.updateVariableValues=function(){for(var t=this.variables.length,e=Math.round(1/this.precision),n=0;n<t;n+=1){var r=this.variables[n],o=r.index,i=this.rowByVarIndex[o];if(-1===i)r.value=0;else{var a=this.matrix[i][this.rhsColumn];r.value=Math.round((a+Number.EPSILON)*e)/e}}},t.prototype.updateRightHandSide=function(t,e){var n=this.height-1,r=this.rowByVarIndex[t.index];if(-1===r){for(var o=this.colByVarIndex[t.index],i=0;i<=n;i+=1){var a=this.matrix[i];a[this.rhsColumn]-=e*a[o]}var s=this.optionalObjectives.length;if(s>0)for(var u=0;u<s;u+=1){var l=this.optionalObjectives[u].reducedCosts;l[this.rhsColumn]-=e*l[o]}}else this.matrix[r][this.rhsColumn]-=e},t.prototype.updateConstraintCoefficient=function(t,e,n){if(t.index===e.index)throw new Error("[Tableau.updateConstraintCoefficient] constraint index should not be equal to variable index !");var r=this._putInBase(t.index),o=this.colByVarIndex[e.index];if(-1===o)for(var i=this.rowByVarIndex[e.index],a=0;a<this.width;a+=1)this.matrix[r][a]+=n*this.matrix[i][a];else this.matrix[r][o]-=n},t.prototype.updateCost=function(t,e){var n=t.index,r=this.width-1,o=this.colByVarIndex[n];if(-1===o){var i,a=this.matrix[this.rowByVarIndex[n]];if(0===t.priority){var s=this.matrix[0];for(i=0;i<=r;i+=1)s[i]+=e*a[i]}else{var u=this.objectivesByPriority[t.priority].reducedCosts;for(i=0;i<=r;i+=1)u[i]+=e*a[i]}}else this.matrix[0][o]-=e},t.prototype.addConstraint=function(t){var e=t.isUpperBound?1:-1,n=this.height,r=this.matrix[n];void 0===r&&(r=this.matrix[0].slice(),this.matrix[n]=r);for(var o=this.width-1,i=0;i<=o;i+=1)r[i]=0;r[this.rhsColumn]=e*t.rhs;for(var a=t.terms,s=a.length,u=0;u<s;u+=1){var l=a[u],c=l.coefficient,h=l.variable.index,f=this.rowByVarIndex[h];if(-1===f)r[this.colByVarIndex[h]]+=e*c;else{var d=this.matrix[f];d[this.rhsColumn];for(i=0;i<=o;i+=1)r[i]-=e*c*d[i]}}var p=t.index;this.varIndexByRow[n]=p,this.rowByVarIndex[p]=n,this.colByVarIndex[p]=-1,this.height+=1},t.prototype.removeConstraint=function(t){var e=t.index,n=this.height-1,r=this._putInBase(e),o=this.matrix[n];this.matrix[n]=this.matrix[r],this.matrix[r]=o,this.varIndexByRow[r]=this.varIndexByRow[n],this.varIndexByRow[n]=-1,this.rowByVarIndex[e]=-1,this.availableIndexes[this.availableIndexes.length]=e,t.slack.index=-1,this.height-=1},t.prototype.addVariable=function(t){var e=this.height-1,n=this.width,r=!0===this.model.isMinimization?-t.cost:t.cost,o=t.priority,i=this.optionalObjectives.length;if(i>0)for(var a=0;a<i;a+=1)this.optionalObjectives[a].reducedCosts[n]=0;0===o?this.matrix[0][n]=r:(this.setOptionalObjective(o,n,r),this.matrix[0][n]=0);for(var s=1;s<=e;s+=1)this.matrix[s][n]=0;var u=t.index;this.varIndexByCol[n]=u,this.rowByVarIndex[u]=-1,this.colByVarIndex[u]=n,this.width+=1},t.prototype.removeVariable=function(t){var e=t.index,n=this._takeOutOfBase(e),r=this.width-1;if(n!==r){for(var o=this.height-1,i=0;i<=o;i+=1){var a=this.matrix[i];a[n]=a[r]}var s=this.optionalObjectives.length;if(s>0)for(var u=0;u<s;u+=1){var l=this.optionalObjectives[u].reducedCosts;l[n]=l[r]}var c=this.varIndexByCol[r];this.varIndexByCol[n]=c,this.colByVarIndex[c]=n}this.varIndexByCol[r]=-1,this.colByVarIndex[e]=-1,this.availableIndexes[this.availableIndexes.length]=e,t.index=-1,this.width-=1}}),A=y(()=>{E().prototype.log=function(t,e){console.log("****",t,"****"),console.log("Nb Variables",this.width-1),console.log("Nb Constraints",this.height-1),console.log("Basic Indexes",this.varIndexByRow),console.log("Non Basic Indexes",this.varIndexByCol),console.log("Rows",this.rowByVarIndex),console.log("Cols",this.colByVarIndex);var n,r,o,i,a,s,u,l,c,h,f,d="",p=[" "];for(r=1;r<this.width;r+=1)a=this.varIndexByCol[r],u=(s=void 0===(i=this.variablesPerIndex[a])?"c"+a:i.id).length,Math.abs(u-5),l=" ",c="\t",u>5?l+=" ":c+="\t",p[r]=l,d+=c+s;console.log(d);var g=this.matrix[this.costRowIndex],v="\t";for(n=1;n<this.width;n+=1)v+="\t",v+=p[n],v+=g[n].toFixed(5);for(v+="\t"+p[0]+g[0].toFixed(5),console.log(v+"\tZ"),o=1;o<this.height;o+=1){for(h=this.matrix[o],f="\t",r=1;r<this.width;r+=1)f+="\t"+p[r]+h[r].toFixed(5);f+="\t"+p[0]+h[0].toFixed(5),a=this.varIndexByRow[o],s=void 0===(i=this.variablesPerIndex[a])?"c"+a:i.id,console.log(f+"\t"+s)}console.log("");var m=this.optionalObjectives.length;if(m>0){console.log("    Optional objectives:");for(var y=0;y<m;y+=1){var b=this.optionalObjectives[y].reducedCosts,w="";for(n=1;n<this.width;n+=1)w+=b[n]<0?"":" ",w+=p[n],w+=b[n].toFixed(5);w+=(b[0]<0?"":" ")+p[0]+b[0].toFixed(5),console.log(w+" z"+y)}}return console.log("Feasible?",this.feasible),console.log("evaluation",this.evaluation),this}}),N=y(()=>{var t=E();t.prototype.copy=function(){var e=new t(this.precision);e.width=this.width,e.height=this.height,e.nVars=this.nVars,e.model=this.model,e.variables=this.variables,e.variablesPerIndex=this.variablesPerIndex,e.unrestrictedVars=this.unrestrictedVars,e.lastElementIndex=this.lastElementIndex,e.varIndexByRow=this.varIndexByRow.slice(),e.varIndexByCol=this.varIndexByCol.slice(),e.rowByVarIndex=this.rowByVarIndex.slice(),e.colByVarIndex=this.colByVarIndex.slice(),e.availableIndexes=this.availableIndexes.slice();for(var n=[],r=0;r<this.optionalObjectives.length;r++)n[r]=this.optionalObjectives[r].copy();e.optionalObjectives=n;for(var o=this.matrix,i=new Array(this.height),a=0;a<this.height;a++)i[a]=o[a].slice();return e.matrix=i,e},t.prototype.save=function(){this.savedState=this.copy()},t.prototype.restore=function(){if(null!==this.savedState){var t,e,n=this.savedState,r=n.matrix;for(this.nVars=n.nVars,this.model=n.model,this.variables=n.variables,this.variablesPerIndex=n.variablesPerIndex,this.unrestrictedVars=n.unrestrictedVars,this.lastElementIndex=n.lastElementIndex,this.width=n.width,this.height=n.height,t=0;t<this.height;t+=1){var o=r[t],i=this.matrix[t];for(e=0;e<this.width;e+=1)i[e]=o[e]}var a=n.varIndexByRow;for(e=0;e<this.height;e+=1)this.varIndexByRow[e]=a[e];for(;this.varIndexByRow.length>this.height;)this.varIndexByRow.pop();var s=n.varIndexByCol;for(t=0;t<this.width;t+=1)this.varIndexByCol[t]=s[t];for(;this.varIndexByCol.length>this.width;)this.varIndexByCol.pop();for(var u=n.rowByVarIndex,l=n.colByVarIndex,c=0;c<this.nVars;c+=1)this.rowByVarIndex[c]=u[c],this.colByVarIndex[c]=l[c];if(n.optionalObjectives.length>0&&this.optionalObjectives.length>0){this.optionalObjectives=[],this.optionalObjectivePerPriority={};for(var h=0;h<n.optionalObjectives.length;h++){var f=n.optionalObjectives[h].copy();this.optionalObjectives[h]=f,this.optionalObjectivePerPriority[f.priority]=f}}}}}),T=y(()=>{var t=E();function e(t,e){this.index=t,this.value=e}t.prototype.getMostFractionalVar=function(){for(var t=0,n=null,r=null,o=this.model.integerVariables,i=o.length,a=0;a<i;a++){var s=o[a].index,u=this.rowByVarIndex[s];if(-1!==u){var l=this.matrix[u][this.rhsColumn],c=Math.abs(l-Math.round(l));t<c&&(t=c,n=s,r=l)}}return new e(n,r)},t.prototype.getFractionalVarWithLowestCost=function(){for(var t=1/0,n=null,r=null,o=this.model.integerVariables,i=o.length,a=0;a<i;a++){var s=o[a],u=s.index,l=this.rowByVarIndex[u];if(-1!==l){var c=this.matrix[l][this.rhsColumn];if(Math.abs(c-Math.round(c))>this.precision){var h=s.cost;t>h&&(t=h,n=u,r=c)}}}return new e(n,r)}}),V=y(()=>{var t=E();t.prototype.countIntegerValues=function(){for(var t=0,e=1;e<this.height;e+=1)if(this.variablesPerIndex[this.varIndexByRow[e]].isInteger){var n=this.matrix[e][this.rhsColumn];(n-=Math.floor(n))<this.precision&&-n<this.precision&&(t+=1)}return t},t.prototype.isIntegral=function(){for(var t=this.model.integerVariables,e=t.length,n=0;n<e;n++){var r=this.rowByVarIndex[t[n].index];if(-1!==r){var o=this.matrix[r][this.rhsColumn];if(Math.abs(o-Math.round(o))>this.precision)return!1}}return!0},t.prototype.computeFractionalVolume=function(t){for(var e=-1,n=1;n<this.height;n+=1)if(this.variablesPerIndex[this.varIndexByRow[n]].isInteger){var r=this.matrix[n][this.rhsColumn];if(r=Math.abs(r),Math.min(r-Math.floor(r),Math.floor(r+1))<this.precision){if(!t)return 0}else-1===e?e=r:e*=r}return-1===e?0:e}}),Z=y((t,e)=>{C(),P(),$(),A(),N(),T(),V(),e.exports=E()}),B=y(()=>{var t=E();function e(t,e,n){this.type=t,this.varIndex=e,this.value=n}function n(t,e){this.relaxedEvaluation=t,this.cuts=e}function r(t,e){return e.relaxedEvaluation-t.relaxedEvaluation}t.prototype.applyCuts=function(t){if(this.restore(),this.addCutConstraints(t),this.simplex(),this.model.useMIRCuts)for(var e=!0;e;){var n=this.computeFractionalVolume(!0);this.applyMIRCuts(),this.simplex(),this.computeFractionalVolume(!0)>=.9*n&&(e=!1)}},t.prototype.branchAndCut=function(){var t=[],o=0,i=this.model.tolerance,a=!0,s=1e99;this.model.timeout&&(s=Date.now()+this.model.timeout);for(var u=1/0,l=null,c=[],h=0;h<this.optionalObjectives.length;h+=1)c.push(1/0);var f,d=new n(-1/0,[]);for(t.push(d);t.length>0&&!0===a&&Date.now()<s;)if(f=this.model.isMinimization?this.bestPossibleEval*(1+i):this.bestPossibleEval*(1-i),i>0&&u<f&&(a=!1),!((d=t.pop()).relaxedEvaluation>u)){var p=d.cuts;if(this.applyCuts(p),o++,!1!==this.feasible){var g=this.evaluation;if(!(g>u)){if(g===u){for(var v=!0,m=0;m<this.optionalObjectives.length&&!(this.optionalObjectives[m].reducedCosts[0]>c[m]);m+=1)if(this.optionalObjectives[m].reducedCosts[0]<c[m]){v=!1;break}if(v)continue}if(!0===this.isIntegral()){if(this.__isIntegral=!0,1===o)return void(this.branchAndCutIterations=o);l=d,u=g;for(var y=0;y<this.optionalObjectives.length;y+=1)c[y]=this.optionalObjectives[y].reducedCosts[0]}else{1===o&&this.save();for(var b=this.getMostFractionalVar(),w=b.index,x=[],_=[],k=p.length,M=0;M<k;M+=1){var I=p[M];I.varIndex===w?"min"===I.type?_.push(I):x.push(I):(x.push(I),_.push(I))}var z=Math.ceil(b.value),O=Math.floor(b.value),S=new e("min",w,z);x.push(S);var E=new e("max",w,O);_.push(E),t.push(new n(g,x)),t.push(new n(g,_)),t.sort(r)}}}}null!==l&&this.applyCuts(l.cuts),this.branchAndCutIterations=o}}),R=y((t,e)=>{var n=E(),r=(B(),j()),o=r.Constraint,i=r.Equality,a=r.Variable,s=r.IntegerVariable;r.Term;function u(t,e){this.tableau=new n(t),this.name=e,this.variables=[],this.integerVariables=[],this.unrestrictedVariables={},this.constraints=[],this.nConstraints=0,this.nVariables=0,this.isMinimization=!0,this.tableauInitialized=!1,this.relaxationIndex=1,this.useMIRCuts=!1,this.checkForCycles=!0,this.messages=[]}e.exports=u,u.prototype.minimize=function(){return this.isMinimization=!0,this},u.prototype.maximize=function(){return this.isMinimization=!1,this},u.prototype._getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var t=this.lastElementIndex;return this.lastElementIndex+=1,t},u.prototype._addConstraint=function(t){var e=t.slack;this.tableau.variablesPerIndex[e.index]=e,this.constraints.push(t),this.nConstraints+=1,!0===this.tableauInitialized&&this.tableau.addConstraint(t)},u.prototype.smallerThan=function(t){var e=new o(t,!0,this.tableau.getNewElementIndex(),this);return this._addConstraint(e),e},u.prototype.greaterThan=function(t){var e=new o(t,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(e),e},u.prototype.equal=function(t){var e=new o(t,!0,this.tableau.getNewElementIndex(),this);this._addConstraint(e);var n=new o(t,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(n),new i(e,n)},u.prototype.addVariable=function(t,e,n,r,o){if("string"==typeof o)switch(o){case"required":default:o=0;break;case"strong":o=1;break;case"medium":o=2;break;case"weak":o=3}var i,u=this.tableau.getNewElementIndex();return null==e&&(e="v"+u),null==t&&(t=0),null==o&&(o=0),n?(i=new s(e,t,u,o),this.integerVariables.push(i)):i=new a(e,t,u,o),this.variables.push(i),this.tableau.variablesPerIndex[u]=i,r&&(this.unrestrictedVariables[u]=!0),this.nVariables+=1,!0===this.tableauInitialized&&this.tableau.addVariable(i),i},u.prototype._removeConstraint=function(t){var e=this.constraints.indexOf(t);-1!==e?(this.constraints.splice(e,1),this.nConstraints-=1,!0===this.tableauInitialized&&this.tableau.removeConstraint(t),t.relaxation&&this.removeVariable(t.relaxation)):console.warn("[Model.removeConstraint] Constraint not present in model")},u.prototype.removeConstraint=function(t){return t.isEquality?(this._removeConstraint(t.upperBound),this._removeConstraint(t.lowerBound)):this._removeConstraint(t),this},u.prototype.removeVariable=function(t){var e=this.variables.indexOf(t);if(-1!==e)return this.variables.splice(e,1),!0===this.tableauInitialized&&this.tableau.removeVariable(t),this;console.warn("[Model.removeVariable] Variable not present in model")},u.prototype.updateRightHandSide=function(t,e){return!0===this.tableauInitialized&&this.tableau.updateRightHandSide(t,e),this},u.prototype.updateConstraintCoefficient=function(t,e,n){return!0===this.tableauInitialized&&this.tableau.updateConstraintCoefficient(t,e,n),this},u.prototype.setCost=function(t,e){var n=t-e.cost;return!1===this.isMinimization&&(n=-n),e.cost=t,this.tableau.updateCost(e,n),this},u.prototype.loadJson=function(t){this.isMinimization="max"!==t.opType;for(var e=t.variables,n=t.constraints,r={},o={},a=Object.keys(n),s=a.length,u=0;u<s;u+=1){var l,c,h=a[u],f=n[h],d=f.equal,p=f.weight,g=f.priority,v=void 0!==p||void 0!==g;if(void 0===d){var m=f.min;void 0!==m&&(l=this.greaterThan(m),r[h]=l,v&&l.relax(p,g));var y=f.max;void 0!==y&&(c=this.smallerThan(y),o[h]=c,v&&c.relax(p,g))}else{l=this.greaterThan(d),r[h]=l,c=this.smallerThan(d),o[h]=c;var b=new i(l,c);v&&b.relax(p,g)}}var w=Object.keys(e),x=w.length;this.tolerance=t.tolerance||0,t.timeout&&(this.timeout=t.timeout),t.options&&(t.options.timeout&&(this.timeout=t.options.timeout),0===this.tolerance&&(this.tolerance=t.options.tolerance||0),t.options.useMIRCuts&&(this.useMIRCuts=t.options.useMIRCuts),void 0===t.options.exitOnCycles?this.checkForCycles=!0:this.checkForCycles=t.options.exitOnCycles);for(var _=t.ints||{},k=t.binaries||{},M=t.unrestricted||{},I=t.optimize,z=0;z<x;z+=1){var O=w[z],S=e[O],E=S[I]||0,C=!!k[O],j=!!_[O]||C,P=!!M[O],$=this.addVariable(E,O,j,P);C&&this.smallerThan(1).addTerm(1,$);var A=Object.keys(S);for(u=0;u<A.length;u+=1){var N=A[u];if(N!==I){var T=S[N],V=r[N];void 0!==V&&V.addTerm(T,$);var Z=o[N];void 0!==Z&&Z.addTerm(T,$)}}}return this},u.prototype.getNumberOfIntegerVariables=function(){return this.integerVariables.length},u.prototype.solve=function(){return!1===this.tableauInitialized&&(this.tableau.setModel(this),this.tableauInitialized=!0),this.tableau.solve()},u.prototype.isFeasible=function(){return this.tableau.feasible},u.prototype.save=function(){return this.tableau.save()},u.prototype.restore=function(){return this.tableau.restore()},u.prototype.activateMIRCuts=function(t){this.useMIRCuts=t},u.prototype.debug=function(t){this.checkForCycles=t},u.prototype.log=function(t){return this.tableau.log(t)}}),L=y(t=>{t.CleanObjectiveAttributes=function(t){var e,n,r;if("string"==typeof t.optimize){if(t.constraints[t.optimize]){for(n in e=Math.random(),t.variables)t.variables[n][t.optimize]&&(t.variables[n][e]=t.variables[n][t.optimize]);return t.constraints[e]=t.constraints[t.optimize],delete t.constraints[t.optimize],t}return t}for(r in t.optimize)if(t.constraints[r])if("equal"===t.constraints[r])delete t.optimize[r];else{for(n in e=Math.random(),t.variables)t.variables[n][r]&&(t.variables[n][e]=t.variables[n][r]);t.constraints[e]=t.constraints[r],delete t.constraints[r]}return t}}),F=y((t,e)=>{e.exports=function(t){return t.length?function(t){var e={is_blank:/^\W{0,}$/,is_objective:/(max|min)(imize){0,}\:/i,is_int:/^(?!\/\*)\W{0,}int/i,is_bin:/^(?!\/\*)\W{0,}bin/i,is_constraint:/(\>|\<){0,}\=/i,is_unrestricted:/^\S{0,}unrestricted/i,parse_lhs:/(\-|\+){0,1}\s{0,1}\d{0,}\.{0,}\d{0,}\s{0,}[A-Za-z]\S{0,}/gi,parse_rhs:/(\-|\+){0,1}\d{1,}\.{0,}\d{0,}\W{0,}\;{0,1}$/i,parse_dir:/(\>|\<){0,}\=/gi,parse_int:/[^\s|^\,]+/gi,parse_bin:/[^\s|^\,]+/gi,get_num:/(\-|\+){0,1}(\W|^)\d+\.{0,1}\d{0,}/g,get_word:/[A-Za-z].*/},n={opType:"",optimize:"_obj",constraints:{},variables:{}},r={">=":"min","<=":"max","=":"equal"},o="",i=null,a="",s="",u="",l=0;"string"==typeof t&&(t=t.split("\n"));for(var c=0;c<t.length;c++)if(u="__"+c,o=t[c],i=null,e.is_objective.test(o))n.opType=o.match(/(max|min)/gi)[0],(i=o.match(e.parse_lhs).map(function(t){return t.replace(/\s+/,"")}).slice(1)).forEach(function(t){a=null===(a=t.match(e.get_num))?"-"===t.substr(0,1)?-1:1:a[0],a=parseFloat(a),s=t.match(e.get_word)[0].replace(/\;$/,""),n.variables[s]=n.variables[s]||{},n.variables[s]._obj=a});else if(e.is_int.test(o))i=o.match(e.parse_int).slice(1),n.ints=n.ints||{},i.forEach(function(t){t=t.replace(";",""),n.ints[t]=1});else if(e.is_bin.test(o))i=o.match(e.parse_bin).slice(1),n.binaries=n.binaries||{},i.forEach(function(t){t=t.replace(";",""),n.binaries[t]=1});else if(e.is_constraint.test(o)){var h=o.indexOf(":");(i=(-1===h?o:o.slice(h+1)).match(e.parse_lhs).map(function(t){return t.replace(/\s+/,"")})).forEach(function(t){a=null===(a=t.match(e.get_num))?"-"===t.substr(0,1)?-1:1:a[0],a=parseFloat(a),s=t.match(e.get_word)[0],n.variables[s]=n.variables[s]||{},n.variables[s][u]=a}),l=parseFloat(o.match(e.parse_rhs)[0]),o=r[o.match(e.parse_dir)[0]],n.constraints[u]=n.constraints[u]||{},n.constraints[u][o]=l}else e.is_unrestricted.test(o)&&(i=o.match(e.parse_int).slice(1),n.unrestricted=n.unrestricted||{},i.forEach(function(t){t=t.replace(";",""),n.unrestricted[t]=1}));return n}(t):function(t){if(!t)throw new Error("Solver requires a model to operate on");var e="",n={max:"<=",min:">=",equal:"="},r=new RegExp("[^A-Za-z0-9_[{}/.&#$%~'@^]","gi");if(t.opType)for(var o in e+=t.opType+":",t.variables)t.variables[o][o]=t.variables[o][o]?t.variables[o][o]:1,t.variables[o][t.optimize]&&(e+=" "+t.variables[o][t.optimize]+" "+o.replace(r,"_"));else e+="max:";for(var i in e+=";\n\n",t.constraints)for(var a in t.constraints[i])if(void 0!==n[a]){for(var s in t.variables)void 0!==t.variables[s][i]&&(e+=" "+t.variables[s][i]+" "+s.replace(r,"_"));e+=" "+n[a]+" "+t.constraints[i][a],e+=";\n"}if(t.ints)for(var u in e+="\n\n",t.ints)e+="int "+u.replace(r,"_")+";\n";if(t.unrestricted)for(var l in e+="\n\n",t.unrestricted)e+="unrestricted "+l.replace(r,"_")+";\n";return e}(t)}}),D=y(()=>{}),U=y(()=>{}),q=y(t=>{function e(t){return t=(t=(t=t.replace("\\r\\n","\r\n")).split("\r\n")).filter(function(t){var e;return!(!0===(e=new RegExp(" 0$","gi")).test(t)||(e=new RegExp("\\d$","gi"),!1===e.test(t)))}).map(function(t){return t.split(/\:{0,1} +(?=\d)/)}).reduce(function(t,e,n){return t[e[0]]=e[1],t},{})}t.reformat=F(),t.solve=function(t){return new Promise(function(n,r){"undefined"!=typeof window&&r("Function Not Available in Browser");var o=F()(t);t.external||r("Data for this function must be contained in the 'external' attribute. Not seeing anything there."),t.external.binPath||r("No Executable | Binary path provided in arguments as 'binPath'"),t.external.args||r("No arguments array for cli | bash provided on 'args' attribute"),t.external.tempName||r("No 'tempName' given. This is necessary to produce a staging file for the solver to operate on"),D().writeFile(t.external.tempName,o,function(o,i){if(o)r(o);else{var a=U().execFile;t.external.args.push(t.external.tempName),a(t.external.binPath,t.external.args,function(t,o){if(t)if(1===t.code)n(e(o));else{var i={code:t.code,meaning:{"-2":"Out of Memory",1:"SUBOPTIMAL",2:"INFEASIBLE",3:"UNBOUNDED",4:"DEGENERATE",5:"NUMFAILURE",6:"USER-ABORT",7:"TIMEOUT",9:"PRESOLVED",25:"ACCURACY ERROR",255:"FILE-ERROR"}[t.code],data:o};r(i)}else n(e(o))})}})})}}),W=y((t,e)=>{e.exports={lpsolve:q()}}),G=y((t,e)=>{e.exports=function(t,e){var n,r,o,i,a,s=e.optimize,u=JSON.parse(JSON.stringify(e.optimize)),l=Object.keys(e.optimize),c=0,h={},f="",d={},p=[];for(delete e.optimize,r=0;r<l.length;r++)u[l[r]]=0;for(r=0;r<l.length;r++){for(a in e.optimize=l[r],e.opType=s[l[r]],n=t.Solve(e,void 0,void 0,!0),l)if(!e.variables[l[a]])for(i in n[l[a]]=n[l[a]]?n[l[a]]:0,e.variables)e.variables[i][l[a]]&&n[i]&&(n[l[a]]+=n[i]*e.variables[i][l[a]]);for(f="base",o=0;o<l.length;o++)n[l[o]]?f+="-"+(1e3*n[l[o]]|0)/1e3:f+="-0";if(!h[f]){for(h[f]=1,c++,o=0;o<l.length;o++)n[l[o]]&&(u[l[o]]+=n[l[o]]);delete n.feasible,delete n.result,p.push(n)}}for(r=0;r<l.length;r++)e.constraints[l[r]]={equal:u[l[r]]/c};for(r in e.optimize="cheater-"+Math.random(),e.opType="max",e.variables)e.variables[r].cheater=1;for(r in p)for(i in p[r])d[i]=d[i]||{min:1e99,max:-1e99};for(r in d)for(i in p)p[i][r]?(p[i][r]>d[r].max&&(d[r].max=p[i][r]),p[i][r]<d[r].min&&(d[r].min=p[i][r])):(p[i][r]=0,d[r].min=0);return{midpoint:n=t.Solve(e,void 0,void 0,!0),vertices:p,ranges:d}}}),X=y((t,e)=>{var n=Z(),r=R(),o=B(),i=j(),a=L(),s=i.Constraint,u=i.Variable,l=i.Numeral,c=i.Term,h=W(),f=function(){this.Model=r,this.branchAndCut=o,this.Constraint=s,this.Variable=u,this.Numeral=l,this.Term=c,this.Tableau=n,this.lastSolvedModel=null,this.External=h,this.Solve=function(t,e,n,o){if(o)for(var i in a)t=a[i](t);if(!t)throw new Error("Solver requires a model to operate on");if("object"==typeof t.optimize&&Object.keys(t.optimize>1))return G()(this,t);if(t.external){var s=Object.keys(h);if(s=JSON.stringify(s),!t.external.solver)throw new Error("The model you provided has an 'external' object that doesn't have a solver attribute. Use one of the following:"+s);if(!h[t.external.solver])throw new Error("No support (yet) for "+t.external.solver+". Please use one of these instead:"+s);return h[t.external.solver].solve(t)}t instanceof r||(t=new r(e).loadJson(t));var u=t.solve();if(this.lastSolvedModel=t,u.solutionSet=u.generateSolutionSet(),n)return u;var l={};return l.feasible=u.feasible,l.result=u.evaluation,l.bounded=u.bounded,u._tableau.__isIntegral&&(l.isIntegral=!0),Object.keys(u.solutionSet).forEach(function(t){0!==u.solutionSet[t]&&(l[t]=u.solutionSet[t])}),l},this.ReformatLP=F(),this.MultiObjective=function(t){return G()(this,t)}};"function"==typeof define?define([],function(){return new f}):"object"==typeof window?window.solver=new f:"object"==typeof self&&(self.solver=new f),e.exports=new f}),Y=y((t,e)=>{var n,r,o=1e-60;do{n=1+.1*(o+=o),r=1+.2*o}while(n<=1||r<=1);e.exports=o}),J=y((t,e)=>{e.exports=function(t,e,n){let r,o;for(let i=1;i<=n;i+=1){t[i][i]=1/t[i][i],o=-t[i][i];for(let e=1;e<i;e+=1)t[e][i]*=o;if(r=i+1,n<r)break;for(let e=r;e<=n;e+=1){o=t[i][e],t[i][e]=0;for(let n=1;n<=i;n+=1)t[n][e]+=o*t[n][i]}}}}),H=y((t,e)=>{e.exports=function(t,e,n,r){let o,i;for(o=1;o<=n;o+=1){i=0;for(let e=1;e<o;e+=1)i+=t[e][o]*r[e];r[o]=(r[o]-i)/t[o][o]}for(let a=1;a<=n;a+=1){o=n+1-a,r[o]/=t[o][o],i=-r[o];for(let e=1;e<o;e+=1)r[e]+=i*t[e][o]}}}),Q=y((t,e)=>{e.exports=function(t,e,n,r){let o,i,a;for(let s=1;s<=n;s+=1){if(r[1]=s,a=0,o=s-1,o<1){if(a=t[s][s]-a,a<=0)break;t[s][s]=Math.sqrt(a)}else{for(let e=1;e<=o;e+=1){i=t[e][s];for(let n=1;n<e;n+=1)i-=t[n][s]*t[n][e];i/=t[e][e],t[e][s]=i,a+=i*i}if(a=t[s][s]-a,a<=0)break;t[s][s]=Math.sqrt(a)}r[1]=0}}}),K=y((t,e)=>{var n=Y(),r=J(),o=H(),i=Q();e.exports=function(t,e,a,s,u,l,c,h,f,d,p,g,v,m=0,y,b,w){let x,_,k,M,I,z,O,S,E,C,j,P,$,A,N=Math.min(s,p),T=2*s+N*(N+5)/2+2*p+1;for(let n=1;n<=s;n+=1)b[n]=e[n];for(let n=s+1;n<=T;n+=1)b[n]=0;for(let n=1;n<=p;n+=1)v[n]=0,l[n]=0;let V=[];if(0===w[1]){if(i(t,a,s,V),0!==V[1])return void(w[1]=2);o(t,a,s,e),r(t,a,s)}else{for(let n=1;n<=s;n+=1){u[n]=0;for(let r=1;r<=n;r+=1)u[n]+=t[r][n]*e[r]}for(let n=1;n<=s;n+=1){e[n]=0;for(let r=n;r<=s;r+=1)e[n]+=t[n][r]*u[r]}}c[1]=0;for(let n=1;n<=s;n+=1){u[n]=e[n],c[1]+=b[n]*u[n],b[n]=0;for(let e=n+1;e<=s;e+=1)t[e][n]=0}c[1]=-c[1]/2,w[1]=0;let Z=s,B=Z+s,R=B+N,L=R+N+1,F=L+N*(N+1)/2,D=F+p;for(let n=1;n<=p;n+=1){z=0;for(let t=1;t<=s;t+=1)z+=h[t][n]*h[t][n];b[D+n]=Math.sqrt(z)}function U(){y[1]+=1,T=F;for(let t=1;t<=p;t+=1){T+=1,z=-f[t];for(let e=1;e<=s;e+=1)z+=h[e][t]*u[e];if(Math.abs(z)<n&&(z=0),t>g)b[T]=z;else if(b[T]=-Math.abs(z),z>0){for(let e=1;e<=s;e+=1)h[e][t]=-h[e][t];f[t]=-f[t]}}for(let t=1;t<=M;t+=1)b[F+v[t]]=0;k=0,I=0;for(let t=1;t<=p;t+=1)b[F+t]<I*b[D+t]&&(k=t,I=b[F+t]/b[D+t]);if(0===k){for(let t=1;t<=M;t+=1)l[v[t]]=b[R+t];return 999}return 0}function q(){for(let e=1;e<=s;e+=1){z=0;for(let n=1;n<=s;n+=1)z+=t[n][e]*h[n][k];b[e]=z}x=Z;for(let t=1;t<=s;t+=1)b[x+t]=0;for(let e=M+1;e<=s;e+=1)for(let n=1;n<=s;n+=1)b[x+n]=b[x+n]+t[n][e]*b[e];P=!0;for(let t=M;t>=1;t-=1){z=b[t],T=L+t*(t+3)/2,x=T-t;for(let e=t+1;e<=M;e+=1)z-=b[T]*b[B+e],T+=e;z/=b[x],b[B+t]=z,!(v[t]<=g)&&(z<=0||(P=!1,_=t))}if(!P){O=b[R+_]/b[B+_];for(let t=1;t<=M;t+=1)v[t]<=g||b[B+t]<=0||(I=b[R+t]/b[B+t],I<O&&(O=I,_=t))}z=0;for(let t=Z+1;t<=Z+s;t+=1)z+=b[t]*b[t];if(Math.abs(z)<=n){if(P)return w[1]=1,999;for(let t=1;t<=M;t+=1)b[R+t]=b[R+t]-O*b[B+t];return b[R+M+1]=b[R+M+1]+O,700}z=0;for(let t=1;t<=s;t+=1)z+=b[Z+t]*h[t][k];S=-b[F+k]/z,$=!0,P||O<S&&(S=O,$=!1);for(let t=1;t<=s;t+=1)u[t]+=S*b[Z+t],Math.abs(u[t])<n&&(u[t]=0);c[1]+=S*z*(S/2+b[R+M+1]);for(let t=1;t<=M;t+=1)b[R+t]=b[R+t]-S*b[B+t];if(b[R+M+1]=b[R+M+1]+S,!$){z=-f[k];for(let t=1;t<=s;t+=1)z+=u[t]*h[t][k];if(k>g)b[F+k]=z;else if(b[F+k]=-Math.abs(z),z>0){for(let t=1;t<=s;t+=1)h[t][k]=-h[t][k];f[k]=-f[k]}return 700}M+=1,v[M]=k,T=L+(M-1)*M/2+1;for(let t=1;t<=M-1;t+=1)b[T]=b[t],T+=1;if(M===s)b[T]=b[s];else{for(let e=s;e>=M+1;e-=1)if(0!==b[e]&&(E=Math.max(Math.abs(b[e-1]),Math.abs(b[e])),C=Math.min(Math.abs(b[e-1]),Math.abs(b[e])),I=b[e-1]>=0?Math.abs(E*Math.sqrt(1+C*C/(E*E))):-Math.abs(E*Math.sqrt(1+C*C/(E*E))),E=b[e-1]/I,C=b[e]/I,1!==E))if(0===E){b[e-1]=C*I;for(let n=1;n<=s;n+=1)I=t[n][e-1],t[n][e-1]=t[n][e],t[n][e]=I}else{b[e-1]=I,j=C/(1+E);for(let n=1;n<=s;n+=1)I=E*t[n][e-1]+C*t[n][e],t[n][e]=j*(t[n][e-1]+I)-t[n][e],t[n][e-1]=I}b[T]=b[M]}return 0}function W(){if(T=L+_*(_+1)/2+1,x=T+_,0===b[x]||(E=Math.max(Math.abs(b[x-1]),Math.abs(b[x])),C=Math.min(Math.abs(b[x-1]),Math.abs(b[x])),I=b[x-1]>=0?Math.abs(E*Math.sqrt(1+C*C/(E*E))):-Math.abs(E*Math.sqrt(1+C*C/(E*E))),E=b[x-1]/I,C=b[x]/I,1===E))return 798;if(0===E){for(let t=_+1;t<=M;t+=1)I=b[x-1],b[x-1]=b[x],b[x]=I,x+=t;for(let e=1;e<=s;e+=1)I=t[e][_],t[e][_]=t[e][_+1],t[e][_+1]=I}else{j=C/(1+E);for(let t=_+1;t<=M;t+=1)I=E*b[x-1]+C*b[x],b[x]=j*(b[x-1]+I)-b[x],b[x-1]=I,x+=t;for(let e=1;e<=s;e+=1)I=E*t[e][_]+C*t[e][_+1],t[e][_+1]=j*(t[e][_]+I)-t[e][_+1],t[e][_]=I}return 0}function G(){x=T-_;for(let t=1;t<=_;t+=1)b[x]=b[T],T+=1,x+=1;return b[R+_]=b[R+_+1],v[_]=v[_+1],_+=1,_<M?797:0}function X(){return b[R+M]=b[R+M+1],b[R+M+1]=0,v[M]=0,M-=1,y[2]+=1,0}for(M=m,y[1]=0,y[2]=0,A=0;;){if(A=U(),999===A)return;for(;A=q(),0!==A;){if(999===A)return;if(700===A)if(_===M)X();else{for(;W(),A=G(),797===A;);X()}}}}}),tt=y(t=>{var e=K();t.solveQP=function(t,n,r,o=[],i=0,a=[0,0]){let s=[],u=[],l=[],c=[],h=[],f=[],d="",p=t.length-1,g=r[1].length-1;if(!o)for(let e=1;e<=g;e+=1)o[e]=0;if(p!==t[1].length-1&&(d="Dmat is not symmetric!"),p!==n.length-1&&(d="Dmat and dvec are incompatible!"),p!==r.length-1&&(d="Amat and dvec are incompatible!"),g!==o.length-1&&(d="Amat and bvec are incompatible!"),(i>g||i<0)&&(d="Value of meq is invalid!"),""!==d)return{message:d};for(let e=1;e<=g;e+=1)u[e]=0,c[e]=0;let v=Math.min(p,g);for(let e=1;e<=p;e+=1)l[e]=0;s[1]=0;for(let e=1;e<=2*p+v*(v+5)/2+2*g+1;e+=1)h[e]=0;for(let e=1;e<=2;e+=1)f[e]=0;return e(t,n,p,p,l,c,s,r,o,p,g,i,u,0,f,h,a),1===a[1]&&(d="constraints are inconsistent, no solution!"),2===a[1]&&(d="matrix D in quadratic function is not positive definite!"),{solution:l,Lagrangian:c,value:s,unconstrained_solution:n,iterations:f,iact:u,message:d}}}),et=y((t,e)=>{e.exports=tt()});function nt(t){for(let e of t)return e}function rt(t){for(let e of t)return t.delete(e),e}function ot(t,e,n){let r=t.get(e);void 0===r?t.set(e,[n]):r.push(n)}function it(t,e,n){let r=t.get(e);void 0===r?t.set(e,new Set([n])):r.add(n)}function at(t,e,n){let r=t.get(e);void 0!==r&&(r.delete(n),r.size||t.delete(e))}var{toString:st}=Object.prototype;var{propertyIsEnumerable:ut}=Object.prototype;function lt(t,e,n){let r=[];return function t(e,n={},o=""){let i,a=n.indent||"\t";i=void 0===n.inlineCharacterLimit?{newline:"\n",newlineOrSpace:"\n",pad:o,indent:o+a}:{newline:"@@__STRINGIFY_OBJECT_NEW_LINE__@@",newlineOrSpace:"@@__STRINGIFY_OBJECT_NEW_LINE_OR_SPACE__@@",pad:"@@__STRINGIFY_OBJECT_PAD__@@",indent:"@@__STRINGIFY_OBJECT_INDENT__@@"};let s=t=>{if(void 0===n.inlineCharacterLimit)return t;let e=t.replace(new RegExp(i.newline,"g"),"").replace(new RegExp(i.newlineOrSpace,"g")," ").replace(new RegExp(i.pad+"|"+i.indent,"g"),"");return e.length<=n.inlineCharacterLimit?e:t.replace(new RegExp(i.newline+"|"+i.newlineOrSpace,"g"),"\n").replace(new RegExp(i.pad,"g"),o).replace(new RegExp(i.indent,"g"),o+a)};if(r.includes(e))return'"[Circular]"';if(null==e||"number"==typeof e||"boolean"==typeof e||"function"==typeof e||"symbol"==typeof e||function(t){return"[object RegExp]"===st.call(t)}(e))return String(e);if(e instanceof Date)return`new Date('${e.toISOString()}')`;if(Array.isArray(e)){if(0===e.length)return"[]";r.push(e);let u="["+i.newline+e.map((r,s)=>{let u=e.length-1===s?i.newline:","+i.newlineOrSpace,l=t(r,n,o+a);return n.transform&&(l=n.transform(e,s,l)),i.indent+l+u}).join("")+i.pad+"]";return r.pop(),s(u)}if(function(t){let e=typeof t;return null!==t&&("object"===e||"function"===e)}(e)){let u=function(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t).filter(e=>ut.call(t,e))]}(e);if(n.filter&&(u=u.filter(t=>n.filter(e,t))),0===u.length)return"{}";r.push(e);let l="{"+i.newline+u.map((r,s)=>{let l=u.length-1===s?i.newline:","+i.newlineOrSpace,c="symbol"==typeof r,h=!c&&/^[a-z$_][$\w]*$/i.test(r),f=c||h?r:t(r,n),d=t(e[r],n,o+a);return n.transform&&(d=n.transform(e,r,d)),i.indent+String(f)+": "+d+l}).join("")+i.pad+"}";return r.pop(),s(l)}return e=e.replace(/\\/g,"\\\\"),e=String(e).replace(/[\r\n]/g,t=>"\n"===t?"\\n":"\\r"),!1===n.singleQuotes?`"${e=e.replace(/"/g,'\\"')}"`:`'${e=e.replace(/'/g,"\\'")}'`}(t,e,n)}function*ct(t,...e){let n,r=new Set;for(;void 0!==(n=e.pop());)r.has(n)||(yield n,r.add(n),e.push(...t(n)))}function ht(t,e){let n=[];for(let[r,o]of vt(e))n.push(t[r]),n.push(o);return n.push(t[t.length-1]),n.join("")}function ft(t,...e){let n=yt(e,t=>lt(t,{indent:"  ",singleQuotes:!1,inlineCharacterLimit:60}));return new Error(ht(t,n))}function dt(t){return`internal error: ${t}; if you encounter this please submit an issue at: https://github.com/erikbrinkman/d3-dag/issues`}function pt(t,...e){let n=yt(e,t=>t.toString());return new Error(dt(ht(t,n)))}function gt(t,e,...n){let[r,...o]=t,i=ht(o,yt(n,t=>t.toString())),a=e.name||"anonymous";return new Error("d3dagBuiltin"in e?dt(`builtin ${r}'${a}'${i}`):`custom ${r}'${a}'${i}`)}function*vt(t){let e=0;for(let n of t)yield[e++,n]}function*mt(t,e){for(let[n,r]of vt(t))yield*z(e(r,n))}function*yt(t,e){for(let[n,r]of vt(t))yield e(r,n)}function*bt(t,e){for(let[n,r]of vt(t))e(r,n)&&(yield r)}function wt(t,e){for(let[n,r]of vt(t))if(e(r,n))return!0;return!1}function xt(t,e=0,n=t.length,r=1){if(r>0)return function*(t,e,n,r){let o=Math.min(n,t.length);for(let i=e;i<o;i+=r)yield t[i]}(t,e,n,r);if(r<0)return function*(t,e,n,r){let o=Math.max(n,-1);for(let i=e;i>o;i+=r)yield t[i]}(t,e,n,r);throw ft`can't slice with zero stride`}function*_t(...t){for(let e of t)yield*z(e)}function*kt(t){let e=t[Symbol.iterator](),n=e.next();if(!n.done){let t,r=n.value;for(;!(t=e.next()).done;)yield[r,t.value],r=t.value}}function Mt(t){return"object"==typeof t&&null!==t&&Symbol.iterator in t&&"function"==typeof t[Symbol.iterator]}function It(t){let e,n=[],r=new Map;for(let[i,a]of vt(t.nodes()))r.set(a,i),n.push({x:a.ux,y:a.uy,data:a.data}),a===t&&(e=i);let o=[];for(let{source:i,target:a,data:s,points:u}of t.links())o.push({source:r.get(i),target:r.get(a),points:u,data:s});return{nodes:n,links:o,index:e,v:1}}var zt=class{constructor(t,e,n,r="inactive"){this.node=t,this.indeg=e,this.outdeg=n,this.stat=r}bucket(){let t=0===this.indeg?-1/0:0===this.outdeg?1/0:this.indeg-this.outdeg;return"top"===this.stat?Math.min(t,0):"bottom"===this.stat?Math.max(t,0):t}isTop(){return this.indeg<=this.outdeg&&"bottom"!==this.stat||"top"===this.stat}};function Ot(t,e){let n=t[e];if(void 0===n){let n=new Set;return t[e]=n,n}return n}function St(t){var e;let n;for(;t.length&&(null==(e=n=t[t.length-1])||!e.size);)t.pop();return n||void 0}function Et(t,e=()=>{}){let n=new Map,r=new Map,o=new Set,i=new Set,a=[],s=[];function u(t){return t===-1/0?o:t===1/0?i:t<=0?Ot(a,-t):Ot(s,t-1)}for(let b of t){let t=b.nparentLinks(),o=b.nchildLinks(),i=new zt(b,t,o),a=e(b);n.set(b,i),void 0===a?(i.stat="active",u(i.bucket()).add(i)):it(r,a,i)}let l=[...r].sort(([t],[e])=>t-e).map(([,t])=>t),c=0,h=l.length,f=l.length?l[c++]:new Set,d=l.length>1?l[--h]:new Set;for(let b of f)b.stat="top",u(b.bucket()).add(b);for(let b of d)b.stat="bottom",u(b.bucket()).add(b);function p(){var t;let e;if(e=null!=(t=rt(o))?t:rt(i))return e;let n=St(a),r=St(s);return r?rt(a.length>s.length?n:r):n?rt(n):void 0}let g,v=Array(n.size),m=0,y=n.size;for(;g=p();){let{node:t}=g,e=g.isTop()?m++:--y;g.stat="ranked",v[e]=t;for(let[r,o]of t.parentCounts()){let t=n.get(r);u(t.bucket()).delete(t),t.outdeg-=o,"ranked"!==t.stat&&"inactive"!==t.stat&&u(t.bucket()).add(t)}for(let[r,o]of t.childCounts()){let t=n.get(r);u(t.bucket()).delete(t),t.indeg-=o,"ranked"!==t.stat&&"inactive"!==t.stat&&u(t.bucket()).add(t)}if(f.delete(g),!f.size&&c<h){f=l[c++];for(let t of f)t.stat="top",u(t.bucket()).add(t)}if(d.delete(g),!d.size&&c<h){d=l[--h];for(let t of d)t.stat="bottom",u(t.bucket()).add(t)}}return v}function Ct(t,e){let n,r=new Set,o=new Set,i=[];for(let a of t)if(!o.has(a)){for(i.push(a);n=i.pop();)r.delete(n),!o.has(n)&&(o.add(n),i.push(...e(n)));r.add(a)}return r}var jt,Pt,$t,At,Nt,Tt,Vt,Zt,Bt,Rt=class{constructor(){_(this,jt,0),_(this,Pt,0),_(this,$t,0),_(this,At,!0),_(this,Nt,new Set),_(this,Tt,new Set),_(this,Vt,()=>{k(this,jt,x(this,jt)-1)}),_(this,Zt,(t,e)=>{k(this,Pt,x(this,Pt)+1),t?k(this,$t,x(this,$t)+1):!e&&!0===x(this,At)&&k(this,At,null)}),_(this,Bt,t=>{k(this,Pt,x(this,Pt)-1),t?k(this,$t,x(this,$t)-1):!1===x(this,At)&&k(this,At,null)})}*nodes(){for(let t of this.split())yield*z(t.nodes())}topological(t){return Et(this.nodes(),t)}*links(){for(let t of this.nodes())yield*z(t.childLinks())}nnodes(){return x(this,jt)}nlinks(){return x(this,Pt)}*roots(){for(let t of this.split())yield*z(t.roots())}*leaves(){for(let t of this.split())yield*z(t.leaves())}*split(){let t;for(yield*z(x(this,Nt));t=nt(x(this,Tt));)yield t,t.nnodes()}connected(){let t=!1;for(let e of this.split()){if(t)return!1;t=!0}return!0}multi(){return!!x(this,$t)}acyclic(){if(null===x(this,At)){for(let t of this.split())if(!t.acyclic())return k(this,At,!1),!1;return k(this,At,!0),!0}return x(this,At)}node(t){return k(this,jt,x(this,jt)+1),new se(this,x(this,Nt),x(this,Tt),x(this,Vt),x(this,Zt),x(this,Bt),t)}link(t,e,n){return t.link(t,e,n)}toJSON(){return It(this)}};function Lt(t){for(let e of t.values())for(let t of e)return t}function Ft(t){return t instanceof se}jt=new WeakMap,Pt=new WeakMap,$t=new WeakMap,At=new WeakMap,Nt=new WeakMap,Tt=new WeakMap,Vt=new WeakMap,Zt=new WeakMap,Bt=new WeakMap;var Dt,Ut,qt,Wt,Gt,Xt,Yt,Jt,Ht,Qt,Kt,te,ee,ne,re,oe,ie,ae,se=class{constructor(t,e,n,r,o,i,a){this.data=a,_(this,ne),_(this,oe),_(this,Dt,void 0),_(this,Ut,void 0),_(this,qt,void 0),_(this,Wt,void 0),_(this,Gt,void 0),_(this,Xt,void 0),_(this,Yt,0),_(this,Jt,0),_(this,Ht,new Map),_(this,Qt,0),_(this,Kt,new Map),_(this,te,void 0),_(this,ee,void 0),_(this,ae,t=>{var e,n;let{source:r,target:o}=t,i=r.nchildLinksTo(o)>1;if(i){k(r,Yt,x(r,Yt)-1);let t=M(e=r,oe,ie).call(e);t.nlinks-=1,t.multis-=1}else{let t=M(n=r,ne,re).call(n);k(t,ee,null),x(this,Gt).delete(t),x(this,Xt).add(r),k(r,te,r),k(r,ee,null),x(this,Xt).add(o),k(o,te,o),k(o,ee,null)}x(this,Wt).call(this,i),at(x(r,Kt),o,t),k(r,Qt,x(r,Qt)-1),at(x(o,Ht),r,t),k(o,Jt,x(o,Jt)-1)}),k(this,Dt,t),k(this,Gt,e),k(this,Xt,n),k(this,Ut,r),k(this,qt,o),k(this,Wt,i),k(this,te,this),k(this,ee,{nnodes:1,nlinks:0,multis:0,acyclic:!0,roots:[this],leaves:[this]}),x(this,Gt).add(this)}get x(){if(void 0===this.ux)throw ft`can't get \`x\` when \`ux\` is undefined`;return this.ux}set x(t){this.ux=t}get y(){if(void 0===this.uy)throw ft`can't get \`y\` when \`uy\` is undefined`;return this.uy}set y(t){this.uy=t}*nodes(){yield*z(ct(t=>_t(t.children(),t.parents()),this))}topological(t){return Et(this.nodes(),t)}*links(){for(let t of this.nodes())yield*z(t.childLinks())}nnodes(){return M(this,oe,ie).call(this).nnodes}nlinks(){return M(this,oe,ie).call(this).nlinks}*split(){yield this}connected(){return!0}multi(){return M(this,oe,ie).call(this).multis>0}acyclic(){let t=M(this,oe,ie).call(this);return null===t.acyclic?t.acyclic=function(t){let e,n=new Map(yt(t,t=>[t,t.nparents()])),r=[...yt(bt(n,([,t])=>0===t),([t])=>t)];for(let o of r)n.delete(o);for(;e=r.pop();)for(let t of e.children()){let e=n.get(t)-1;e?n.set(t,e):(n.delete(t),r.push(t))}return!n.size}(this.nodes()):t.acyclic}node(t){if(x(this,Dt))return x(this,Dt).node(t);throw ft`can't add a node from a deleted node`}link(t,e,n){var r,o;if(x(this,Dt)){if(t===e)throw ft`tried to create a link between the same node, but self loops are not supported`;if(Ft(t)&&Ft(e)&&x(t,Dt)===x(e,Dt)&&x(this,Dt)===x(t,Dt)){let i=new ce(x(this,Dt),t,e,x(this,ae),n),a=t.nchildLinksTo(e)>0,s=M(r=t,ne,re).call(r),u=x(s,ee),l=M(o=e,ne,re).call(o),c=x(l,ee);if(a&&u)k(t,Yt,x(t,Yt)+1),u.nlinks+=1,u.multis+=1;else if(a)k(t,Yt,x(t,Yt)+1);else if(s===l&&u)u.nlinks+=1,!0===u.acyclic&&(u.acyclic=null);else if(s!==l&&u&&c){let[t,e,n,r]=u.nnodes>c.nnodes?[s,u,l,c]:[l,c,s,u];x(this,Gt).delete(n),k(n,te,t),k(n,ee,void 0),e.nnodes+=r.nnodes,e.nlinks+=r.nlinks+1,e.multis+=r.multis,e.acyclic=!1!==e.acyclic&&!1!==r.acyclic&&(!0===e.acyclic&&!0===r.acyclic||null),e.roots=null,e.leaves=null}else s!==l&&(k(s,ee,null),k(l,ee,null));return x(this,qt).call(this,a,s!==l),k(t,Qt,x(t,Qt)+1),it(x(t,Kt),e,i),k(e,Jt,x(e,Jt)+1),it(x(e,Ht),t,i),i}throw ft`when creating a link, both source and target must be current members of the same graph, and can't have been deleted`}throw ft`can't add a link from a deleted node`}nparents(){return x(this,Ht).size}nchildren(){return x(this,Kt).size}nparentLinks(){return x(this,Jt)}nchildLinks(){return x(this,Qt)}nparentLinksTo(t){var e,n;return Ft(t)&&null!=(n=null==(e=x(this,Ht).get(t))?void 0:e.size)?n:0}*parentLinksTo(t){if(Ft(t)){let e=x(this,Ht).get(t);e&&(yield*z(e))}}nchildLinksTo(t){var e,n;return Ft(t)&&null!=(n=null==(e=x(this,Kt).get(t))?void 0:e.size)?n:0}*childLinksTo(t){if(Ft(t)){let e=x(this,Kt).get(t);e&&(yield*z(e))}}*parents(){yield*z(x(this,Ht).keys())}*children(){yield*z(x(this,Kt).keys())}*parentCounts(){for(let[t,e]of x(this,Ht))yield[t,e.size]}*childCounts(){for(let[t,e]of x(this,Kt))yield[t,e.size]}*parentLinks(){for(let t of x(this,Ht).values())yield*z(t)}*childLinks(){for(let t of x(this,Kt).values())yield*z(t)}*ancestors(){yield*z(ct(t=>t.parents(),this))}*descendants(){yield*z(ct(t=>t.children(),this))}*roots(){let t=M(this,oe,ie).call(this);t.roots||(t.roots=[...Ct(this.nodes(),t=>t.children())]),yield*z(t.roots)}*leaves(){let t=M(this,oe,ie).call(this);t.leaves||(t.leaves=[...Ct(this.nodes(),t=>t.parents())]),yield*z(t.leaves)}parent(t,e){return this.link(t,this,e)}child(t,e){return this.link(this,t,e)}delete(){if(x(this,Dt)){let t;for(;t=Lt(x(this,Kt));)t.delete();for(;t=Lt(x(this,Ht));)t.delete();x(this,Gt).delete(this),x(this,Xt).delete(this),x(this,Ut).call(this),k(this,Dt,null),k(this,ee,null)}}toJSON(){return It(this)}};Dt=new WeakMap,Ut=new WeakMap,qt=new WeakMap,Wt=new WeakMap,Gt=new WeakMap,Xt=new WeakMap,Yt=new WeakMap,Jt=new WeakMap,Ht=new WeakMap,Qt=new WeakMap,Kt=new WeakMap,te=new WeakMap,ee=new WeakMap,ne=new WeakSet,re=function(){let t=this;for(;x(t,te)!==t;)k(t,te,x(x(t,te),te)),t=x(t,te);return t},oe=new WeakSet,ie=function(){let t=M(this,ne,re).call(this);if(void 0===x(t,ee))throw pt`undefined cached info`;if(null!==x(t,ee))return x(t,ee);{let t=0,e=0,n=0;for(let r of this.nodes())t+=1,e+=r.nchildLinks(),n+=x(r,Yt),k(r,te,this),k(r,ee,void 0),x(this,Xt).delete(r);return x(this,Gt).add(this),k(this,ee,{nnodes:t,nlinks:e,multis:n,acyclic:null,roots:null,leaves:null})}},ae=new WeakMap;var ue,le,ce=class{constructor(t,e,n,r,o){this.source=e,this.target=n,this.data=o,_(this,ue,void 0),_(this,le,void 0),this.points=[],k(this,ue,t),k(this,le,r)}delete(){x(this,ue)&&(x(this,le).call(this,this),k(this,ue,null))}};function he(){return new Rt}function fe(t){if("string"!=typeof t)throw ft`id is supposed to be type string but got type ${typeof t}`;return t}function de(t){function e(e){let n=he(),r=new Map;for(let[o,i]of e.entries()){let e=fe(t.sourceId(i,o)),a=r.get(e);void 0===a&&(a=n.node(t.nodeDatum(e,o)),r.set(e,a));let s=fe(t.targetId(i,o)),u=r.get(s);void 0===u&&(u=n.node(t.nodeDatum(s,o)),r.set(s,u)),(e!==s||!t.single)&&n.link(a,u,i)}return n}return e.sourceId=function(e){if(void 0===e)return t.sourceId;{let n=t,{sourceId:r}=n,o=m(n,["sourceId"]);return de(v(g({},o),{sourceId:e}))}},e.targetId=function(e){if(void 0===e)return t.targetId;{let n=t,{targetId:r}=n,o=m(n,["targetId"]);return de(v(g({},o),{targetId:e}))}},e.nodeDatum=function(e){if(void 0===e)return t.nodeDatum;{let n=t,{nodeDatum:r}=n,o=m(n,["nodeDatum"]);return de(v(g({},o),{nodeDatum:e}))}},e.single=function(e){return void 0===e?t.single:de(v(g({},t),{single:e}))},e}function pe(t){if("object"!=typeof t||null===t||!(0 in t))throw ft`default source id expected datum[0] to exist but got datum: ${t}; you should check the data you're passing to \`graphConnect()\` to make sure it looks like \`[[source_id, target_id], ...]\` or set a custom accessor with \`graphConnect().source(d => ...).target(d => ...)\``;let e=t[0];if("string"==typeof e)return e;throw ft`default source id expected datum[0] to be a string but got datum: ${t}; you should check the data you're passing to \`graphConnect()\` to make sure it looks like \`[[source_id, target_id], ...]\` or set a custom accessor with \`graphConnect().source(d => ...).target(d => ...)\``}function ge(t){if("object"!=typeof t||null===t||!(1 in t))throw ft`default target id expected datum[1] to exist but got datum: ${t}; you should check the data you're passing to \`graphConnect()\` to make sure it looks like \`[[source_id, target_id], ...]\` or set a custom accessor with \`graphConnect().source(d => ...).target(d => ...)\``;let e=t[1];if("string"==typeof e)return e;throw ft`default target id expected datum[1] to be a string but got datum: ${t}; you should check the data you're passing to \`graphConnect()\` to make sure it looks like \`[[source_id, target_id], ...]\` or set a custom accessor with \`graphConnect().source(d => ...).target(d => ...)\``}function ve(t){return t}function me(...t){if(t.length)throw ft`got arguments to graphConnect(${t}), but constructor takes no arguments; these were probably meant as data which should be called as \`graphConnect()(...)\``;return de({sourceId:pe,targetId:ge,nodeDatum:ve,single:!1})}function ye(t){function e(e){var r;let o=he(),i=new Map,a=[];for(let[s,u]of e.entries()){let e=fe(t.id(u,s)),l=o.node(u),c=null!=(r=t.parentData(u,s))?r:[];for(let[t,n]of c)a.push([t,l,n]);if(i.has(e))throw ft`found a duplicate id: ${n}, but ids passed to \`graphStratify()\` must be unique`;i.set(e,l)}for(let[t,n,s]of a){let e=i.get(t);if(!e)throw ft`missing id: ${t}; this id was references in a node's parentIds, but no node with that id exists`;o.link(e,n,s)}return o}function n(e){if(void 0===e)return t.id;{let n=t,{id:r}=n,o=m(n,["id"]);return ye(v(g({},o),{id:e}))}}return e.id=n,e.parentData=function(e){if(void 0===e)return t.parentData;{let n=t,{parentIds:r,parentData:o}=n,i=m(n,["parentIds","parentData"]);return ye(v(g({},i),{parentIds:we(e),parentData:e}))}},e.parentIds=function(e){if(void 0===e)return t.parentIds;{let n=t,{parentIds:r,parentData:o}=n,i=m(n,["parentIds","parentData"]);return ye(v(g({},i),{parentIds:e,parentData:be(e)}))}},e}function be(t){function e(e,n){var r;return yt(null!=(r=t(e,n))?r:[],t=>[t,void 0])}return e.wrapped=t,e}function we(t){function e(e,n){var r;return yt(null!=(r=t(e,n))?r:[],([t])=>t)}return e.wrapped=t,e}function xe(t){if("object"!=typeof t||null===t||!("id"in t))throw ft`datum did not have an id field, and no id accessor was specified; try calling \`graphStratify().id(d => d...)\` to set a custom id accessor`;let{id:e}=t;if("string"==typeof e)return e;throw ft`datum has an id field that was not a string, and no id accessor was specified; try calling \`graphStratify().id(d => d...)\` to set a custom id accessor`}function _e(t){if("object"!=typeof t||null===t)throw ft`default parentIds function expected datum to be an object but got: ${t}; try setting a custom accessor for parentIds with \`graphStratify().parentIds(d => ...)\``;if(!("parentIds"in t))return;let{parentIds:e}=t;if(void 0===e||Mt(e)&&function(t,e){return!wt(t,(t,n)=>!e(t,n))}(e,t=>"string"==typeof t))return e;throw ft`default parentIds function expected parentIds to be an iterable of strings but got: ${e}; try setting a custom accessor for parentIds with \`graphStratify().parentIds(d => ...)\``}function ke(...t){if(t.length)throw ft`got arguments to graphStratify(${t}), but constructor takes no arguments; these were probably meant as data which should be called as \`graphStratify()(...)\``;return ye({id:xe,parentIds:_e,parentData:be(_e)})}function Me(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ie(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function ze(t,e){let n;if(void 0===e)for(let r of t)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}function Oe(t,e){let n;if(void 0===e)for(let r of t)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(n>o||void 0===n&&o>=o)&&(n=o)}return n}function Se(t,e,n=0,r=1/0,o){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(o=void 0===o?Ie:function(t=Me){if(t===Me)return Ie;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,n)=>{let r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}(o);r>n;){if(r-n>600){let i=r-n+1,a=e-n+1,s=Math.log(i),u=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*u*(i-u)/i)*(a-i/2<0?-1:1);Se(t,e,Math.max(n,Math.floor(e-a*u/i+l)),Math.min(r,Math.floor(e+(i-a)*u/i+l)),o)}let i=t[e],a=n,s=r;for(Ee(t,n,e),o(t[r],i)>0&&Ee(t,n,r);a<s;){for(Ee(t,a,s),++a,--s;o(t[a],i)<0;)++a;for(;o(t[s],i)>0;)--s}0===o(t[n],i)?Ee(t,n,s):(++s,Ee(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Ee(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function Ce(t,e){return function(t,e,n){if(t=Float64Array.from(function*(t,e){if(void 0===e)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n)),(r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return Oe(t);if(e>=1)return ze(t);var r,o=(r-1)*e,i=Math.floor(o),a=ze(Se(t,i).subarray(0,i+1));return a+(Oe(t.subarray(i+1))-a)*(o-i)}}(t,.5,e)}function je(t,e=Me){let n,r=!1;if(1===e.length){let o;for(let i of t){let t=e(i);(r?Me(t,o)<0:0===Me(t,t))&&(n=i,o=t,r=!0)}}else for(let o of t)(r?e(o,n)<0:0===e(o,o))&&(n=o,r=!0);return n}function Pe(t){return new Set(bt(_t(t.children(),t.parents()),e=>e.y>t.y))}ue=new WeakMap,le=new WeakMap;var $e=class{constructor(t){this.uncompressed=t,this.indices=[]}getIndex(t,e){var n;let r=[];for(let[a,s]of this.indices.entries())s<=t&&r.push(a);this.uncompressed&&r.push(this.indices.length);let o=void 0===e?0:e,i=null!=(n=je(r,t=>[Math.abs(o-t),t]))?n:this.indices.length;return this.setIndex(i,t),i}setIndex(t,e){this.indices[t]=e}offset(){return 0}},Ae=class{constructor(t){this.uncompressed=t,this.posIndices=[0],this.negIndices=[]}nextNeg(){return-this.negIndices.length-1}nextPos(){return this.posIndices.length}getIndex(t,e){var n;let r=[];for(let[s,u]of this.negIndices.entries())u<=t&&r.push(-s-1);for(let[s,u]of this.posIndices.entries())u<=t&&r.push(s);this.uncompressed&&(r.push(this.nextNeg()),r.push(this.nextPos()));let o=void 0===e?0:e,i=this.negIndices.length<this.posIndices.length-1?this.nextNeg():this.nextPos(),a=null!=(n=je(r,t=>[Math.abs(o-t),Math.abs(t),-t]))?n:i;return this.setIndex(a,t),a}setIndex(t,e){t<0?this.negIndices[-t-1]=e:this.posIndices[t]=e}offset(){return this.negIndices.length}};function Ne(t,e,n){function r(r){for(let t of r)t.ux=void 0;let o=function(t,e){return e?new Ae(!t):new $e(!t)}(e,n);t?function(t,e){for(let r of t){void 0===r.ux&&(r.x=e.getIndex(r.y));for(let t of[...Pe(r)].sort((t,e)=>e.y-t.y))void 0===t.ux&&(t.x=e.getIndex(r.y,r.x),e.setIndex(t.x,t.y))}let n=e.offset();for(let r of t)r.x+=n}(r,o):function(t,e){let n=new Map;for(let o of t)for(let t of Pe(o)){let e=n.get(t);(void 0===e||o.y<e.y)&&n.set(t,o)}for(let o of xt(t,t.length-1,-1,-1)){if(void 0===o.ux){let n=Ce(yt(Pe(o),t=>t.x));o.x=e.getIndex(t.length-o.y,n)}let r=n.get(o);void 0!==r&&(void 0===r.ux&&(r.x=o.x),e.setIndex(o.x,t.length-r.y))}let r=e.offset();for(let o of t)o.x+=r}(r,o)}return r.topDown=function(r){return void 0===r?t:Ne(r,e,n)},r.compressed=function(r){return void 0===r?e:Ne(t,r,n)},r.bidirectional=function(r){return void 0===r?n:Ne(t,e,r)},r.d3dagBuiltin=!0,r}function Te(...t){if(t.length)throw ft`got arguments to laneGreedy(${t}); you probably forgot to construct laneGreedy before passing to lane: \`grid().lane(laneGreedy())\``;return Ne(!0,!0,!1)}function Ve(t,e){function n(n){let r;if(n.nnodes()){let o=n.topological(t.rank);for(let[t,e]of o.entries())e.y=t;t.lane(o);let i,a,s=function(t,e){for(let o of t){if(void 0===o.ux)throw gt`lane ${e} didn't assign an x to every node`;if(o.x<0)throw gt`lane ${e} assigned an x less than 0: ${o.x}`}let n=new Set(t.map(t=>t.x));if(!function(t,e){if(e.size!==t.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0}(n,new Set(yt(n,(t,e)=>e))))throw gt`lane ${e} didn't assign increasing positive integers for x coordinates: ${[...n].sort((t,e)=>t-e).join(", ")}`;let r=new Map;for(let[o,i]of t.entries()){let n=r.get(i);if(void 0!==n)for(let r of xt(t,n+1,o))if(r.x===i.x)throw gt`lane ${e} assigned nodes to an overlapping lane: ${i.x}`;for(let t of i.children())r.has(t)||r.set(t,o)}return n.size}(o,t.lane),{xgap:u,ygap:l}=e;if("function"==typeof t.nodeSize){let e=Array(s).fill(0);a=-l;for(let n of o){let[r,o]=t.nodeSize(n);if(r<=0||o<=0)throw ft`nodeSize must be positive, but got: [${r}, ${o}]`;e[n.x]=Math.max(e[n.x],r),a+=l,n.y=a+o/2,a+=o}i=-u;for(let[t,n]of e.entries())i+=u,e[t]=i+n/2,i+=n;for(let t of o)t.x=e[t.x]}else{let[e,n]=t.nodeSize;for(let t of o)t.x=(t.x+.5)*e+t.x*u,t.y=(t.y+.5)*n+t.y*l;i=s*(e+u)-u,a=o.length*(n+l)-l}for(let t of n.links()){let{source:e,target:n,points:r}=t;r.splice(0),e.x===n.x?r.push([e.x,e.y],[n.x,n.y]):(r.push([e.x,e.y]),e.y<n.y?r.push([n.x,e.y]):r.push([e.x,n.y]),r.push([n.x,n.y]))}r={width:i,height:a}}else r={width:0,height:0};for(let e of t.tweaks)r=e(n,r);return r}return n.lane=function(n){if(void 0===n)return t.lane;{let r=t,{lane:o}=r,i=m(r,["lane"]);return Ve(v(g({},i),{lane:n}),e)}},n.rank=function(n){if(void 0===n)return t.rank;{let r=t,{rank:o}=r,i=m(r,["rank"]);return Ve(v(g({},i),{rank:n}),e)}},n.tweaks=function(n){if(void 0===n)return t.tweaks;{let r=t,{tweaks:o}=r,i=m(r,["tweaks"]);return Ve(v(g({},i),{tweaks:n}),e)}},n.nodeSize=function(n){if(void 0===n)return t.nodeSize;if("function"!=typeof n&&(n[0]<=0||n[1]<=0)){let[t,e]=n;throw ft`constant nodeSize must be positive, but got: [${t}, ${e}]`}{let r=t,{nodeSize:o}=r,i=m(r,["nodeSize"]);return Ve(v(g({},i),{nodeSize:n}),e)}},n.gap=function(n){if(void 0!==n){let[e,r]=n;if(e<0||r<0)throw ft`gaps must be non-negative, but got [${e}, ${r}]`;return Ve(t,{xgap:e,ygap:r})}{let{xgap:t,ygap:n}=e;return[t,n]}},n}function Ze(...t){if(t.length)throw ft`got arguments to grid(${t}), but constructor takes no arguments; these were probably meant as data which should be called as \`grid()(...)\``;return Ve({lane:Te(),rank:()=>{},nodeSize:[1,1],tweaks:[]},{xgap:1,ygap:1})}var Be=b(X());function Re(t,e,n,r,o={}){let i=Be.Solve.call({},{optimize:t,opType:e,constraints:r,variables:n,ints:o}),{feasible:a}=i,s=m(i,["feasible"]);if(!a)throw pt`could not find a feasible simplex solution`;return s}var Le=b(et());function Fe(t){let e=[...t];if(e.sort((t,e)=>t-e),0!==e.length){if(2===e.length)return(e[0]+e[1])/2;if(e.length%2==0){let t=e.length/2,n=e[0],r=e[t-1],o=e[t],i=r-n,a=e[e.length-1]-o;return(r*a+o*i)/(i+a)}return e[(e.length-1)/2]}}function De({aggregate:t}){function e(e,n,r){let[o,i]=r?[n,e]:[e,n],a=r?t=>t.parents():t=>t.children(),s=new Map(i.map((t,e)=>[t,e])),u=new Map(o.map(e=>{let n=s.get(e);return[e,null!=n?n:t(yt(a(e),t=>s.get(t)))]}));!function(t,e){let n=new Map;for(let l of t){let t=e.get(l);void 0!==t&&ot(n,t,l)}let r=[...n.entries()].sort(([t],[e])=>t-e).flatMap(([,t])=>t),o=new Map(t.map((t,e)=>[t,e])),i=t.filter(t=>void 0===e.get(t)),a=new Array(i.length).fill(null);(function t(e,n,s,u){if(n<=e)return;let l=Math.floor((e+n)/2),c=i[l],h=o.get(c),f=0,d=[f];for(let i=s;i<u;++i)f+=o.get(r[i])<h?-1:1,d.push(f);let p=s+d.indexOf(Math.min(...d));a[l]=p,t(e,l,s,p),t(l+1,n,p,u)})(0,i.length,0,r.length),a.push(r.length+1);let s=0,u=0;for(let[l,c]of r.entries()){for(;a[u]==l;)t[s++]=i[u++];t[s++]=c}for(;a[u]==r.length;)t[s++]=i[u++]}(o,u)}return e.aggregator=function(e){return void 0===e?t:De({aggregate:e})},e.d3dagBuiltin=!0,e}function Ue(...t){if(t.length)throw ft`got arguments to twolayerAgg(${t}); you probably forgot to construct twolayerAgg before passing to order: \`decrossTwoLayer().order(twolayerAgg())\`, note the trailing "()"`;return De({aggregate:Fe})}function qe(t,e,n,r,o=0){e.pop(),t.pop(),t.forEach(t=>t.pop()),n.forEach(t=>t.pop());let i=function(t,e,n,r,o){if(!e.length)return[];let i=[[0]],a=[0],s=[[0]],u=[0];for(let h of t){let t=[0];t.push(...h),i.push(t)}a.push(...e),s.push(...e.map(()=>[0]));for(let h of n)for(let[t,e]of h.entries())s[t+1].push(-e);u.push(...r.map(t=>-t));let{solution:l,message:c}=(0,Le.solveQP)(i,a,s,u,o);if(c.length)throw pt`quadratic program failed: ${c}`;return l.shift(),l}(t,e,n,r,o);return i.push(0),i}function We(t,e,n,r=0){let o=1+Math.max(...e.values()),i=Array(o).fill(null).map((t,e)=>Array(o).fill(null).map((t,n)=>e===n?r:0)),a=Array(o).fill(0),s=[],u=[];for(let l of t)for(let[t,r]of kt(l)){let i=e.get(t),a=e.get(r),l=Array(o).fill(0);l[i]=1,l[a]=-1,s.push(l),u.push(-n(t,r))}return[i,a,s,u]}function Ge(t,e,n,r){t[n][n]+=r,t[n][e]-=r,t[e][n]-=r,t[e][e]+=r}function Xe(t,e,n,r,o,i){let a=o+i;t[r][r]+=i*i,t[r][n]-=i*a,t[r][e]+=i*o,t[n][r]-=a*i,t[n][n]+=a*a,t[n][e]-=a*o,t[e][r]+=o*i,t[e][n]-=o*a,t[e][e]+=o*o}function Ye(t,e,n,r){for(let[a,s]of n)a.x=r[s];let o=1/0,i=-1/0;for(let a of t){let t=a[0],n=a[a.length-1];o=Math.min(o,t.x-e(void 0,t)),i=Math.max(i,n.x+e(n,void 0))}for(let a of n.keys())a.x-=o;return i-o}function Je(t){return function(t){let e=0,n=0;for(let r of t)n++,e+=(r-e)/n;return n?e:void 0}(mt(t,t=>yt(t.children(),e=>e.y-t.y)))}function He([t,e,n]){if(t<=0||e<=0||n<=0)throw ft`simplex weights must be positive, but got: ${t}, ${e}, ${n}`}function Qe(t){function e(e,n){var r;let o={},i={},a=function(t,e){if("function"!=typeof e){let[t,n,r]=e;return(e,o)=>{switch(+("node"===e.data.role)+ +("node"===o.data.role)){case 0:return r;case 1:return n;case 2:return t;default:throw pt`invalid count`}}}{let n=new Map;for(let r of mt(t,t=>t))if("node"===r.data.role){let t=r.data.node,o=new Map;for(let n of t.childLinks()){let{target:t}=n,r=e(n);He(r),o.set(t,r)}n.set(t,o)}return(t,e)=>{if("link"===t.data.role){let{source:r,target:o}=t.data.link,[,i,a]=n.get(r).get(o);return"link"===e.data.role?a:i}if("link"===e.data.role){let{source:t,target:r}=e.data.link,[,o]=n.get(t).get(r);return o}{let[r]=n.get(t.data.node).get(e.data.node);return r}}}}(e,t.weight),s=new Map,u=0;for(let t of e)for(let e of t)if(!s.has(e)){let t=""+u++;s.set(e,t),o[t]={}}function l(t){return s.get(t)}for(let t of e)for(let[e,r]of kt(t)){let t=l(e),a=l(r),s=`layer ${t} -> ${a}`,u=n(e,r);i[s]={min:u},o[t][s]=-1,o[a][s]=1}let c=Je(s.keys());for(let t of s.keys()){let e=l(t);for(let n of t.children()){let r=l(n),s=`link ${e} -> ${r}`,u=`${s} parent`;i[u]={min:0};let h=`${s} child`;i[h]={min:0},o[e][u]=1,o[e][h]=-1,o[r][u]=-1,o[r][h]=1;let f=a(t,n),d=(n.y-t.y)/c;o[s]={opt:f/d,[u]:1,[h]:1}}}let h=Re("opt","min",o,i);for(let[t,g]of s)t.x=null!=(r=h[g])?r:0;let f=0,d=0;for(let t of e){let e=t[0];f=Math.min(f,e.x-n(void 0,e));let r=t[t.length-1];d=Math.max(d,r.x+n(r,void 0))}for(let t of s.keys())t.x-=f;let p=d-f;if(p<=0)throw ft`must assign nonzero width to at least one node; double check the callback passed to \`sugiyama().nodeSize(...)\``;return p}return e.weight=function(e){if(void 0===e)return t.weight;{"function"!=typeof e&&He(e);let n=t,{weight:r}=n,o=m(n,["weight"]);return Qe(v(g({},o),{weight:e}))}},e.d3dagBuiltin=!0,e}function Ke(...t){if(t.length)throw ft`got arguments to coordSimplex(${t}); you probably forgot to construct coordSimplex before passing to coord: \`sugiyama().coord(coordSimplex())\`, note the trailing "()"`;return Qe({weight:[1,2,8]})}function tn(t,e){let n=new Map,r=new Map(t.map((t,e)=>[t,e]));return function(t,o){var i;let a=null==(i=n.get(t))?void 0:i.get(o);if(void 0!==a)return a;if(r.has(t)||r.has(o))return-1/0;{let i=0;for(let[n,u]of e(t)){let t=r.get(n);for(let[n,a]of e(o)){let e=r.get(n);i+=Math.sign(t-e)*u*a}}let a=n.get(t);void 0===a?n.set(t,new Map([[o,i]])):a.set(o,i);let s=n.get(o);return void 0===s?n.set(o,new Map([[t,-i]])):s.set(t,-i),i}}}function en({baseOp:t,doScan:e}){function n(n,r,o){t(n,r,o);let i=o?r:n,a=o?tn(n,t=>t.parentCounts()):tn(r,t=>t.childCounts());e?function(t,e){let n=Array(t.length*(t.length-1)/2);for(;;){let r=0;for(let l=1;l<t.length;++l){let o=0,i=r;for(let r=l-1;r>=0;--r)n[i]=o,o+=e(t[r],t[l]),i-=t.length-r-1;r+=t.length-l}let o=0,i=0,a=0,s=0;for(let l=0;l<t.length-1;++l){let r=0;for(let u=l+1;u<t.length;++u){r+=e(t[l],t[u]);let c=n[o++]+r;c>i&&(i=c,a=l,s=u)}}if(0===i)break;let u=t[s];t[s]=t[a],t[a]=u}}(i,a):function(t,e){let n,r=[[0,t.length]];for(;n=r.pop();){let[o,i]=n;if(o>=i)continue;let a=0,s=i;for(let n=o;n<i-1;++n){let r=e(t[n],t[n+1]);r>a&&(a=r,s=n)}if(s!==i){let e=t[s+1];t[s+1]=t[s],t[s]=e,r.push([o,s],[s+2,i])}}}(i,a)}return n.base=function(n){return void 0===n?t:en({baseOp:n,doScan:e})},n.scan=function(n){return void 0===n?e:en({baseOp:t,doScan:n})},n.d3dagBuiltin=!0,n}function nn(...t){if(t.length)throw ft`got arguments to twolayerGreedy(${t}); you probably forgot to construct twolayerGreedy before passing to order: \`decrossTwoLayer().order(twolayerGreedy())\`, note the trailing "()"`;return en({baseOp:()=>{},doScan:!1})}function rn(t){let e=0;for(let[n,r]of kt(t)){let t=new Map(r.map((t,e)=>[t,e]));for(let[r,o]of n.entries())for(let i of n.slice(r+1))for(let[n,r]of o.childCounts())for(let[o,a]of i.childCounts())n!==o&&t.get(n)>t.get(o)&&(e+=r*a)}return e}function on(t){function e(e){let n;n=t.topDown?ct(t=>[...t.children()].sort((t,e)=>e.nchildren()-t.nchildren()),...mt(e,t=>[...bt(t,t=>!t.nparents())].sort((t,e)=>e.nchildren()-t.nchildren()))):ct(t=>[...t.parents()].sort((t,e)=>e.nparents()-t.nparents()),...mt(xt(e,e.length-1,-1,-1),t=>[...bt(t,t=>!t.nchildren())].sort((t,e)=>e.nparents()-t.nparents())));for(let t of e)t.splice(0);for(let t of n){let{data:n}=t;if("node"===n.role)for(let r=n.topLayer;r<=n.bottomLayer;++r)e[r].push(t);else e[n.layer].push(t)}}return e.topDown=function(e){return void 0===e?t.topDown:on({topDown:e})},e.d3dagBuiltin=!0,e}function an(...t){if(t.length)throw ft`got arguments to decrossDfs(${t}); you probably forgot to construct decrossDfs before passing to decross: \`sugiyama().decross(decrossDfs())\`, note the trailing "()"`;return on({topDown:!0})}function sn(t){function e(e){let n=e.slice().reverse(),r=e.map(t=>t.slice()),o=rn(r),i=t.inits.length?t.inits:[()=>{}];for(let a of i){a(e);let i=!0;for(let a=0;a<t.passes&&i;++a){i=!1;for(let[n,r]of kt(e)){let e=r.slice();t.order(n,r,!0),r.some((t,n)=>e[n]!==t)&&(i=!0)}let a=rn(e);a<o&&(o=a,r=e.map(t=>t.slice()));for(let[e,r]of kt(n)){let n=r.slice();t.order(r,e,!1),r.some((t,e)=>n[e]!==t)&&(i=!0)}let s=rn(e);s<o&&(o=s,r=e.map(t=>t.slice()))}}e.splice(0,e.length,...r)}return e.order=function(e){if(void 0===e)return t.order;{let n=t,{order:r}=n,o=m(n,["order"]);return sn(v(g({},o),{order:e}))}},e.inits=function(e){if(void 0===e)return[...t.inits];{let n=t,{inits:r}=n,o=m(n,["inits"]);return sn(v(g({},o),{inits:e}))}},e.passes=function(e){if(void 0===e)return t.passes;if(e<=0)throw ft`number of passes must be positive`;return sn(v(g({},t),{passes:e}))},e.d3dagBuiltin=!0,e}function un(...t){if(t.length)throw ft`got arguments to decrossTwoLayer(${t}); you probably forgot to construct decrossTwoLayer before passing to decross: \`sugiyama().decross(decrossTwoLayer())\`, note the trailing "()"`;return sn({order:nn().base(Ue()),inits:[an().topDown(!0),an().topDown(!1)],passes:24})}function ln(t,e){return+!(!t||!e)}function cn(t){function e(e,n){var r;let o={},i={},a=new Map(yt(e.nodes(),(t,e)=>[t,e.toString()]));function s(t){return a.get(t)}function u(t){return o[s(t)]}function l(t,e,n,r,o=0){let a=u(e),l=u(n),c=`${t}: ${s(e)} -> ${s(n)}`;i[c]={min:r},a[c]=-1,l[c]=1,a.opt+=o,l.opt-=o}function c(t,e,n){l(`${t} before`,e,n,0),l(`${t} after`,n,e,0)}let h=[],f=new Map;for(let v of e.nodes()){let e=s(v);o[e]={opt:0};let n=t.rank(v);void 0!==n&&h.push([n,v]);let r=t.group(v);if(void 0!==r){let t=f.get(r);t?t.push(v):f.set(r,[v])}}let d=new Set;for(let v of e.topological(t.rank)){for(let[t,e]of v.childCounts())d.has(t)?l("link",t,v,n(t,v),e):l("link",v,t,n(v,t),e);d.add(v)}let p=h.sort(([t],[e])=>t-e);for(let[[t,v],[m,y]]of kt(p))t<m?l("rank",v,y,n(v,y)):c("rank",v,y);for(let t of f.values())for(let[e,n]of kt(t))c("group",e,n);try{let t=Re("opt","max",o,i,{}),a=0,u=0;for(let o of e.nodes()){let e=null!=(r=t[s(o)])?r:0;o.y=e,a=Math.min(a,e-n(void 0,o)),u=Math.max(u,e+n(o,void 0))}for(let n of e.nodes())n.y-=a;return u-a}catch(g){throw f.size?ft`could not find a feasible simplex layout; this is likely due to group constraints producing an infeasible layout, try relaxing the functions you're passing to \`layeringSimplex().group(...)\``:pt`could not find a feasible simplex solution`}}return e.rank=function(e){if(void 0===e)return t.rank;{let n=t,{rank:r}=n,o=m(n,["rank"]);return cn(v(g({},o),{rank:e}))}},e.group=function(e){if(void 0===e)return t.group;{let n=t,{group:r}=n,o=m(n,["group"]);return cn(v(g({},o),{group:e}))}},e.d3dagBuiltin=!0,e}function hn(){}function fn(...t){if(t.length)throw ft`got arguments to layeringSimplex(${t}); you probably forgot to construct layeringSimplex before passing to layering: \`sugiyama().layering(layeringSimplex())\`, note the trailing "()"`;return cn({rank:hn,group:hn})}function dn(t,e,n,r){for(let[i,[a,s]]of e){let n=a.bottomLayer;for(let o of i.childLinks()){let[i,a]=e.get(o.target),u=i.topLayer;if(u>n){let e=s;for(let r=n+1;r<u;++r){let n=t.node({link:o,layer:r,role:"link"});e.child(n,void 0),e=n}e.child(a)}else{if(!(u<n))throw gt`layering ${r} assigned nodes with an edge to the same layer`;{let e=a;for(let r=u+1;r<n;++r){let n=t.node({link:o,layer:r,role:"link"});e.child(n,void 0),e=n}e.child(s)}}}}let o=Array(n).fill(null).map(()=>[]);for(let i of t.nodes()){let{data:t}=i;if("node"===t.role){let{topLayer:e,bottomLayer:n}=t;for(let t=e;t<=n;++t)o[t].push(i)}else{let{layer:e}=t;o[e].push(i)}}for(let i of o)if(!i.length)throw gt`layering ${r} didn't assign a node to every layer`;return o}function pn(t,e){function n(n){let r;if(n.nnodes()){let[o,i]=function(t){if("function"!=typeof t){let[e,n]=t;return[()=>e,()=>n]}{let e=t;return[t=>e(t)[0],t=>e(t)[1]]}}(function(t){if("function"!=typeof t){let[e,n]=t;if(e<=0||n<=0)throw ft`all node sizes must be positive, but got width ${e} and height ${n}`;return()=>[e,n]}{let e=new Map;return n=>{let r=e.get(n);if(void 0===r){r=t(n);let[o,i]=r;if(o<=0||i<=0)throw ft`all node sizes must be positive, but got width ${o} and height ${i} for node with data: ${n.data}; make sure the callback passed to \`sugiyama().nodeSize(...)\` is doing that`;e.set(n,r)}return r}}}(t.nodeSize)),[a,s]=e.gap,u=t.layering(n,ln)+1,[l,c]=function(t,e,n,r,o){let i=he(),a=Array(r).fill(!1),s=new Map;for(let f of t.nodes()){let t=f.uy;if(void 0===t)throw gt`layering ${o} didn't assign a layer to a node`;if(t<0||t>=r)throw gt`layering ${o} assigned node an invalid layer: ${t}`;{let e=_t(f.parentCounts(),f.childCounts());!a[t]&&wt(e,([{uy:e},n])=>n>1&&e===t-1)&&(a[t]=!0);let n={node:f,topLayer:t,bottomLayer:t,role:"node"};s.set(f,[n,i.node(n)])}}let u=0,l=a.map(t=>u+=+t);for(let[f]of s.values()){let t=l[f.topLayer];f.topLayer+=t,f.bottomLayer+=t}let c=dn(i,s,r+u,o),h=-n;for(let f of c){h+=n;let t=Math.max(-n,...yt(f,({data:t})=>"node"===t.role?e(t.node):-1/0)),r=h+t/2;for(let e of f)e.y=r;h+=t}return[c,h]}(n,i,s,u,t.layering);t.decross(l);let h=function(t,e){return function(n,r){let o=((n?t(n):0)+(r?t(r):0))/2;return n&&r?o+e:o}}(function(t,e=0){return({data:n})=>"node"===n.role?t(n.node):e}(o),a),f=t.coord(l,h);(function(t,e,n,r,o=.001){for(let i of t){for(let t of i)if(void 0===t.ux)throw gt`coord ${r} didn't assign an x to every node`;for(let[[t,a],[s,u]]of kt(_t([[void 0,0]],yt(i,t=>[t,t.x]),[[void 0,n]])))if(u-a<e(t,s)-o)throw gt`coord ${r} assigned nodes too close for separation`}})(l,h,f,t.coord),function(t){for(let e of t)for(let t of e)if("node"===t.data.role){let{node:e}=t.data;e.x=t.x,e.y=t.y;for(let n of t.children()){let r,o=[[t.x,t.y]];for(;"link"===n.data.role;)r=n.data.link,o.push([n.x,n.y]),[n]=n.children();o.push([n.x,n.y]);let i=n.data.node,a=_t(e.childLinksTo(i),e.parentLinksTo(i));r||([r]=a),r.source!==e&&o.reverse(),r.points.splice(0,r.points.length,...o)}}}(l),r={width:f,height:c}}else r={width:0,height:0};for(let e of t.tweaks)r=e(n,r);return r}return n.layering=function(n){if(void 0===n)return t.layering;{let r=t,{layering:o}=r,i=m(r,["layering"]);return pn(v(g({},i),{layering:n}),e)}},n.decross=function(n){if(void 0===n)return t.decross;{let r=t,{decross:o}=r,i=m(r,["decross"]);return pn(v(g({},i),{decross:n}),e)}},n.coord=function(n){if(void 0===n)return t.coord;{let r=t,{coord:o}=r,i=m(r,["coord"]);return pn(v(g({},i),{coord:n}),e)}},n.tweaks=function(n){if(void 0===n)return t.tweaks;{let r=t,{tweaks:o}=r,i=m(r,["tweaks"]);return pn(v(g({},i),{tweaks:n}),e)}},n.nodeSize=function(n){if(void 0===n)return t.nodeSize;if("function"!=typeof n&&(n[0]<=0||n[1]<=0)){let[t,e]=n;throw ft`constant nodeSize must be positive, but got: [${t}, ${e}]`}{let r=t,{nodeSize:o}=r,i=m(r,["nodeSize"]);return pn(v(g({},i),{nodeSize:n}),e)}},n.gap=function(n){if(void 0!==n){let[r,o]=n;if(r<0||o<0)throw ft`gap width (${r}) and height (${o}) must be non-negative`;return pn(t,v(g({},e),{gap:n}))}{let[t,n]=e.gap;return[t,n]}},n}function gn(...t){if(t.length)throw ft`got arguments to sugiyama(${t}), but constructor takes no arguments; these were probably meant as data which should be called as \`sugiyama()(...)\``;return pn({layering:fn(),decross:un(),coord:Ke(),nodeSize:[1,1],tweaks:[]},{gap:[1,1]})}function vn(...t){if(t.length)throw ft`got arguments to coordCenter(${t}); you probably forgot to construct coordCenter before passing to coord: \`sugiyama().coord(coordCenter())\`, note the trailing "()"`;function e(t,e){let n=t.map(t=>{let n,r=0;for(let o of t)r+=e(n,o),o.x=r,n=o;return r+=e(n,void 0),r}),r=Math.max(...n);if(r<=0)throw ft`must assign nonzero width to at least one node; double check the callback passed to \`sugiyama().nodeSize(...)\``;for(let[o,i]of t.entries()){let t=(r-n[o])/2;for(let e of i)e.x+=t}return r}return e.d3dagBuiltin=!0,e}function mn(t,e){for(let n of t){let t=Ce([...yt(e(n),({x:t})=>t)]);void 0!==t&&(n.x=t)}}function yn(t,e){for(let n of t){let[t]=e(n);"link"===n.data.role&&"link"===t.data.role&&(n.x=t.x)}}function bn(t,e){let n=t[t.length-1],r=n.x,o=[r];for(let i of xt(t,t.length-2,-1,-1)){let t=Math.min(i.x,r-e(n,i));o.push(t),n=i,r=t}o.reverse(),n=t[0],r=n.x,n.x=(r+o[0])/2;for(let[i,a]of vt(xt(t,1))){let t=Math.max(a.x,r+e(n,a));a.x=(t+o[i+1])/2,n=a,r=t}}function wn(t,e){for(let[n,r]of t.entries()){let t=e[n];for(let[e,{x:n}]of r.entries())if(t[e]!==n)return!1}return!0}function xn(...t){if(t.length)throw ft`got arguments to coordGreedy(${t}); you probably forgot to construct coordGreedy before passing to coord: \`sugiyama().coord(coordGreedy())\`, note the trailing "()"`;function e(t,e){let n=0,r=0,o=new Set;for(let u of t)for(let t of u)o.has(t)||(o.add(t),void 0!==t.ux&&(n+=(t.ux-n)/++r));for(let u of t){let t=0,r=0;for(let e of u)void 0!==e.ux&&(t+=(e.ux-t)/++r);let o=r?t:n;for(let e of u)void 0===e.ux&&(e.ux=o);bn(u,e)}for(let u of xt(t,1))mn(u,t=>t.parents()),bn(u,e);for(let u of xt(t,t.length-2,-1,-1))mn(u,t=>t.children()),bn(u,e);for(let u=0;u<t.length;++u){let n=t.map(t=>t.map(({x:t})=>t));for(let r of xt(t,1))yn(r,t=>t.parents()),bn(r,e);for(let r of xt(t,t.length-2,-1,-1))yn(r,t=>t.children()),bn(r,e);if(wn(t,n))break}let i=1/0,a=-1/0;for(let u of t){let t=u[0];i=Math.min(i,t.x-e(void 0,t));let n=u[u.length-1];a=Math.max(a,n.x+e(n,void 0))}for(let u of o)u.x-=i;let s=a-i;if(s<=0)throw ft`must assign nonzero width to at least one node; double check the callback passed to \`sugiyama().nodeSize(...)\``;return s}return e.d3dagBuiltin=!0,e}function _n(t,e,n){if("function"!=typeof t)return()=>t;{let r=new Map;return o=>{let i=r.get(o);if(void 0===i){let i=t(o);if(i<0)throw new Error(`${e} weights must be non-negative; double check the accessor passed into \`coordQuad().${n}(...)\``);return r.set(o,i),i}return i}}}function kn(t){function e(e,n){let r,o=function(t){let e=new Map,n=0;for(let r of t)for(let t of r)e.has(t)||e.set(t,n++);return e}(e),[i,a,s,u]=We(e,o,n,t.comp),l=function(t,e){if("function"!=typeof t)return()=>t;{let n=new Map;for(let r of mt(e,t=>t))if("node"===r.data.role){let e=r.data.node,o=new Map;for(let n of e.childLinks()){let e=t(n);if(e<0)throw ft`link weights must be non-negative; double check the accessor passed into \`coordQuad().vertWeak(...)\``;o.set(n.target,e)}n.set(e,o)}return(t,e)=>n.get(t).get(e)}}(t.vertWeak,e),c=_n(t.vertStrong,"link","vertStrong"),h=_n(t.linkCurve,"link","linkCurve"),f=_n(t.nodeCurve,"node","nodeCurve"),d=Je(o.keys());for(let[t,g]of o){let e=t.data,n="node"===e.role?e.node:e.link.source;for(let r of t.children()){let a=o.get(r),s=r.data,u="node"===s.role?s.node:s.link.target,p="node"===e.role?l(n,u):c(e.link),v="node"===s.role?l(n,u):c(s.link),m="node"===s.role?f(s.node):h(s.link),y=(r.y-t.y)/d;Ge(i,g,a,(p+v)/y);for(let t of r.children()){Xe(i,g,a,o.get(t),m/y,m/((t.y-r.y)/d))}}}try{r=Ye(e,n,o,qe(i,a,s,u))}catch(p){throw"string"==typeof p?pt`${p}`:pt`undefined quadprog exception`}if(r<=0)throw ft`must assign nonzero width to at least one node; double check the callback passed to \`sugiyama().nodeSize(...)\``;return r}return e.vertWeak=function(e){if(void 0===e)return t.vertWeak;if("number"==typeof e&&e<0)throw ft`vertWeak must be non-negative but was: ${e}`;{let n=t,{vertWeak:r}=n,o=m(n,["vertWeak"]);return kn(v(g({},o),{vertWeak:e}))}},e.vertStrong=function(e){if(void 0===e)return t.vertStrong;if("number"==typeof e&&e<0)throw ft`vertStrong must be non-negative but was: ${e}`;{let n=t,{vertStrong:r}=n,o=m(n,["vertStrong"]);return kn(v(g({},o),{vertStrong:e}))}},e.linkCurve=function(e){if(void 0===e)return t.linkCurve;if("number"==typeof e&&e<0)throw ft`linkCurve must be non-negative but was: ${e}`;{let n=t,{linkCurve:r}=n,o=m(n,["linkCurve"]);return kn(v(g({},o),{linkCurve:e}))}},e.nodeCurve=function(e){if(void 0===e)return t.nodeCurve;if("number"==typeof e&&e<0)throw ft`nodeCurve must be non-negative but was: ${e}`;{let n=t,{nodeCurve:r}=n,o=m(n,["nodeCurve"]);return kn(v(g({},o),{nodeCurve:e}))}},e.compress=function(e){if(void 0===e)return t.comp;if(e<=0)throw ft`compress weight must be positive, but was: ${e}`;return kn(v(g({},t),{comp:e}))},e.d3dagBuiltin=!0,e}function Mn(...t){if(t.length)throw ft`got arguments to coordQuad(${t}); you probably forgot to construct coordQuad before passing to coord: \`sugiyama().coord(coordQuad())\`, note the trailing "()"`;return kn({vertWeak:1,vertStrong:0,linkCurve:1,nodeCurve:0,comp:1e-6})}function In(t){function e(e,n){for(let t of e)if(t.reduce((t,e)=>t+ +("node"===e.data.role),0)>1)throw ft`topological() only works with a topological layering, make sure you've set up sugiyama as \`sugiyama().layering(layeringTopological())\``;if(t.simp){let t={center:{}},r={},o=new Map,i=0;for(let n of e){let e=!0;for(let r of n)if("link"===r.data.role){let n=""+i++;o.set(r,[n,e]),t[n]={}}else o.set(r,["center",!1]),e=!1}let a=t=>o.get(t);for(let f of e)for(let[e,o]of kt(f)){let[i,s]=a(e),[u,l]=a(o),c=`layer ${i} -> ${u}`,h=n(e,o);r[c]={min:h},t[i][c]=s?1:-1,t[u][c]=l?-1:1}let s=Je(o.keys());for(let n of e)for(let e of n){let[n,o]=a(e);if("center"!==n)for(let i of e.children()){let[u,l]=a(i);if("center"!==u){let a=`link ${n} -> ${u}`,c=`${a} parent`;r[c]={min:0};let h=`${a} child`;r[h]={min:0},t[n][c]=o?-1:1,t[n][h]=o?1:-1,t[u][c]=l?1:-1,t[u][h]=l?-1:1;let f=(i.y-e.y)/s;t[a]={opt:1/f,[c]:1,[h]:1}}}}delete t.center;let u=Re("opt","min",t,r);for(let[e,[n,f]]of o){let t=u[n];e.x=void 0===t?0:f?-t:t}let l=0,c=0;for(let f of e){let t=f[0];l=Math.min(l,t.x-n(void 0,t));let e=f[f.length-1];c=Math.max(c,e.x+n(e,void 0))}for(let e of o.keys())e.x-=l;let h=c-l;if(h<=0)throw ft`must assign nonzero width to at least one node; double check the callback passed to \`sugiyama().nodeSize(...)\``;return h}{let t=new Map,r=0;for(let n of e)for(let e of n)"link"===e.data.role&&t.set(e,r++);for(let n of e)for(let e of n)"node"===e.data.role&&t.set(e,r);let[o,i,a,s]=We(e,t,n),u=Je(t.keys());for(let e of t.keys()){let n=t.get(e);for(let r of e.children()){let i=t.get(r),a=(r.y-e.y)/u;if("link"===r.data.role)for(let e of r.children()){Xe(o,n,i,t.get(e),1/a,1/((e.y-r.y)/u))}}}let l=Ye(e,n,t,qe(o,i,a,s));if(l<=0)throw ft`must assign nonzero width to at least one node; double check the callback passed to \`sugiyama().nodeSize(...)\``;return l}}return e.straight=function(e){return void 0===e?t.simp:In(v(g({},t),{simp:e}))},e.d3dagBuiltin=!0,e}function zn(...t){if(t.length)throw ft`got arguments to coordTopological(${t}); you probably forgot to construct coordTopological before passing to coord: \`sugiyama().coord(coordTopological())\`, note the trailing "()"`;return In({simp:!0})}function On(t){function e(e){var n;let r=e.reduce((t,e)=>t+e.length*Math.max(e.length-1,0)/2,0),o=[];if(t.dist)for(let[t,y]of kt(e)){let e=y.filter(t=>!t.nparents()),n=t.map(t=>[...t.children()]);o.push([e,n]);let r=t.filter(t=>!t.nchildren()),i=y.map(t=>[...t.parents()]);o.push([r,i])}let i=function(t){var e,n;let r=[],o=new Map,i=new Map;for(let l of t){let[t]=l;t!==r[r.length-1]&&r.push(t);for(let n of xt(l,1)){let t=null!=(e=i.get(n))?e:0;i.set(n,t+1)}for(let[e,n]of kt(l))ot(o,e,n)}let a,s=new Map,u=0;for(;a=r.pop();){s.set(a,u++);for(let t of null!=(n=o.get(a))?n:[]){let e=i.get(t)-1;i.set(t,e),e||r.push(t)}}return s}(e),a=new Map;function s(t,e){var n;let r=`${t} => ${e}`;return null!=(n=a.get(r))?n:r}let u=new Map;for(let[t,y]of vt(xt(e,0,e.length-1)))for(let e of y){if("node"!==e.data.role||e.data.bottomLayer===t)continue;let n=i.get(e),r=!0;for(let o of y)if(o===e)r=!1;else if("node"!==o.data.role||o.data.bottomLayer===t){let t=i.get(o),e=r?s(t,n):s(n,t);for(let a of o.children()){let t=i.get(a),o=r?s(t,n):s(n,t);u.set(o,e)}}}let l=new Map;for(let[t,y]of u){let e,n=y;for(;e=u.get(n);)n=e;let r=l.get(n);r?r.push(t):l.set(n,[n,t])}for(let t of l.values()){let e=`{ ${t.join(" & ")} }`;for(let n of t)a.set(n,e)}let c=1/(o.reduce((t,[e,n])=>n.reduce((t,e)=>t+e.length*e.length,0)*e.length,0)/4+1),h=c/(r+1),f={},d={},p={};for(let t of e){for(let[e,n]of t.entries()){let r=i.get(n);for(let n of xt(t,e+1)){let t=s(r,i.get(n));p[t]=1,d[t]={max:1},f[t]={opt:h,[t]:1}}}for(let[e,n]of t.entries()){let r=i.get(n);for(let[n,o]of vt(xt(t,e+1))){let a=i.get(o);for(let o of t.slice(e+n+2)){let t=i.get(o),e=s(r,a),n=s(r,t),u=s(a,t),l=`tri: ${r} - ${a} - ${t}`,c=`${l} +`,h=`${l} -`;d[c]={max:1},f[e][c]=1,f[n][c]=-1,f[u][c]=1,d[h]={min:0},f[e][h]=1,f[n][h]=-1,f[u][h]=1}}}}for(let[t,y]of vt(xt(e,0,e.length-1)))for(let[e,r]of y.entries()){if("node"===r.data.role&&r.data.bottomLayer!==t)continue;let o=i.get(r);for(let a of xt(y,e+1)){if("node"===a.data.role&&a.data.bottomLayer!==t)continue;let e=s(o,i.get(a)),u=new Map;for(let[t,o]of r.childCounts()){let e=i.get(t);for(let[r,l]of a.childCounts()){if(t===r)continue;let a=i.get(r),c=Math.sign(e-a),h=c<0?s(e,a):s(a,e),f=null!=(n=u.get(h))?n:0;u.set(h,c*o*l+f)}}for(let[t,n]of u){let r=`slack: ${e} : ${t}`,o=`${r} +`,i=`${r} -`;n<0?(f[r]={opt:-n,[o]:1,[i]:1},d[o]={min:0},f[e][o]=1,f[t][o]=-1,d[i]={min:0},f[e][i]=-1,f[t][i]=1):n>0&&(f[r]={opt:n,[o]:1,[i]:1},d[o]={min:1},f[e][o]=1,f[t][o]=1,d[i]={min:-1},f[e][i]=-1,f[t][i]=-1)}}}for(let[t,y]of o)for(let e of t){let t=i.get(e);for(let e of y)for(let[n,r]of vt(e)){let o=i.get(r);for(let r of xt(e,n+1)){let e=i.get(r),n=`dist: ${o} - ${t} - ${e}`,a=`${n} :normal`,u=`${n} :reversed`;f[n]={opt:c,[a]:1,[u]:1};let l=0;for(let[r,i]of[[o,t],[o,e],[t,e]]){let t=Math.sign(r-i),e=t<0?s(r,i):s(i,r);l+=t,f[e][a]=-t,f[e][u]=t}d[a]={min:(l+1)/-2},d[u]={min:(l-1)/2}}}}let g=Object.keys(f).length,v=Object.keys(d).length;if("oom"!==t.check&&g>2e3)throw ft`size of dag to decrossOpt is too large and will likely crash instead of complete; you probably want to use a cheaper decrossing strategy for sugiyama like \`sugiyama().decross(decrossTwoLayer())\`, but if you still want to continue you can suppress this check with \`sugiyama().decross(decrossOp().check("oom"))\``;if("fast"===t.check&&(g>1e3||v>5e3))throw ft`size of dag to decrossOpt is too large and will likely not complete; you probably want to use a cheaper decrossing strategy for sugiyama like \`sugiyama().decross(decrossTwoLayer())\`, but if you still want to continue you can suppress this check with \`sugiyama().decross(decrossOp().check("slow"))\``;let m=Re("opt","min",f,d,p);if(!m.bounded)throw pt`optimization result was not bounded`;for(let t of e)t.sort((t,e)=>{let n=i.get(t),r=i.get(e);return n<r?m[s(n,r)]||-1:-(m[s(r,n)]||-1)})}return e.check=function(e){return void 0===e?t.check:On(v(g({},t),{check:e}))},e.dist=function(e){return void 0===e?t.dist:On(v(g({},t),{dist:e}))},e.d3dagBuiltin=!0,e}function Sn(...t){if(t.length)throw ft`got arguments to decrossOpt(${t}); you probably forgot to construct decrossOpt before passing to decross: \`sugiyama().decross(decrossOpt())\`, note the trailing "()"`;return On({check:"fast",dist:!1})}function En(t,e){function n(n,r){let o=0,i=n.topological(t.rank);for(let t of i)t.uy=void 0;e.topDown&&i.reverse();for(let t of i){let e=Math.max(r(void 0,t),...yt(_t(t.parents(),t.children()),e=>{var n;return(null!=(n=e.uy)?n:-1/0)+r(e,t)}));o=Math.max(o,e+r(t,void 0)),t.y=e}for(let t of i.reverse()){let e=Math.min(...yt(bt(_t(t.parents(),t.children()),e=>t.y<e.y),e=>e.y-r(e,t)));e!==1/0&&(t.y=e)}if(e.topDown)for(let t of i)t.y=o-t.y;return o}return n.rank=function(n){if(void 0===n)return t.rank;{let r=t,{rank:o}=r,i=m(r,["rank"]);return En(v(g({},i),{rank:n}),e)}},n.topDown=function(n){return void 0===n?e.topDown:En(t,v(g({},e),{topDown:n}))},n.d3dagBuiltin=!0,n}function Cn(){}function jn(...t){if(t.length)throw ft`got arguments to layeringLongestPath(${t}); you probably forgot to construct layeringLongestPath before passing to layering: \`sugiyama().layering(layeringLongestPath())\`, note the trailing "()"`;return En({rank:Cn},{topDown:!0})}function Pn(t){function e(e,n){let r,o=0;for(let i of e.topological(t.rank))o+=n(r,i),i.y=o,r=i;return o+=n(r,void 0),o}return e.rank=function(e){if(void 0===e)return t.rank;{let n=t,{rank:r}=n,o=m(n,["rank"]);return Pn(v(g({},o),{rank:e}))}},e.d3dagBuiltin=!0,e}function $n(){}function An(...t){if(t.length)throw ft`got arguments to layeringTopological(${t}); you probably forgot to construct layeringTopological before passing to layering: \`sugiyama().layering(layeringTopological())\`, note the trailing "()"`;return Pn({rank:$n})}function*Nn(t){for(let e of t.parentLinks()){let{source:n}=e;n.y<t.y&&(yield[n,t,e])}for(let e of t.childLinks()){let{target:n}=e;n.y<t.y&&(yield[n,t,e])}}function Tn(t,e){let n=t.findIndex(t=>t<e);return n>=0?n:t.length}function Vn(t,e){function n(n){var r;let o;if(n.nnodes()){let{xgap:i,ygap:a}=e,s=function(t){return"function"==typeof t?t:()=>t}(t.nodeSize),u=[...n.topological(t.rank)],l=-a,c=0;for(let t of u){let[e,n]=s(t);if(e<=0||n<=0)throw ft`constant nodeSize must be positive, but got: [${e}, ${n}]`;c=Math.max(c,e),l+=a,t.y=l+n/2,l+=n}let h=l,f=Math.min(...yt(kt(u),([t,e])=>(e.y-t.y)/(t.nchildLinksTo(e)+t.nparentLinksTo(e)>1?2:1))),d=function(t,e){let n=[];for(let[a,s]of kt(t)){let t=!1;for(let e of Nn(s)){let[r]=e;a!==r||t?n.push(e):t=!0}}n.sort(([t,e],[n,r])=>e.y-r.y||n.y-t.y);let r=[],o=[],i=new Map;for(let[a,s,u]of n){let t=Tn(o,a.y),n=Tn(r,a.y);t<n?(i.set(u,-t-1),o[t]=s.y-e):(i.set(u,n+1),r[n]=s.y-e)}return i}(u,1.5*f),p=0,g=0;for(let t of d.values())p=Math.min(p,t),g=Math.max(g,t);let v=-p*i+c/2;for(let t of u)t.x=v;for(let t of n.links()){let e=null!=(r=d.get(t))?r:0,{source:n,target:o,points:a}=t;if(a.splice(0),a.push([n.x,n.y]),0!==e){let t=(e-p)*i+(e>0?c:0),r=n.y+f,s=o.y-f;s-r>.001*f?a.push([t,r],[t,s]):a.push([t,r])}a.push([o.x,o.y])}o={width:(g-p)*i+c,height:h}}else o={width:0,height:0};for(let e of t.tweaks)o=e(n,o);return o}return n.rank=function(n){if(void 0===n)return t.rank;{let r=t,{rank:o}=r,i=m(r,["rank"]);return Vn(v(g({},i),{rank:n}),e)}},n.tweaks=function(n){if(void 0===n)return t.tweaks;{let r=t,{tweaks:o}=r,i=m(r,["tweaks"]);return Vn(v(g({},i),{tweaks:n}),e)}},n.nodeSize=function(n){if(void 0===n)return t.nodeSize;if("function"!=typeof n&&(n[0]<=0||n[1]<=0)){let[t,e]=n;throw ft`constant nodeSize must be positive, but got: [${t}, ${e}]`}{let r=t,{nodeSize:o}=r,i=m(r,["nodeSize"]);return Vn(v(g({},i),{nodeSize:n}),e)}},n.gap=function(n){if(void 0!==n){let[r,o]=n;if(r<0||o<0)throw ft`gap width (${r}) and height (${o}) must be non-negative`;return Vn(t,v(g({},e),{xgap:r,ygap:o}))}{let{xgap:t,ygap:n}=e;return[t,n]}},n}function Zn(...t){if(t.length)throw ft`got arguments to zherebko(${t}), but constructor takes no arguments; these were probably meant as data which should be called as \`zherebko()(...)\``;return Vn({rank:()=>{},nodeSize:[1,1],tweaks:[]},{xgap:1,ygap:1})}},8142:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Array]",s="[object Boolean]",u="[object Date]",l="[object Error]",c="[object Function]",h="[object Map]",f="[object Number]",d="[object Object]",p="[object Promise]",g="[object RegExp]",v="[object Set]",m="[object String]",y="[object Symbol]",b="[object WeakMap]",w="[object ArrayBuffer]",x="[object DataView]",_=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,M={};M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M[i]=M[a]=M[w]=M[s]=M[x]=M[u]=M[l]=M[c]=M[h]=M[f]=M[d]=M[g]=M[v]=M[m]=M[b]=!1;var I="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,z="object"==typeof self&&self&&self.Object===Object&&self,O=I||z||Function("return this")(),S=e&&!e.nodeType&&e,E=S&&t&&!t.nodeType&&t,C=E&&E.exports===S,j=C&&I.process,P=function(){try{return j&&j.binding&&j.binding("util")}catch(t){}}(),$=P&&P.isTypedArray;function A(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function N(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function T(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var V,Z,B,R=Array.prototype,L=Function.prototype,F=Object.prototype,D=O["__core-js_shared__"],U=L.toString,q=F.hasOwnProperty,W=(V=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",G=F.toString,X=RegExp("^"+U.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=C?O.Buffer:void 0,J=O.Symbol,H=O.Uint8Array,Q=F.propertyIsEnumerable,K=R.splice,tt=J?J.toStringTag:void 0,et=Object.getOwnPropertySymbols,nt=Y?Y.isBuffer:void 0,rt=(Z=Object.keys,B=Object,function(t){return Z(B(t))}),ot=Pt(O,"DataView"),it=Pt(O,"Map"),at=Pt(O,"Promise"),st=Pt(O,"Set"),ut=Pt(O,"WeakMap"),lt=Pt(Object,"create"),ct=Tt(ot),ht=Tt(it),ft=Tt(at),dt=Tt(st),pt=Tt(ut),gt=J?J.prototype:void 0,vt=gt?gt.valueOf:void 0;function mt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function yt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new bt;++e<n;)this.add(t[e])}function xt(t){var e=this.__data__=new yt(t);this.size=e.size}function _t(t,e){var n=Bt(t),r=!n&&Zt(t),o=!n&&!r&&Rt(t),i=!n&&!r&&!o&&qt(t),a=n||r||o||i,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=s.length;for(var l in t)!e&&!q.call(t,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Nt(l,u))||s.push(l);return s}function kt(t,e){for(var n=t.length;n--;)if(Vt(t[n][0],e))return n;return-1}function Mt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":tt&&tt in Object(t)?function(t){var e=q.call(t,tt),n=t[tt];try{t[tt]=void 0;var r=!0}catch(i){}var o=G.call(t);r&&(e?t[tt]=n:delete t[tt]);return o}(t):function(t){return G.call(t)}(t)}function It(t){return Ut(t)&&Mt(t)==i}function zt(t,e,n,r,o){return t===e||(null==t||null==e||!Ut(t)&&!Ut(e)?t!=t&&e!=e:function(t,e,n,r,o,c){var p=Bt(t),b=Bt(e),_=p?a:At(t),k=b?a:At(e),M=(_=_==i?d:_)==d,I=(k=k==i?d:k)==d,z=_==k;if(z&&Rt(t)){if(!Rt(e))return!1;p=!0,M=!1}if(z&&!M)return c||(c=new xt),p||qt(t)?Et(t,e,n,r,o,c):function(t,e,n,r,o,i,a){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!i(new H(t),new H(e)));case s:case u:case f:return Vt(+t,+e);case l:return t.name==e.name&&t.message==e.message;case g:case m:return t==e+"";case h:var c=N;case v:var d=1&r;if(c||(c=T),t.size!=e.size&&!d)return!1;var p=a.get(t);if(p)return p==e;r|=2,a.set(t,e);var b=Et(c(t),c(e),r,o,i,a);return a.delete(t),b;case y:if(vt)return vt.call(t)==vt.call(e)}return!1}(t,e,_,n,r,o,c);if(!(1&n)){var O=M&&q.call(t,"__wrapped__"),S=I&&q.call(e,"__wrapped__");if(O||S){var E=O?t.value():t,C=S?e.value():e;return c||(c=new xt),o(E,C,n,r,c)}}if(!z)return!1;return c||(c=new xt),function(t,e,n,r,o,i){var a=1&n,s=Ct(t),u=s.length,l=Ct(e),c=l.length;if(u!=c&&!a)return!1;var h=u;for(;h--;){var f=s[h];if(!(a?f in e:q.call(e,f)))return!1}var d=i.get(t);if(d&&i.get(e))return d==e;var p=!0;i.set(t,e),i.set(e,t);var g=a;for(;++h<u;){var v=t[f=s[h]],m=e[f];if(r)var y=a?r(m,v,f,e,t,i):r(v,m,f,t,e,i);if(!(void 0===y?v===m||o(v,m,n,r,i):y)){p=!1;break}g||(g="constructor"==f)}if(p&&!g){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(p=!1)}return i.delete(t),i.delete(e),p}(t,e,n,r,o,c)}(t,e,n,r,zt,o))}function Ot(t){return!(!Dt(t)||function(t){return!!W&&W in t}(t))&&(Lt(t)?X:_).test(Tt(t))}function St(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||F,e!==r)return rt(t);var e,n,r,o=[];for(var i in Object(t))q.call(t,i)&&"constructor"!=i&&o.push(i);return o}function Et(t,e,n,r,o,i){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=i.get(t);if(l&&i.get(e))return l==e;var c=-1,h=!0,f=2&n?new wt:void 0;for(i.set(t,e),i.set(e,t);++c<s;){var d=t[c],p=e[c];if(r)var g=a?r(p,d,c,e,t,i):r(d,p,c,t,e,i);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!A(e,function(t,e){if(a=e,!f.has(a)&&(d===t||o(d,t,n,r,i)))return f.push(e);var a})){h=!1;break}}else if(d!==p&&!o(d,p,n,r,i)){h=!1;break}}return i.delete(t),i.delete(e),h}function Ct(t){return function(t,e,n){var r=e(t);return Bt(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,Wt,$t)}function jt(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Pt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Ot(n)?n:void 0}mt.prototype.clear=function(){this.__data__=lt?lt(null):{},this.size=0},mt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},mt.prototype.get=function(t){var e=this.__data__;if(lt){var n=e[t];return n===r?void 0:n}return q.call(e,t)?e[t]:void 0},mt.prototype.has=function(t){var e=this.__data__;return lt?void 0!==e[t]:q.call(e,t)},mt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=lt&&void 0===e?r:e,this},yt.prototype.clear=function(){this.__data__=[],this.size=0},yt.prototype.delete=function(t){var e=this.__data__,n=kt(e,t);return!(n<0)&&(n==e.length-1?e.pop():K.call(e,n,1),--this.size,!0)},yt.prototype.get=function(t){var e=this.__data__,n=kt(e,t);return n<0?void 0:e[n][1]},yt.prototype.has=function(t){return kt(this.__data__,t)>-1},yt.prototype.set=function(t,e){var n=this.__data__,r=kt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},bt.prototype.clear=function(){this.size=0,this.__data__={hash:new mt,map:new(it||yt),string:new mt}},bt.prototype.delete=function(t){var e=jt(this,t).delete(t);return this.size-=e?1:0,e},bt.prototype.get=function(t){return jt(this,t).get(t)},bt.prototype.has=function(t){return jt(this,t).has(t)},bt.prototype.set=function(t,e){var n=jt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},wt.prototype.add=wt.prototype.push=function(t){return this.__data__.set(t,r),this},wt.prototype.has=function(t){return this.__data__.has(t)},xt.prototype.clear=function(){this.__data__=new yt,this.size=0},xt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},xt.prototype.get=function(t){return this.__data__.get(t)},xt.prototype.has=function(t){return this.__data__.has(t)},xt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof yt){var r=n.__data__;if(!it||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new bt(r)}return n.set(t,e),this.size=n.size,this};var $t=et?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}(et(t),function(e){return Q.call(t,e)}))}:function(){return[]},At=Mt;function Nt(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||k.test(t))&&t>-1&&t%1==0&&t<e}function Tt(t){if(null!=t){try{return U.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Vt(t,e){return t===e||t!=t&&e!=e}(ot&&At(new ot(new ArrayBuffer(1)))!=x||it&&At(new it)!=h||at&&At(at.resolve())!=p||st&&At(new st)!=v||ut&&At(new ut)!=b)&&(At=function(t){var e=Mt(t),n=e==d?t.constructor:void 0,r=n?Tt(n):"";if(r)switch(r){case ct:return x;case ht:return h;case ft:return p;case dt:return v;case pt:return b}return e});var Zt=It(function(){return arguments}())?It:function(t){return Ut(t)&&q.call(t,"callee")&&!Q.call(t,"callee")},Bt=Array.isArray;var Rt=nt||function(){return!1};function Lt(t){if(!Dt(t))return!1;var e=Mt(t);return e==c||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ft(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function Dt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ut(t){return null!=t&&"object"==typeof t}var qt=$?function(t){return function(e){return t(e)}}($):function(t){return Ut(t)&&Ft(t.length)&&!!M[Mt(t)]};function Wt(t){return null!=(e=t)&&Ft(e.length)&&!Lt(e)?_t(t):St(t);var e}t.exports=function(t,e){return zt(t,e)}},8156:t=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8507:(t,e,n)=>{const r=n(5659);function o(t){const e=function(){const t={},e=Object.keys(r);for(let n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;){const t=n.pop(),o=Object.keys(r[t]);for(let r=o.length,i=0;i<r;i++){const r=o[i],a=e[r];-1===a.distance&&(a.distance=e[t].distance+1,a.parent=t,n.unshift(r))}}return e}function i(t,e){return function(n){return e(t(n))}}function a(t,e){const n=[e[t].parent,t];let o=r[e[t].parent][t],a=e[t].parent;for(;e[a].parent;)n.unshift(e[a].parent),o=i(r[e[a].parent][a],o),a=e[a].parent;return o.conversion=n,o}t.exports=function(t){const e=o(t),n={},r=Object.keys(e);for(let o=r.length,i=0;i<o;i++){const t=r[i];null!==e[t].parent&&(n[t]=a(t,e))}return n}},8831:(t,e,n)=>{"use strict";n.d(e,{GaX:()=>On,eqx:()=>eo,bzn:()=>wr,YOg:()=>zr,zMY:()=>vr,IeY:()=>to,gMt:()=>Pr,k5n:()=>Vr,euz:()=>Br,chJ:()=>yr,aig:()=>fr,Ikc:()=>Sr,g1P:()=>Nr,YjP:()=>Un,KCZ:()=>Cr,L5J:()=>_r});Object.freeze({status:"aborted"});function r(t,e,n){function r(n,r){var o;Object.defineProperty(n,"_zod",{value:n._zod??{},enumerable:!1}),(o=n._zod).traits??(o.traits=new Set),n._zod.traits.add(t),e(n,r);for(const t in a.prototype)t in n||Object.defineProperty(n,t,{value:a.prototype[t].bind(n)});n._zod.constr=a,n._zod.def=r}const o=n?.Parent??Object;class i extends o{}function a(t){var e;const o=n?.Parent?new i:this;r(o,t),(e=o._zod).deferred??(e.deferred=[]);for(const n of o._zod.deferred)n();return o}return Object.defineProperty(i,"name",{value:t}),Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:e=>!!(n?.Parent&&e instanceof n.Parent)||e?._zod?.traits?.has(t)}),Object.defineProperty(a,"name",{value:t}),a}Symbol("zod_brand");class o extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class i extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const a={};function s(t){return t&&Object.assign(a,t),a}function u(t,e="|"){return t.map(t=>O(t)).join(e)}function l(t,e){return"bigint"==typeof e?e.toString():e}function c(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function h(t){return null==t}function f(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const d=Symbol("evaluating");function p(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==d)return void 0===r&&(r=d,r=n()),r},set(n){Object.defineProperty(t,e,{value:n})},configurable:!0})}function g(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function v(...t){const e={};for(const n of t){const t=Object.getOwnPropertyDescriptors(n);Object.assign(e,t)}return Object.defineProperties({},e)}function m(t){return JSON.stringify(t)}const y="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function b(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}const w=c(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(t){return!1}});function x(t){if(!1===b(t))return!1;const e=t.constructor;if(void 0===e)return!0;const n=e.prototype;return!1!==b(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}function _(t){return x(t)?{...t}:Array.isArray(t)?[...t]:t}const k=new Set(["string","number","symbol"]);new Set(["string","number","bigint","boolean","symbol","undefined"]);function M(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function I(t,e,n){const r=new t._zod.constr(e??t._zod.def);return e&&!n?.parent||(r._zod.parent=t),r}function z(t){const e=t;if(!e)return{};if("string"==typeof e)return{error:()=>e};if(void 0!==e?.message){if(void 0!==e?.error)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,"string"==typeof e.error?{...e,error:()=>e.error}:e}function O(t){return"bigint"==typeof t?t.toString()+"n":"string"==typeof t?`"${t}"`:`${t}`}const S={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function E(t,e=0){if(!0===t.aborted)return!0;for(let n=e;n<t.issues.length;n++)if(!0!==t.issues[n]?.continue)return!0;return!1}function C(t,e){return e.map(e=>{var n;return(n=e).path??(n.path=[]),e.path.unshift(t),e})}function j(t){return"string"==typeof t?t:t?.message}function P(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const o=j(t.inst?._zod.def?.error?.(t))??j(e?.error?.(t))??j(n.customError?.(t))??j(n.localeError?.(t))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function $(t){return Array.isArray(t)?"array":"string"==typeof t?"string":"unknown"}function A(...t){const[e,n,r]=t;return"string"==typeof e?{message:e,code:"custom",input:n,inst:r}:{...e}}const N=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,l,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},T=r("$ZodError",N),V=r("$ZodError",N,{Parent:Error});const Z=t=>(e,n,r,i)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},u=e._zod.run({value:n,issues:[]},a);if(u instanceof Promise)throw new o;if(u.issues.length){const e=new(i?.Err??t)(u.issues.map(t=>P(t,a,s())));throw y(e,i?.callee),e}return u.value},B=t=>async(e,n,r,o)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise&&(a=await a),a.issues.length){const e=new(o?.Err??t)(a.issues.map(t=>P(t,i,s())));throw y(e,o?.callee),e}return a.value},R=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new o;return a.issues.length?{success:!1,error:new(t??T)(a.issues.map(t=>P(t,i,s())))}:{success:!0,data:a.value}},L=R(V),F=t=>async(e,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:n,issues:[]},o);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(t=>P(t,o,s())))}:{success:!0,data:i.value}},D=F(V),U=t=>(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Z(t)(e,n,o)},q=t=>(e,n,r)=>Z(t)(e,n,r),W=t=>async(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return B(t)(e,n,o)},G=t=>async(e,n,r)=>B(t)(e,n,r),X=t=>(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return R(t)(e,n,o)},Y=t=>(e,n,r)=>R(t)(e,n,r),J=t=>async(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return F(t)(e,n,o)},H=t=>async(e,n,r)=>F(t)(e,n,r),Q=/^[cC][^\s-]{8,}$/,K=/^[0-9a-z]+$/,tt=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,et=/^[0-9a-vA-V]{20}$/,nt=/^[A-Za-z0-9]{27}$/,rt=/^[a-zA-Z0-9_-]{21}$/,ot=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,it=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,at=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,st=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;const ut=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lt=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,ct=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,ht=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ft=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,dt=/^[A-Za-z0-9_-]*$/,pt=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,gt=/^\+(?:[0-9]){6,14}[0-9]$/,vt="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",mt=new RegExp(`^${vt}$`);function yt(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof t.precision?-1===t.precision?`${e}`:0===t.precision?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}const bt=/^-?\d+$/,wt=/^-?\d+(?:\.\d+)?/,xt=/^(?:true|false)$/i,_t=/^null$/i,kt=/^[^A-Z]*$/,Mt=/^[^a-z]*$/;const It=r("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),zt={number:"number",bigint:"bigint",object:"date"},Ot=r("$ZodCheckLessThan",(t,e)=>{It.init(t,e);const n=zt[typeof e.value];t._zod.onattach.push(t=>{const n=t._zod.bag,r=(e.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<r&&(e.inclusive?n.maximum=e.value:n.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),St=r("$ZodCheckGreaterThan",(t,e)=>{It.init(t,e);const n=zt[typeof e.value];t._zod.onattach.push(t=>{const n=t._zod.bag,r=(e.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>r&&(e.inclusive?n.minimum=e.value:n.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Et=r("$ZodCheckMultipleOf",(t,e)=>{It.init(t,e),t._zod.onattach.push(t=>{var n;(n=t._zod.bag).multipleOf??(n.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof n.value?n.value%e.value===BigInt(0):0===function(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let o=(r.split(".")[1]||"").length;if(0===o&&/\d?e-\d?/.test(r)){const t=r.match(/\d?e-(\d?)/);t?.[1]&&(o=Number.parseInt(t[1]))}const i=n>o?n:o;return Number.parseInt(t.toFixed(i).replace(".",""))%Number.parseInt(e.toFixed(i).replace(".",""))/10**i}(n.value,e.value))||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),Ct=r("$ZodCheckNumberFormat",(t,e)=>{It.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[o,i]=S[e.format];t._zod.onattach.push(t=>{const r=t._zod.bag;r.format=e.format,r.minimum=o,r.maximum=i,n&&(r.pattern=bt)}),t._zod.check=a=>{const s=a.value;if(n){if(!Number.isInteger(s))return void a.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:s,inst:t});if(!Number.isSafeInteger(s))return void(s>0?a.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):a.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}))}s<o&&a.issues.push({origin:"number",input:s,code:"too_small",minimum:o,inclusive:!0,inst:t,continue:!e.abort}),s>i&&a.issues.push({origin:"number",input:s,code:"too_big",maximum:i,inst:t})}}),jt=r("$ZodCheckMaxLength",(t,e)=>{var n;It.init(t,e),(n=t._zod.def).when??(n.when=t=>{const e=t.value;return!h(e)&&void 0!==e.length}),t._zod.onattach.push(t=>{const n=t._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<n&&(t._zod.bag.maximum=e.maximum)}),t._zod.check=n=>{const r=n.value;if(r.length<=e.maximum)return;const o=$(r);n.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),Pt=r("$ZodCheckMinLength",(t,e)=>{var n;It.init(t,e),(n=t._zod.def).when??(n.when=t=>{const e=t.value;return!h(e)&&void 0!==e.length}),t._zod.onattach.push(t=>{const n=t._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>n&&(t._zod.bag.minimum=e.minimum)}),t._zod.check=n=>{const r=n.value;if(r.length>=e.minimum)return;const o=$(r);n.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),$t=r("$ZodCheckLengthEquals",(t,e)=>{var n;It.init(t,e),(n=t._zod.def).when??(n.when=t=>{const e=t.value;return!h(e)&&void 0!==e.length}),t._zod.onattach.push(t=>{const n=t._zod.bag;n.minimum=e.length,n.maximum=e.length,n.length=e.length}),t._zod.check=n=>{const r=n.value,o=r.length;if(o===e.length)return;const i=$(r),a=o>e.length;n.issues.push({origin:i,...a?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:n.value,inst:t,continue:!e.abort})}}),At=r("$ZodCheckStringFormat",(t,e)=>{var n,r;It.init(t,e),t._zod.onattach.push(t=>{const n=t._zod.bag;n.format=e.format,e.pattern&&(n.patterns??(n.patterns=new Set),n.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=n=>{e.pattern.lastIndex=0,e.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:e.format,input:n.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),Nt=r("$ZodCheckRegex",(t,e)=>{At.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,e.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),Tt=r("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=kt),At.init(t,e)}),Vt=r("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=Mt),At.init(t,e)}),Zt=r("$ZodCheckIncludes",(t,e)=>{It.init(t,e);const n=M(e.includes),r=new RegExp("number"==typeof e.position?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(t=>{const e=t._zod.bag;e.patterns??(e.patterns=new Set),e.patterns.add(r)}),t._zod.check=n=>{n.value.includes(e.includes,e.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:n.value,inst:t,continue:!e.abort})}}),Bt=r("$ZodCheckStartsWith",(t,e)=>{It.init(t,e);const n=new RegExp(`^${M(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(t=>{const e=t._zod.bag;e.patterns??(e.patterns=new Set),e.patterns.add(n)}),t._zod.check=n=>{n.value.startsWith(e.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:n.value,inst:t,continue:!e.abort})}}),Rt=r("$ZodCheckEndsWith",(t,e)=>{It.init(t,e);const n=new RegExp(`.*${M(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(t=>{const e=t._zod.bag;e.patterns??(e.patterns=new Set),e.patterns.add(n)}),t._zod.check=n=>{n.value.endsWith(e.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:n.value,inst:t,continue:!e.abort})}});const Lt=r("$ZodCheckOverwrite",(t,e)=>{It.init(t,e),t._zod.check=t=>{t.value=e.tx(t.value)}});class Ft{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if("function"==typeof t)return t(this,{execution:"sync"}),void t(this,{execution:"async"});const e=t.split("\n").filter(t=>t),n=Math.min(...e.map(t=>t.length-t.trimStart().length)),r=e.map(t=>t.slice(n)).map(t=>" ".repeat(2*this.indent)+t);for(const o of r)this.content.push(o)}compile(){const t=Function,e=this?.args;return new t(...e,[...(this?.content??[""]).map(t=>`  ${t}`)].join("\n"))}}const Dt={major:4,minor:1,patch:12},Ut=r("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=Dt;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const o of r)for(const e of o._zod.onattach)e(t);if(0===r.length)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const e=(t,e,n)=>{let r,i=E(t);for(const a of e){if(a._zod.def.when){if(!a._zod.def.when(t))continue}else if(i)continue;const e=t.issues.length,s=a._zod.check(t);if(s instanceof Promise&&!1===n?.async)throw new o;if(r||s instanceof Promise)r=(r??Promise.resolve()).then(async()=>{await s;t.issues.length!==e&&(i||(i=E(t,e)))});else{if(t.issues.length===e)continue;i||(i=E(t,e))}}return r?r.then(()=>t):t},n=(n,i,a)=>{if(E(n))return n.aborted=!0,n;const s=e(i,r,a);if(s instanceof Promise){if(!1===a.async)throw new o;return s.then(e=>t._zod.parse(e,a))}return t._zod.parse(s,a)};t._zod.run=(i,a)=>{if(a.skipChecks)return t._zod.parse(i,a);if("backward"===a.direction){const e=t._zod.parse({value:i.value,issues:[]},{...a,skipChecks:!0});return e instanceof Promise?e.then(t=>n(t,i,a)):n(e,i,a)}const s=t._zod.parse(i,a);if(s instanceof Promise){if(!1===a.async)throw new o;return s.then(t=>e(t,r,a))}return e(s,r,a)}}t["~standard"]={validate:e=>{try{const n=L(t,e);return n.success?{value:n.data}:{issues:n.error?.issues}}catch(n){return D(t,e).then(t=>t.success?{value:t.data}:{issues:t.error?.issues})}},vendor:"zod",version:1}}),qt=r("$ZodString",(t,e)=>{var n;Ut.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??(n=t._zod.bag,new RegExp(`^${n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*"}$`)),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch(r){}return"string"==typeof n.value||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Wt=r("$ZodStringFormat",(t,e)=>{At.init(t,e),qt.init(t,e)}),Gt=r("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=it),Wt.init(t,e)}),Xt=r("$ZodUUID",(t,e)=>{if(e.version){const t={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(void 0===t)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=at(t))}else e.pattern??(e.pattern=at());Wt.init(t,e)}),Yt=r("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=st),Wt.init(t,e)}),Jt=r("$ZodURL",(t,e)=>{Wt.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);return e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:pt.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),void(e.normalize?n.value=o.href:n.value=r)}catch(r){n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),Ht=r("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Wt.init(t,e)}),Qt=r("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=rt),Wt.init(t,e)}),Kt=r("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=Q),Wt.init(t,e)}),te=r("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=K),Wt.init(t,e)}),ee=r("$ZodULID",(t,e)=>{e.pattern??(e.pattern=tt),Wt.init(t,e)}),ne=r("$ZodXID",(t,e)=>{e.pattern??(e.pattern=et),Wt.init(t,e)}),re=r("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=nt),Wt.init(t,e)}),oe=r("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=function(t){const e=yt({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${vt}T(?:${r})$`)}(e)),Wt.init(t,e)}),ie=r("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=mt),Wt.init(t,e)}),ae=r("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=new RegExp(`^${yt(e)}$`)),Wt.init(t,e)}),se=r("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=ot),Wt.init(t,e)}),ue=r("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=ut),Wt.init(t,e),t._zod.onattach.push(t=>{t._zod.bag.format="ipv4"})}),le=r("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=lt),Wt.init(t,e),t._zod.onattach.push(t=>{t._zod.bag.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),ce=r("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=ct),Wt.init(t,e)}),he=r("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=ht),Wt.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(2!==r.length)throw new Error;const[t,e]=r;if(!e)throw new Error;const n=Number(e);if(`${n}`!==e)throw new Error;if(n<0||n>128)throw new Error;new URL(`http://[${t}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function fe(t){if(""===t)return!0;if(t.length%4!=0)return!1;try{return atob(t),!0}catch{return!1}}const de=r("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=ft),Wt.init(t,e),t._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{fe(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});const pe=r("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=dt),Wt.init(t,e),t._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{(function(t){if(!dt.test(t))return!1;const e=t.replace(/[-_]/g,t=>"-"===t?"+":"/");return fe(e.padEnd(4*Math.ceil(e.length/4),"="))})(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),ge=r("$ZodE164",(t,e)=>{e.pattern??(e.pattern=gt),Wt.init(t,e)});const ve=r("$ZodJWT",(t,e)=>{Wt.init(t,e),t._zod.check=n=>{(function(t,e=null){try{const n=t.split(".");if(3!==n.length)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&"JWT"!==o?.typ||!o.alg||e&&(!("alg"in o)||o.alg!==e))}catch{return!1}})(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),me=r("$ZodNumber",(t,e)=>{Ut.init(t,e),t._zod.pattern=t._zod.bag.pattern??wt,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch(a){}const o=n.value;if("number"==typeof o&&!Number.isNaN(o)&&Number.isFinite(o))return n;const i="number"==typeof o?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:t,...i?{received:i}:{}}),n}}),ye=r("$ZodNumber",(t,e)=>{Ct.init(t,e),me.init(t,e)}),be=r("$ZodBoolean",(t,e)=>{Ut.init(t,e),t._zod.pattern=xt,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Boolean(n.value)}catch(i){}const o=n.value;return"boolean"==typeof o||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:t}),n}}),we=r("$ZodNull",(t,e)=>{Ut.init(t,e),t._zod.pattern=_t,t._zod.values=new Set([null]),t._zod.parse=(e,n)=>{const r=e.value;return null===r||e.issues.push({expected:"null",code:"invalid_type",input:r,inst:t}),e}}),xe=r("$ZodAny",(t,e)=>{Ut.init(t,e),t._zod.parse=t=>t}),_e=r("$ZodUnknown",(t,e)=>{Ut.init(t,e),t._zod.parse=t=>t}),ke=r("$ZodNever",(t,e)=>{Ut.init(t,e),t._zod.parse=(e,n)=>(e.issues.push({expected:"never",code:"invalid_type",input:e.value,inst:t}),e)});function Me(t,e,n){t.issues.length&&e.issues.push(...C(n,t.issues)),e.value[n]=t.value}const Ie=r("$ZodArray",(t,e)=>{Ut.init(t,e),t._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:t}),n;n.value=Array(o.length);const i=[];for(let t=0;t<o.length;t++){const a=o[t],s=e.element._zod.run({value:a,issues:[]},r);s instanceof Promise?i.push(s.then(e=>Me(e,n,t))):Me(s,n,t)}return i.length?Promise.all(i).then(()=>n):n}});function ze(t,e,n,r){t.issues.length&&e.issues.push(...C(n,t.issues)),void 0===t.value?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function Oe(t){const e=Object.keys(t.shape);for(const o of e)if(!t.shape?.[o]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const n=(r=t.shape,Object.keys(r).filter(t=>"optional"===r[t]._zod.optin&&"optional"===r[t]._zod.optout));var r;return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function Se(t,e,n,r,o,i){const a=[],s=o.keySet,u=o.catchall._zod,l=u.def.type;for(const c of Object.keys(e)){if(s.has(c))continue;if("never"===l){a.push(c);continue}const o=u.run({value:e[c],issues:[]},r);o instanceof Promise?t.push(o.then(t=>ze(t,n,c,e))):ze(o,n,c,e)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:e,inst:i}),t.length?Promise.all(t).then(()=>n):n}const Ee=r("$ZodObject",(t,e)=>{Ut.init(t,e);const n=Object.getOwnPropertyDescriptor(e,"shape");if(!n?.get){const t=e.shape;Object.defineProperty(e,"shape",{get:()=>{const n={...t};return Object.defineProperty(e,"shape",{value:n}),n}})}const r=c(()=>Oe(e));p(t._zod,"propValues",()=>{const t=e.shape,n={};for(const e in t){const r=t[e]._zod;if(r.values){n[e]??(n[e]=new Set);for(const t of r.values)n[e].add(t)}}return n});const o=b,i=e.catchall;let a;t._zod.parse=(e,n)=>{a??(a=r.value);const s=e.value;if(!o(s))return e.issues.push({expected:"object",code:"invalid_type",input:s,inst:t}),e;e.value={};const u=[],l=a.shape;for(const t of a.keys){const r=l[t]._zod.run({value:s[t],issues:[]},n);r instanceof Promise?u.push(r.then(n=>ze(n,e,t,s))):ze(r,e,t,s)}return i?Se(u,s,e,n,r.value,t):u.length?Promise.all(u).then(()=>e):e}}),Ce=r("$ZodObjectJIT",(t,e)=>{Ee.init(t,e);const n=t._zod.parse,r=c(()=>Oe(e));let o;const i=b,s=!a.jitless,u=s&&w.value,l=e.catchall;let h;t._zod.parse=(a,c)=>{h??(h=r.value);const f=a.value;return i(f)?s&&u&&!1===c?.async&&!0!==c.jitless?(o||(o=(t=>{const e=new Ft(["shape","payload","ctx"]),n=r.value,o=t=>{const e=m(t);return`shape[${e}]._zod.run({ value: input[${e}], issues: [] }, ctx)`};e.write("const input = payload.value;");const i=Object.create(null);let a=0;for(const r of n.keys)i[r]="key_"+a++;e.write("const newResult = {};");for(const r of n.keys){const t=i[r],n=m(r);e.write(`const ${t} = ${o(r)};`),e.write(`\n        if (${t}.issues.length) {\n          payload.issues = payload.issues.concat(${t}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${n}, ...iss.path] : [${n}]\n          })));\n        }\n        \n        \n        if (${t}.value === undefined) {\n          if (${n} in input) {\n            newResult[${n}] = undefined;\n          }\n        } else {\n          newResult[${n}] = ${t}.value;\n        }\n        \n      `)}e.write("payload.value = newResult;"),e.write("return payload;");const s=e.compile();return(e,n)=>s(t,e,n)})(e.shape)),a=o(a,c),l?Se([],f,a,c,h,t):a):n(a,c):(a.issues.push({expected:"object",code:"invalid_type",input:f,inst:t}),a)}});function je(t,e,n,r){for(const i of t)if(0===i.issues.length)return e.value=i.value,e;const o=t.filter(t=>!E(t));return 1===o.length?(e.value=o[0].value,o[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(t=>t.issues.map(t=>P(t,r,s())))}),e)}const Pe=r("$ZodUnion",(t,e)=>{Ut.init(t,e),p(t._zod,"optin",()=>e.options.some(t=>"optional"===t._zod.optin)?"optional":void 0),p(t._zod,"optout",()=>e.options.some(t=>"optional"===t._zod.optout)?"optional":void 0),p(t._zod,"values",()=>{if(e.options.every(t=>t._zod.values))return new Set(e.options.flatMap(t=>Array.from(t._zod.values)))}),p(t._zod,"pattern",()=>{if(e.options.every(t=>t._zod.pattern)){const t=e.options.map(t=>t._zod.pattern);return new RegExp(`^(${t.map(t=>f(t.source)).join("|")})$`)}});const n=1===e.options.length,r=e.options[0]._zod.run;t._zod.parse=(o,i)=>{if(n)return r(o,i);let a=!1;const s=[];for(const t of e.options){const e=t._zod.run({value:o.value,issues:[]},i);if(e instanceof Promise)s.push(e),a=!0;else{if(0===e.issues.length)return e;s.push(e)}}return a?Promise.all(s).then(e=>je(e,o,t,i)):je(s,o,t,i)}}),$e=r("$ZodDiscriminatedUnion",(t,e)=>{Pe.init(t,e);const n=t._zod.parse;p(t._zod,"propValues",()=>{const t={};for(const n of e.options){const r=n._zod.propValues;if(!r||0===Object.keys(r).length)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(n)}"`);for(const[e,n]of Object.entries(r)){t[e]||(t[e]=new Set);for(const r of n)t[e].add(r)}}return t});const r=c(()=>{const t=e.options,n=new Map;for(const r of t){const t=r._zod.propValues?.[e.discriminator];if(!t||0===t.size)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(r)}"`);for(const e of t){if(n.has(e))throw new Error(`Duplicate discriminator value "${String(e)}"`);n.set(e,r)}}return n});t._zod.parse=(o,i)=>{const a=o.value;if(!b(a))return o.issues.push({code:"invalid_type",expected:"object",input:a,inst:t}),o;const s=r.value.get(a?.[e.discriminator]);return s?s._zod.run(o,i):e.unionFallback?n(o,i):(o.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:e.discriminator,input:a,path:[e.discriminator],inst:t}),o)}}),Ae=r("$ZodIntersection",(t,e)=>{Ut.init(t,e),t._zod.parse=(t,n)=>{const r=t.value,o=e.left._zod.run({value:r,issues:[]},n),i=e.right._zod.run({value:r,issues:[]},n);return o instanceof Promise||i instanceof Promise?Promise.all([o,i]).then(([e,n])=>Te(t,e,n)):Te(t,o,i)}});function Ne(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t===+e)return{valid:!0,data:t};if(x(t)&&x(e)){const n=Object.keys(e),r=Object.keys(t).filter(t=>-1!==n.indexOf(t)),o={...t,...e};for(const i of r){const n=Ne(t[i],e[i]);if(!n.valid)return{valid:!1,mergeErrorPath:[i,...n.mergeErrorPath]};o[i]=n.data}return{valid:!0,data:o}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const o=Ne(t[r],e[r]);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Te(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),E(t))return t;const r=Ne(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const Ve=r("$ZodRecord",(t,e)=>{Ut.init(t,e),t._zod.parse=(n,r)=>{const o=n.value;if(!x(o))return n.issues.push({expected:"record",code:"invalid_type",input:o,inst:t}),n;const i=[];if(e.keyType._zod.values){const a=e.keyType._zod.values;n.value={};for(const t of a)if("string"==typeof t||"number"==typeof t||"symbol"==typeof t){const a=e.valueType._zod.run({value:o[t],issues:[]},r);a instanceof Promise?i.push(a.then(e=>{e.issues.length&&n.issues.push(...C(t,e.issues)),n.value[t]=e.value})):(a.issues.length&&n.issues.push(...C(t,a.issues)),n.value[t]=a.value)}let s;for(const t in o)a.has(t)||(s=s??[],s.push(t));s&&s.length>0&&n.issues.push({code:"unrecognized_keys",input:o,inst:t,keys:s})}else{n.value={};for(const a of Reflect.ownKeys(o)){if("__proto__"===a)continue;const u=e.keyType._zod.run({value:a,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(u.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(t=>P(t,r,s())),input:a,path:[a],inst:t}),n.value[u.value]=u.value;continue}const l=e.valueType._zod.run({value:o[a],issues:[]},r);l instanceof Promise?i.push(l.then(t=>{t.issues.length&&n.issues.push(...C(a,t.issues)),n.value[u.value]=t.value})):(l.issues.length&&n.issues.push(...C(a,l.issues)),n.value[u.value]=l.value)}}return i.length?Promise.all(i).then(()=>n):n}});const Ze=r("$ZodEnum",(t,e)=>{Ut.init(t,e);const n=function(t){const e=Object.values(t).filter(t=>"number"==typeof t);return Object.entries(t).filter(([t,n])=>-1===e.indexOf(+t)).map(([t,e])=>e)}(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(t=>k.has(typeof t)).map(t=>"string"==typeof t?M(t):t.toString()).join("|")})$`),t._zod.parse=(e,o)=>{const i=e.value;return r.has(i)||e.issues.push({code:"invalid_value",values:n,input:i,inst:t}),e}}),Be=r("$ZodLiteral",(t,e)=>{if(Ut.init(t,e),0===e.values.length)throw new Error("Cannot create literal schema with no valid values");t._zod.values=new Set(e.values),t._zod.pattern=new RegExp(`^(${e.values.map(t=>"string"==typeof t?M(t):t?M(t.toString()):String(t)).join("|")})$`),t._zod.parse=(n,r)=>{const o=n.value;return t._zod.values.has(o)||n.issues.push({code:"invalid_value",values:e.values,input:o,inst:t}),n}}),Re=r("$ZodTransform",(t,e)=>{Ut.init(t,e),t._zod.parse=(n,r)=>{if("backward"===r.direction)throw new i(t.constructor.name);const a=e.transform(n.value,n);if(r.async){return(a instanceof Promise?a:Promise.resolve(a)).then(t=>(n.value=t,n))}if(a instanceof Promise)throw new o;return n.value=a,n}});function Le(t,e){return t.issues.length&&void 0===e?{issues:[],value:void 0}:t}const Fe=r("$ZodOptional",(t,e)=>{Ut.init(t,e),t._zod.optin="optional",t._zod.optout="optional",p(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),p(t._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${f(t.source)})?$`):void 0}),t._zod.parse=(t,n)=>{if("optional"===e.innerType._zod.optin){const r=e.innerType._zod.run(t,n);return r instanceof Promise?r.then(e=>Le(e,t.value)):Le(r,t.value)}return void 0===t.value?t:e.innerType._zod.run(t,n)}}),De=r("$ZodNullable",(t,e)=>{Ut.init(t,e),p(t._zod,"optin",()=>e.innerType._zod.optin),p(t._zod,"optout",()=>e.innerType._zod.optout),p(t._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${f(t.source)}|null)$`):void 0}),p(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(t,n)=>null===t.value?t:e.innerType._zod.run(t,n)}),Ue=r("$ZodDefault",(t,e)=>{Ut.init(t,e),t._zod.optin="optional",p(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(t,n)=>{if("backward"===n.direction)return e.innerType._zod.run(t,n);if(void 0===t.value)return t.value=e.defaultValue,t;const r=e.innerType._zod.run(t,n);return r instanceof Promise?r.then(t=>qe(t,e)):qe(r,e)}});function qe(t,e){return void 0===t.value&&(t.value=e.defaultValue),t}const We=r("$ZodPrefault",(t,e)=>{Ut.init(t,e),t._zod.optin="optional",p(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(t,n)=>("backward"===n.direction||void 0===t.value&&(t.value=e.defaultValue),e.innerType._zod.run(t,n))}),Ge=r("$ZodNonOptional",(t,e)=>{Ut.init(t,e),p(t._zod,"values",()=>{const t=e.innerType._zod.values;return t?new Set([...t].filter(t=>void 0!==t)):void 0}),t._zod.parse=(n,r)=>{const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(e=>Xe(e,t)):Xe(o,t)}});function Xe(t,e){return t.issues.length||void 0!==t.value||t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const Ye=r("$ZodCatch",(t,e)=>{Ut.init(t,e),p(t._zod,"optin",()=>e.innerType._zod.optin),p(t._zod,"optout",()=>e.innerType._zod.optout),p(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(t,n)=>{if("backward"===n.direction)return e.innerType._zod.run(t,n);const r=e.innerType._zod.run(t,n);return r instanceof Promise?r.then(r=>(t.value=r.value,r.issues.length&&(t.value=e.catchValue({...t,error:{issues:r.issues.map(t=>P(t,n,s()))},input:t.value}),t.issues=[]),t)):(t.value=r.value,r.issues.length&&(t.value=e.catchValue({...t,error:{issues:r.issues.map(t=>P(t,n,s()))},input:t.value}),t.issues=[]),t)}}),Je=r("$ZodPipe",(t,e)=>{Ut.init(t,e),p(t._zod,"values",()=>e.in._zod.values),p(t._zod,"optin",()=>e.in._zod.optin),p(t._zod,"optout",()=>e.out._zod.optout),p(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(t,n)=>{if("backward"===n.direction){const r=e.out._zod.run(t,n);return r instanceof Promise?r.then(t=>He(t,e.in,n)):He(r,e.in,n)}const r=e.in._zod.run(t,n);return r instanceof Promise?r.then(t=>He(t,e.out,n)):He(r,e.out,n)}});function He(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const Qe=r("$ZodReadonly",(t,e)=>{Ut.init(t,e),p(t._zod,"propValues",()=>e.innerType._zod.propValues),p(t._zod,"values",()=>e.innerType._zod.values),p(t._zod,"optin",()=>e.innerType._zod.optin),p(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(t,n)=>{if("backward"===n.direction)return e.innerType._zod.run(t,n);const r=e.innerType._zod.run(t,n);return r instanceof Promise?r.then(Ke):Ke(r)}});function Ke(t){return t.value=Object.freeze(t.value),t}const tn=r("$ZodCustom",(t,e)=>{It.init(t,e),Ut.init(t,e),t._zod.parse=(t,e)=>t,t._zod.check=n=>{const r=n.value,o=e.fn(r);if(o instanceof Promise)return o.then(e=>en(e,n,r,t));en(o,n,r,t)}});function en(t,e,n,r){if(!t){const t={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(t.params=r._zod.def.params),e.issues.push(A(t))}}const nn=()=>{const t={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function e(e){return t[e]??null}const n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return t=>{switch(t.code){case"invalid_type":return`Invalid input: expected ${t.expected}, received ${(t=>{const e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"number";case"object":if(Array.isArray(t))return"array";if(null===t)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}return e})(t.input)}`;case"invalid_value":return 1===t.values.length?`Invalid input: expected ${O(t.values[0])}`:`Invalid option: expected one of ${u(t.values,"|")}`;case"too_big":{const n=t.inclusive?"<=":"<",r=e(t.origin);return r?`Too big: expected ${t.origin??"value"} to have ${n}${t.maximum.toString()} ${r.unit??"elements"}`:`Too big: expected ${t.origin??"value"} to be ${n}${t.maximum.toString()}`}case"too_small":{const n=t.inclusive?">=":">",r=e(t.origin);return r?`Too small: expected ${t.origin} to have ${n}${t.minimum.toString()} ${r.unit}`:`Too small: expected ${t.origin} to be ${n}${t.minimum.toString()}`}case"invalid_format":{const e=t;return"starts_with"===e.format?`Invalid string: must start with "${e.prefix}"`:"ends_with"===e.format?`Invalid string: must end with "${e.suffix}"`:"includes"===e.format?`Invalid string: must include "${e.includes}"`:"regex"===e.format?`Invalid string: must match pattern ${e.pattern}`:`Invalid ${n[e.format]??t.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${t.divisor}`;case"unrecognized_keys":return`Unrecognized key${t.keys.length>1?"s":""}: ${u(t.keys,", ")}`;case"invalid_key":return`Invalid key in ${t.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${t.origin}`}}};Symbol("ZodOutput"),Symbol("ZodInput");class rn{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...e){const n=e[0];if(this._map.set(t,n),n&&"object"==typeof n&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const e=this._map.get(t);return e&&"object"==typeof e&&"id"in e&&this._idmap.delete(e.id),this._map.delete(t),this}get(t){const e=t._zod.parent;if(e){const n={...this.get(e)??{}};delete n.id;const r={...n,...this._map.get(t)};return Object.keys(r).length?r:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function on(){return new rn}const an=on();function sn(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...z(e)})}function un(t,e){return new Ot({check:"less_than",...z(e),value:t,inclusive:!1})}function ln(t,e){return new Ot({check:"less_than",...z(e),value:t,inclusive:!0})}function cn(t,e){return new St({check:"greater_than",...z(e),value:t,inclusive:!1})}function hn(t,e){return new St({check:"greater_than",...z(e),value:t,inclusive:!0})}function fn(t,e){return new Et({check:"multiple_of",...z(e),value:t})}function dn(t,e){return new jt({check:"max_length",...z(e),maximum:t})}function pn(t,e){return new Pt({check:"min_length",...z(e),minimum:t})}function gn(t,e){return new $t({check:"length_equals",...z(e),length:t})}function vn(t){return new Lt({check:"overwrite",tx:t})}function mn(t){const e=function(t,e){const n=new It({check:"custom",...z(e)});return n._zod.check=t,n}(n=>(n.addIssue=t=>{if("string"==typeof t)n.issues.push(A(t,n.value,e._zod.def));else{const r=t;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=e),r.continue??(r.continue=!e._zod.def.abort),n.issues.push(A(r))}},t(n.value,n)));return e}const yn=r("ZodISODateTime",(t,e)=>{oe.init(t,e),qn.init(t,e)});function bn(t){return function(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...z(e)})}(yn,t)}const wn=r("ZodISODate",(t,e)=>{ie.init(t,e),qn.init(t,e)});function xn(t){return function(t,e){return new t({type:"string",format:"date",check:"string_format",...z(e)})}(wn,t)}const _n=r("ZodISOTime",(t,e)=>{ae.init(t,e),qn.init(t,e)});function kn(t){return function(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...z(e)})}(_n,t)}const Mn=r("ZodISODuration",(t,e)=>{se.init(t,e),qn.init(t,e)});function In(t){return function(t,e){return new t({type:"string",format:"duration",check:"string_format",...z(e)})}(Mn,t)}const zn=(t,e)=>{T.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:e=>function(t,e=t=>t.message){const n={_errors:[]},r=t=>{for(const o of t.issues)if("invalid_union"===o.code&&o.errors.length)o.errors.map(t=>r({issues:t}));else if("invalid_key"===o.code)r({issues:o.issues});else if("invalid_element"===o.code)r({issues:o.issues});else if(0===o.path.length)n._errors.push(e(o));else{let t=n,r=0;for(;r<o.path.length;){const n=o.path[r];r===o.path.length-1?(t[n]=t[n]||{_errors:[]},t[n]._errors.push(e(o))):t[n]=t[n]||{_errors:[]},t=t[n],r++}}};return r(t),n}(t,e)},flatten:{value:e=>function(t,e=t=>t.message){const n={},r=[];for(const o of t.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(e(o))):r.push(e(o));return{formErrors:r,fieldErrors:n}}(t,e)},addIssue:{value:e=>{t.issues.push(e),t.message=JSON.stringify(t.issues,l,2)}},addIssues:{value:e=>{t.issues.push(...e),t.message=JSON.stringify(t.issues,l,2)}},isEmpty:{get:()=>0===t.issues.length}})},On=r("ZodError",zn),Sn=r("ZodError",zn,{Parent:Error}),En=Z(Sn),Cn=B(Sn),jn=R(Sn),Pn=F(Sn),$n=U(Sn),An=q(Sn),Nn=W(Sn),Tn=G(Sn),Vn=X(Sn),Zn=Y(Sn),Bn=J(Sn),Rn=H(Sn),Ln=r("ZodType",(t,e)=>(Ut.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(v(e,{checks:[...e.checks??[],...n.map(t=>"function"==typeof t?{_zod:{check:t,def:{check:"custom"},onattach:[]}}:t)]})),t.clone=(e,n)=>I(t,e,n),t.brand=()=>t,t.register=(e,n)=>(e.add(t,n),t),t.parse=(e,n)=>En(t,e,n,{callee:t.parse}),t.safeParse=(e,n)=>jn(t,e,n),t.parseAsync=async(e,n)=>Cn(t,e,n,{callee:t.parseAsync}),t.safeParseAsync=async(e,n)=>Pn(t,e,n),t.spa=t.safeParseAsync,t.encode=(e,n)=>$n(t,e,n),t.decode=(e,n)=>An(t,e,n),t.encodeAsync=async(e,n)=>Nn(t,e,n),t.decodeAsync=async(e,n)=>Tn(t,e,n),t.safeEncode=(e,n)=>Vn(t,e,n),t.safeDecode=(e,n)=>Zn(t,e,n),t.safeEncodeAsync=async(e,n)=>Bn(t,e,n),t.safeDecodeAsync=async(e,n)=>Rn(t,e,n),t.refine=(e,n)=>t.check(function(t,e={}){return function(t,e,n){return new t({type:"custom",check:"custom",fn:e,...z(n)})}(Kr,t,e)}(e,n)),t.superRefine=e=>t.check(mn(e)),t.overwrite=e=>t.check(vn(e)),t.optional=()=>Dr(t),t.nullable=()=>qr(t),t.nullish=()=>Dr(qr(t)),t.nonoptional=e=>function(t,e){return new Xr({type:"nonoptional",innerType:t,...z(e)})}(t,e),t.array=()=>zr(t),t.or=e=>Cr([t,e]),t.and=e=>new $r({type:"intersection",left:t,right:e}),t.transform=e=>Hr(t,Lr(e)),t.default=e=>{return n=e,new Wr({type:"default",innerType:t,get defaultValue(){return"function"==typeof n?n():_(n)}});var n},t.prefault=e=>{return n=e,new Gr({type:"prefault",innerType:t,get defaultValue(){return"function"==typeof n?n():_(n)}});var n},t.catch=e=>{return new Yr({type:"catch",innerType:t,catchValue:"function"==typeof(n=e)?n:()=>n});var n},t.pipe=e=>Hr(t,e),t.readonly=()=>new Qr({type:"readonly",innerType:t}),t.describe=e=>{const n=t.clone();return an.add(n,{description:e}),n},Object.defineProperty(t,"description",{get:()=>an.get(t)?.description,configurable:!0}),t.meta=(...e)=>{if(0===e.length)return an.get(t);const n=t.clone();return an.add(n,e[0]),n},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),Fn=r("_ZodString",(t,e)=>{qt.init(t,e),Ln.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...e)=>t.check(function(t,e){return new Nt({check:"string_format",format:"regex",...z(e),pattern:t})}(...e)),t.includes=(...e)=>t.check(function(t,e){return new Zt({check:"string_format",format:"includes",...z(e),includes:t})}(...e)),t.startsWith=(...e)=>t.check(function(t,e){return new Bt({check:"string_format",format:"starts_with",...z(e),prefix:t})}(...e)),t.endsWith=(...e)=>t.check(function(t,e){return new Rt({check:"string_format",format:"ends_with",...z(e),suffix:t})}(...e)),t.min=(...e)=>t.check(pn(...e)),t.max=(...e)=>t.check(dn(...e)),t.length=(...e)=>t.check(gn(...e)),t.nonempty=(...e)=>t.check(pn(1,...e)),t.lowercase=e=>t.check(function(t){return new Tt({check:"string_format",format:"lowercase",...z(t)})}(e)),t.uppercase=e=>t.check(function(t){return new Vt({check:"string_format",format:"uppercase",...z(t)})}(e)),t.trim=()=>t.check(vn(t=>t.trim())),t.normalize=(...e)=>t.check(function(t){return vn(e=>e.normalize(t))}(...e)),t.toLowerCase=()=>t.check(vn(t=>t.toLowerCase())),t.toUpperCase=()=>t.check(vn(t=>t.toUpperCase()))}),Dn=r("ZodString",(t,e)=>{qt.init(t,e),Fn.init(t,e),t.email=e=>t.check(function(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...z(e)})}(Wn,e)),t.url=e=>t.check(function(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...z(e)})}(Yn,e)),t.jwt=e=>t.check(function(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...z(e)})}(cr,e)),t.emoji=e=>t.check(function(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...z(e)})}(Jn,e)),t.guid=e=>t.check(sn(Gn,e)),t.uuid=e=>t.check(function(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...z(e)})}(Xn,e)),t.uuidv4=e=>t.check(function(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...z(e)})}(Xn,e)),t.uuidv6=e=>t.check(function(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...z(e)})}(Xn,e)),t.uuidv7=e=>t.check(function(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...z(e)})}(Xn,e)),t.nanoid=e=>t.check(function(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...z(e)})}(Hn,e)),t.guid=e=>t.check(sn(Gn,e)),t.cuid=e=>t.check(function(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...z(e)})}(Qn,e)),t.cuid2=e=>t.check(function(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...z(e)})}(Kn,e)),t.ulid=e=>t.check(function(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...z(e)})}(tr,e)),t.base64=e=>t.check(function(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...z(e)})}(sr,e)),t.base64url=e=>t.check(function(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...z(e)})}(ur,e)),t.xid=e=>t.check(function(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...z(e)})}(er,e)),t.ksuid=e=>t.check(function(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...z(e)})}(nr,e)),t.ipv4=e=>t.check(function(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...z(e)})}(rr,e)),t.ipv6=e=>t.check(function(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...z(e)})}(or,e)),t.cidrv4=e=>t.check(function(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...z(e)})}(ir,e)),t.cidrv6=e=>t.check(function(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...z(e)})}(ar,e)),t.e164=e=>t.check(function(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...z(e)})}(lr,e)),t.datetime=e=>t.check(bn(e)),t.date=e=>t.check(xn(e)),t.time=e=>t.check(kn(e)),t.duration=e=>t.check(In(e))});function Un(t){return function(t,e){return new t({type:"string",...z(e)})}(Dn,t)}const qn=r("ZodStringFormat",(t,e)=>{Wt.init(t,e),Fn.init(t,e)}),Wn=r("ZodEmail",(t,e)=>{Yt.init(t,e),qn.init(t,e)});const Gn=r("ZodGUID",(t,e)=>{Gt.init(t,e),qn.init(t,e)});const Xn=r("ZodUUID",(t,e)=>{Xt.init(t,e),qn.init(t,e)});const Yn=r("ZodURL",(t,e)=>{Jt.init(t,e),qn.init(t,e)});const Jn=r("ZodEmoji",(t,e)=>{Ht.init(t,e),qn.init(t,e)});const Hn=r("ZodNanoID",(t,e)=>{Qt.init(t,e),qn.init(t,e)});const Qn=r("ZodCUID",(t,e)=>{Kt.init(t,e),qn.init(t,e)});const Kn=r("ZodCUID2",(t,e)=>{te.init(t,e),qn.init(t,e)});const tr=r("ZodULID",(t,e)=>{ee.init(t,e),qn.init(t,e)});const er=r("ZodXID",(t,e)=>{ne.init(t,e),qn.init(t,e)});const nr=r("ZodKSUID",(t,e)=>{re.init(t,e),qn.init(t,e)});const rr=r("ZodIPv4",(t,e)=>{ue.init(t,e),qn.init(t,e)});const or=r("ZodIPv6",(t,e)=>{le.init(t,e),qn.init(t,e)});const ir=r("ZodCIDRv4",(t,e)=>{ce.init(t,e),qn.init(t,e)});const ar=r("ZodCIDRv6",(t,e)=>{he.init(t,e),qn.init(t,e)});const sr=r("ZodBase64",(t,e)=>{de.init(t,e),qn.init(t,e)});const ur=r("ZodBase64URL",(t,e)=>{pe.init(t,e),qn.init(t,e)});const lr=r("ZodE164",(t,e)=>{ge.init(t,e),qn.init(t,e)});const cr=r("ZodJWT",(t,e)=>{ve.init(t,e),qn.init(t,e)});const hr=r("ZodNumber",(t,e)=>{me.init(t,e),Ln.init(t,e),t.gt=(e,n)=>t.check(cn(e,n)),t.gte=(e,n)=>t.check(hn(e,n)),t.min=(e,n)=>t.check(hn(e,n)),t.lt=(e,n)=>t.check(un(e,n)),t.lte=(e,n)=>t.check(ln(e,n)),t.max=(e,n)=>t.check(ln(e,n)),t.int=e=>t.check(pr(e)),t.safe=e=>t.check(pr(e)),t.positive=e=>t.check(cn(0,e)),t.nonnegative=e=>t.check(hn(0,e)),t.negative=e=>t.check(un(0,e)),t.nonpositive=e=>t.check(ln(0,e)),t.multipleOf=(e,n)=>t.check(fn(e,n)),t.step=(e,n)=>t.check(fn(e,n)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function fr(t){return function(t,e){return new t({type:"number",checks:[],...z(e)})}(hr,t)}const dr=r("ZodNumberFormat",(t,e)=>{ye.init(t,e),hr.init(t,e)});function pr(t){return function(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...z(e)})}(dr,t)}const gr=r("ZodBoolean",(t,e)=>{be.init(t,e),Ln.init(t,e)});function vr(t){return function(t,e){return new t({type:"boolean",...z(e)})}(gr,t)}const mr=r("ZodNull",(t,e)=>{we.init(t,e),Ln.init(t,e)});function yr(t){return function(t,e){return new t({type:"null",...z(e)})}(mr,t)}const br=r("ZodAny",(t,e)=>{xe.init(t,e),Ln.init(t,e)});function wr(){return function(t){return new t({type:"any"})}(br)}const xr=r("ZodUnknown",(t,e)=>{_e.init(t,e),Ln.init(t,e)});function _r(){return function(t){return new t({type:"unknown"})}(xr)}const kr=r("ZodNever",(t,e)=>{ke.init(t,e),Ln.init(t,e)});function Mr(t){return function(t,e){return new t({type:"never",...z(e)})}(kr,t)}const Ir=r("ZodArray",(t,e)=>{Ie.init(t,e),Ln.init(t,e),t.element=e.element,t.min=(e,n)=>t.check(pn(e,n)),t.nonempty=e=>t.check(pn(1,e)),t.max=(e,n)=>t.check(dn(e,n)),t.length=(e,n)=>t.check(gn(e,n)),t.unwrap=()=>t.element});function zr(t,e){return function(t,e,n){return new t({type:"array",element:e,...z(n)})}(Ir,t,e)}const Or=r("ZodObject",(t,e)=>{Ce.init(t,e),Ln.init(t,e),p(t,"shape",()=>e.shape),t.keyof=()=>Vr(Object.keys(t._zod.def.shape)),t.catchall=e=>t.clone({...t._zod.def,catchall:e}),t.passthrough=()=>t.clone({...t._zod.def,catchall:_r()}),t.loose=()=>t.clone({...t._zod.def,catchall:_r()}),t.strict=()=>t.clone({...t._zod.def,catchall:Mr()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=e=>function(t,e){if(!x(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=v(t._zod.def,{get shape(){const n={...t._zod.def.shape,...e};return g(this,"shape",n),n},checks:[]});return I(t,r)}(t,e),t.safeExtend=e=>function(t,e){if(!x(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const n={...t._zod.def.shape,...e};return g(this,"shape",n),n},checks:t._zod.def.checks};return I(t,n)}(t,e),t.merge=e=>function(t,e){const n=v(t._zod.def,{get shape(){const n={...t._zod.def.shape,...e._zod.def.shape};return g(this,"shape",n),n},get catchall(){return e._zod.def.catchall},checks:[]});return I(t,n)}(t,e),t.pick=e=>function(t,e){const n=t._zod.def;return I(t,v(t._zod.def,{get shape(){const t={};for(const r in e){if(!(r in n.shape))throw new Error(`Unrecognized key: "${r}"`);e[r]&&(t[r]=n.shape[r])}return g(this,"shape",t),t},checks:[]}))}(t,e),t.omit=e=>function(t,e){const n=t._zod.def,r=v(t._zod.def,{get shape(){const r={...t._zod.def.shape};for(const t in e){if(!(t in n.shape))throw new Error(`Unrecognized key: "${t}"`);e[t]&&delete r[t]}return g(this,"shape",r),r},checks:[]});return I(t,r)}(t,e),t.partial=(...e)=>function(t,e,n){const r=v(e._zod.def,{get shape(){const r=e._zod.def.shape,o={...r};if(n)for(const e in n){if(!(e in r))throw new Error(`Unrecognized key: "${e}"`);n[e]&&(o[e]=t?new t({type:"optional",innerType:r[e]}):r[e])}else for(const e in r)o[e]=t?new t({type:"optional",innerType:r[e]}):r[e];return g(this,"shape",o),o},checks:[]});return I(e,r)}(Fr,t,e[0]),t.required=(...e)=>function(t,e,n){const r=v(e._zod.def,{get shape(){const r=e._zod.def.shape,o={...r};if(n)for(const e in n){if(!(e in o))throw new Error(`Unrecognized key: "${e}"`);n[e]&&(o[e]=new t({type:"nonoptional",innerType:r[e]}))}else for(const e in r)o[e]=new t({type:"nonoptional",innerType:r[e]});return g(this,"shape",o),o},checks:[]});return I(e,r)}(Xr,t,e[0])});function Sr(t,e){const n={type:"object",shape:t??{},...z(e)};return new Or(n)}const Er=r("ZodUnion",(t,e)=>{Pe.init(t,e),Ln.init(t,e),t.options=e.options});function Cr(t,e){return new Er({type:"union",options:t,...z(e)})}const jr=r("ZodDiscriminatedUnion",(t,e)=>{Er.init(t,e),$e.init(t,e)});function Pr(t,e,n){return new jr({type:"union",options:e,discriminator:t,...z(n)})}const $r=r("ZodIntersection",(t,e)=>{Ae.init(t,e),Ln.init(t,e)});const Ar=r("ZodRecord",(t,e)=>{Ve.init(t,e),Ln.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function Nr(t,e,n){return new Ar({type:"record",keyType:t,valueType:e,...z(n)})}const Tr=r("ZodEnum",(t,e)=>{Ze.init(t,e),Ln.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(t,r)=>{const o={};for(const i of t){if(!n.has(i))throw new Error(`Key ${i} not found in enum`);o[i]=e.entries[i]}return new Tr({...e,checks:[],...z(r),entries:o})},t.exclude=(t,r)=>{const o={...e.entries};for(const e of t){if(!n.has(e))throw new Error(`Key ${e} not found in enum`);delete o[e]}return new Tr({...e,checks:[],...z(r),entries:o})}});function Vr(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(t=>[t,t])):t;return new Tr({type:"enum",entries:n,...z(e)})}const Zr=r("ZodLiteral",(t,e)=>{Be.init(t,e),Ln.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function Br(t,e){return new Zr({type:"literal",values:Array.isArray(t)?t:[t],...z(e)})}const Rr=r("ZodTransform",(t,e)=>{Re.init(t,e),Ln.init(t,e),t._zod.parse=(n,r)=>{if("backward"===r.direction)throw new i(t.constructor.name);n.addIssue=r=>{if("string"==typeof r)n.issues.push(A(r,n.value,e));else{const e=r;e.fatal&&(e.continue=!1),e.code??(e.code="custom"),e.input??(e.input=n.value),e.inst??(e.inst=t),n.issues.push(A(e))}};const o=e.transform(n.value,n);return o instanceof Promise?o.then(t=>(n.value=t,n)):(n.value=o,n)}});function Lr(t){return new Rr({type:"transform",transform:t})}const Fr=r("ZodOptional",(t,e)=>{Fe.init(t,e),Ln.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Dr(t){return new Fr({type:"optional",innerType:t})}const Ur=r("ZodNullable",(t,e)=>{De.init(t,e),Ln.init(t,e),t.unwrap=()=>t._zod.def.innerType});function qr(t){return new Ur({type:"nullable",innerType:t})}const Wr=r("ZodDefault",(t,e)=>{Ue.init(t,e),Ln.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});const Gr=r("ZodPrefault",(t,e)=>{We.init(t,e),Ln.init(t,e),t.unwrap=()=>t._zod.def.innerType});const Xr=r("ZodNonOptional",(t,e)=>{Ge.init(t,e),Ln.init(t,e),t.unwrap=()=>t._zod.def.innerType});const Yr=r("ZodCatch",(t,e)=>{Ye.init(t,e),Ln.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});const Jr=r("ZodPipe",(t,e)=>{Je.init(t,e),Ln.init(t,e),t.in=e.in,t.out=e.out});function Hr(t,e){return new Jr({type:"pipe",in:t,out:e})}const Qr=r("ZodReadonly",(t,e)=>{Qe.init(t,e),Ln.init(t,e),t.unwrap=()=>t._zod.def.innerType});const Kr=r("ZodCustom",(t,e)=>{tn.init(t,e),Ln.init(t,e)});function to(t,e){return function(t,e,n){const r=z(n);return r.abort??(r.abort=!0),new t({type:"custom",check:"custom",fn:e,...r})}(Kr,t??(()=>!0),e)}const eo={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};var no;no||(no={}),s({localeError:nn()})},8860:(t,e,n)=>{"use strict";n.d(e,{l:()=>c});var r=n(201),o=n(172),i=n(5561),a=n(7952);const s={position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",background:"#f7f7f7",border:"0.5px solid #eaeaea",marginTop:"6px",padding:"2px 0",width:"18px",userSelect:"none",pointerEvents:"auto"},u={cursor:"pointer",fontSize:"14px",fontWeight:"500",margin:"-4px"},l={display:"inline-block",height:"100px",padding:"0",width:"10px"};class c extends a.x{static defaultProps={id:"zoom-range",viewId:null,placement:"top-left",minZoom:void 0,maxZoom:void 0,step:.1,style:{},className:""};placement="top-left";className="deck-widget-zoom-range";deck=null;step;currentZoom=0;inferredMinZoom=null;inferredMaxZoom=null;constructor(t={}){super({...c.defaultProps,...t}),this.viewId=t.viewId??null,this.placement=t.placement??"top-left",this.step=t.step??c.defaultProps.step}setProps(t){void 0!==t.viewId&&(this.viewId=t.viewId),void 0!==t.placement&&(this.placement=t.placement),void 0!==t.step&&(this.step=t.step),super.setProps(t)}onAdd({deck:t,viewId:e}){this.deck=t,void 0===this.viewId&&(this.viewId=e)}onRemove(){this.deck=null}onRenderHTML(t){const e={...s,...this.props.style};Object.assign(t.style,e);const{minZoom:n,maxZoom:a}=this.getZoomBounds(),c=Math.max(n,Math.min(a,this.currentZoom)),h=t=>{t.stopPropagation(),"function"==typeof t.stopImmediatePropagation&&t.stopImmediatePropagation()},f=(0,r.FD)(r.FK,{children:[(0,r.Y)("div",{style:u,children:(0,r.Y)(i.W,{onClick:()=>this.handleZoomDelta(this.step),children:"+"})}),(0,r.Y)("div",{style:l,onPointerDown:h,onPointerMove:h,onPointerUp:h,onMouseDown:h,onMouseMove:h,onMouseUp:h,onClick:h,onWheel:h,onTouchStart:h,onTouchMove:h,onTouchEnd:h,children:(0,r.Y)("input",{type:"range",value:c,min:n,max:a,step:this.step,onInput:t=>this.handleZoomTo(Number(t.target.value)),onChange:t=>this.handleZoomTo(Number(t.target.value)),onPointerDown:h,onPointerMove:h,onPointerUp:h,onMouseDown:h,onMouseMove:h,onMouseUp:h,onClick:h,onWheel:h,onTouchStart:h,onTouchMove:h,onTouchEnd:h,orient:"vertical",style:{writingMode:"vertical-lr",height:"100px",padding:"0",margin:"0",width:"10px"}})}),(0,r.Y)("div",{style:u,children:(0,r.Y)(i.W,{onClick:()=>this.handleZoomDelta(-this.step),children:"-"})})]});(0,o.XX)(f,t)}onViewportChange(t){const e=this.getViewState(t),n=Number(e?.zoom);if(Number.isFinite(n)&&(this.currentZoom=n),void 0===this.props.minZoom){const t=Number(e?.minZoom);Number.isFinite(t)&&(this.inferredMinZoom=t)}if(void 0===this.props.maxZoom){const t=Number(e?.maxZoom);Number.isFinite(t)&&(this.inferredMaxZoom=t)}this.updateHTML()}getZoomBounds(){const t=this.props.minZoom??this.inferredMinZoom??Number.NEGATIVE_INFINITY,e=this.props.maxZoom??this.inferredMaxZoom??Number.POSITIVE_INFINITY;return t>e?{minZoom:e,maxZoom:t}:{minZoom:Number.isFinite(t)?t:-20,maxZoom:Number.isFinite(e)?e:20}}getTargetViewports(){const t=this.deck;if(!t)return[];if(this.viewId){const e=t.viewManager?.getViewport(this.viewId);return e?[e]:[]}return t.getViewports()}getViewState(t){const e=this.deck?.viewManager,n=this.viewId||t.id;if(e)try{return{...e.getViewState(n)}}catch(r){return{...e.viewState}}return{...t}}handleZoomDelta(t){const{minZoom:e,maxZoom:n}=this.getZoomBounds();for(const r of this.getTargetViewports()){const o=this.getViewState(r),i=Number(o.zoom),a=Number.isFinite(i)?i:this.currentZoom,s=Math.max(e,Math.min(n,a+t));this.updateViewState(r,{...o,zoom:s})}}handleZoomTo(t){const{minZoom:e,maxZoom:n}=this.getZoomBounds(),r=Math.max(e,Math.min(n,t));for(const o of this.getTargetViewports()){const t=this.getViewState(o);this.updateViewState(o,{...t,zoom:r})}}updateViewState(t,e){if(!this.deck)return;const n=this.viewId||t.id||"default-view";this.currentZoom=Number(e.zoom)||this.currentZoom,this.updateHTML(),this.deck._onViewStateChange({viewId:n,viewState:e,interactionState:{}})}}},8900:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>c,RZ:()=>h});var r=n(5811),o=n(7025),i=n(5758);function a(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function s(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function u(t){return t<0?-t*t:t*t}function l(t){var e=t(o.D_,o.D_),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t(o.D_,o.D_):.5===n?t(s,u):t(a(n),a(1/n)):n},(0,r.C)(e)}function c(){var t=l((0,o.Gu)());return t.copy=function(){return(0,o.C)(t,c()).exponent(t.exponent())},i.C.apply(t,arguments),t}function h(){return c.apply(null,arguments).exponent(.5)}},9048:(t,e,n)=>{"use strict";n.d(e,{A:()=>p});var r=n(7119),o=n(2607);var i=n(7025),a=n(5758);function s(t){return Math.log(t)}function u(t){return Math.exp(t)}function l(t){return-Math.log(-t)}function c(t){return-Math.exp(-t)}function h(t){return isFinite(t)?+("1e"+t):t<0?0:t}function f(t){return function(e){return-t(-e)}}function d(t){var e,n,i=t(s,u),a=i.domain,d=10;function p(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(d),n=function(t){return 10===t?h:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(d),a()[0]<0?(e=f(e),n=f(n),t(l,c)):t(s,u),i}return i.base=function(t){return arguments.length?(d=+t,p()):d},i.domain=function(t){return arguments.length?(a(t),p()):a()},i.ticks=function(t){var o,i=a(),s=i[0],u=i[i.length-1];(o=u<s)&&(f=s,s=u,u=f);var l,c,h,f=e(s),p=e(u),g=null==t?10:+t,v=[];if(!(d%1)&&p-f<g){if(f=Math.floor(f),p=Math.ceil(p),s>0){for(;f<=p;++f)for(c=1,l=n(f);c<d;++c)if(!((h=l*c)<s)){if(h>u)break;v.push(h)}}else for(;f<=p;++f)for(c=d-1,l=n(f);c>=1;--c)if(!((h=l*c)<s)){if(h>u)break;v.push(h)}2*v.length<g&&(v=(0,r.Ay)(s,u,g))}else v=(0,r.Ay)(f,p,Math.min(p-f,g)).map(n);return o?v.reverse():v},i.tickFormat=function(t,r){if(null==r&&(r=10===d?".0e":","),"function"!=typeof r&&(r=(0,o.GP)(r)),t===1/0)return r;null==t&&(t=10);var a=Math.max(1,d*t/i.ticks().length);return function(t){var o=t/n(Math.round(e(t)));return o*d<d-.5&&(o*=d),o<=a?r(t):""}},i.nice=function(){return a(function(t,e){var n,r=0,o=(t=t.slice()).length-1,i=t[r],a=t[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),t[r]=e.floor(i),t[o]=e.ceil(a),t}(a(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},i}function p(){var t=d((0,i.Gu)()).domain([1,10]);return t.copy=function(){return(0,i.C)(t,p()).base(t.base())},a.C.apply(t,arguments),t}},9511:(t,e,n)=>{"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach(function(e){s(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function c(t){return function e(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=t.length?t.apply(this,o):function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.apply(n,[].concat(o,r))}}}function h(t){return{}.toString.call(t).includes("Object")}function f(t){return"function"==typeof t}n.d(e,{Ay:()=>H});var d=c(function(t,e){throw new Error(t[e]||t.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),p={changes:function(t,e){return h(e)||d("changeType"),Object.keys(e).some(function(e){return n=t,r=e,!Object.prototype.hasOwnProperty.call(n,r);var n,r})&&d("changeField"),e},selector:function(t){f(t)||d("selectorType")},handler:function(t){f(t)||h(t)||d("handlerType"),h(t)&&Object.values(t).some(function(t){return!f(t)})&&d("handlersType")},initial:function(t){var e;t||d("initialIsRequired"),h(t)||d("initialType"),e=t,Object.keys(e).length||d("initialContent")}};function g(t,e){return f(e)?e(t.current):e}function v(t,e){return t.current=l(l({},t.current),e),e}function m(t,e,n){return f(e)?e(t.current):Object.keys(n).forEach(function(n){var r;return null===(r=e[n])||void 0===r?void 0:r.call(e,t.current[n])}),n}const y={create:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p.initial(t),p.handler(e);var n={current:t},r=c(m)(n,e),o=c(v)(n),i=c(p.changes)(t),a=c(g)(n);return[function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return t};return p.selector(t),t(n.current)},function(t){!function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduceRight(function(t,e){return e(t)},t)}}(r,o,i,a)(t)}]}};var b,w={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},x=(b=function(t,e){throw new Error(t[e]||t.default)},function t(){for(var e=this,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r.length>=b.length?b.apply(this,r):function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t.apply(e,[].concat(r,o))}})(w),_={config:function(t){var e;return t||x("configIsRequired"),e=t,{}.toString.call(e).includes("Object")||x("configType"),t.urls?(console.warn(w.deprecation),{paths:{vs:t.urls.monacoBase}}):t}};function k(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],k(t[n],e[n]))}),a(a({},t),e)}var M={type:"cancelation",msg:"operation is manually canceled"};function I(t){var e=!1,n=new Promise(function(n,r){t.then(function(t){return e?r(M):n(t)}),t.catch(r)});return n.cancel=function(){return e=!0},n}var z=["monaco"],O=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e);else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(y.create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.54.0/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}),2),S=O[0],E=O[1];function C(t){return document.body.appendChild(t)}function j(t){var e,n,r=S(function(t){return{config:t.config,reject:t.reject}}),o=(e="".concat(r.config.paths.vs,"/loader.js"),n=document.createElement("script"),e&&(n.src=e),n);return o.onload=function(){return t()},o.onerror=r.reject,o}function P(){var t=S(function(t){return{config:t.config,resolve:t.resolve,reject:t.reject}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(e){var n=e.m;$(n),t.resolve(n)},function(e){t.reject(e)})}function $(t){S().monaco||E({monaco:t})}var A=new Promise(function(t,e){return E({resolve:t,reject:e})}),N={config:function(t){var e=_.config(t),n=e.monaco,r=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(e,z);E(function(t){return{config:k(t.config,r),monaco:n}})},init:function(){var t=S(function(t){return{monaco:t.monaco,isInitialized:t.isInitialized,resolve:t.resolve}});if(!t.isInitialized){if(E({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),I(A);if(window.monaco&&window.monaco.editor)return $(window.monaco),t.resolve(window.monaco),I(A);!function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduceRight(function(t,e){return e(t)},t)}}(C,j)(P)}return I(A)},__getMonacoInstance:function(){return S(function(t){return t.monaco})}},T=n(6540),V={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Z={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}};var B=function({children:t}){return T.createElement("div",{style:Z.container},t)};var R=function({width:t,height:e,isEditorReady:n,loading:r,_ref:o,className:i,wrapperProps:a}){return T.createElement("section",{style:{...V.wrapper,width:t,height:e},...a},!n&&T.createElement(B,null,r),T.createElement("div",{ref:o,style:{...V.fullWidth,...!n&&V.hide},className:i}))},L=(0,T.memo)(R);var F=function(t){(0,T.useEffect)(t,[])};var D=function(t,e,n=!0){let r=(0,T.useRef)(!0);(0,T.useEffect)(r.current||!n?()=>{r.current=!1}:t,e)};function U(){}function q(t,e,n,r){return function(t,e){return t.editor.getModel(W(t,e))}(t,r)||function(t,e,n,r){return t.editor.createModel(e,n,r?W(t,r):void 0)}(t,e,n,r)}function W(t,e){return t.Uri.parse(e)}var G=function({original:t,modified:e,language:n,originalLanguage:r,modifiedLanguage:o,originalModelPath:i,modifiedModelPath:a,keepCurrentOriginalModel:s=!1,keepCurrentModifiedModel:u=!1,theme:l="light",loading:c="Loading...",options:h={},height:f="100%",width:d="100%",className:p,wrapperProps:g={},beforeMount:v=U,onMount:m=U}){let[y,b]=(0,T.useState)(!1),[w,x]=(0,T.useState)(!0),_=(0,T.useRef)(null),k=(0,T.useRef)(null),M=(0,T.useRef)(null),I=(0,T.useRef)(m),z=(0,T.useRef)(v),O=(0,T.useRef)(!1);F(()=>{let t=N.init();return t.then(t=>(k.current=t)&&x(!1)).catch(t=>"cancelation"!==t?.type&&console.error("Monaco initialization: error:",t)),()=>_.current?function(){let t=_.current?.getModel();s||t?.original?.dispose(),u||t?.modified?.dispose(),_.current?.dispose()}():t.cancel()}),D(()=>{if(_.current&&k.current){let e=_.current.getOriginalEditor(),o=q(k.current,t||"",r||n||"text",i||"");o!==e.getModel()&&e.setModel(o)}},[i],y),D(()=>{if(_.current&&k.current){let t=_.current.getModifiedEditor(),r=q(k.current,e||"",o||n||"text",a||"");r!==t.getModel()&&t.setModel(r)}},[a],y),D(()=>{let t=_.current.getModifiedEditor();t.getOption(k.current.editor.EditorOption.readOnly)?t.setValue(e||""):e!==t.getValue()&&(t.executeEdits("",[{range:t.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),t.pushUndoStop())},[e],y),D(()=>{_.current?.getModel()?.original.setValue(t||"")},[t],y),D(()=>{let{original:t,modified:e}=_.current.getModel();k.current.editor.setModelLanguage(t,r||n||"text"),k.current.editor.setModelLanguage(e,o||n||"text")},[n,r,o],y),D(()=>{k.current?.editor.setTheme(l)},[l],y),D(()=>{_.current?.updateOptions(h)},[h],y);let S=(0,T.useCallback)(()=>{if(!k.current)return;z.current(k.current);let s=q(k.current,t||"",r||n||"text",i||""),u=q(k.current,e||"",o||n||"text",a||"");_.current?.setModel({original:s,modified:u})},[n,e,o,t,r,i,a]),E=(0,T.useCallback)(()=>{!O.current&&M.current&&(_.current=k.current.editor.createDiffEditor(M.current,{automaticLayout:!0,...h}),S(),k.current?.editor.setTheme(l),b(!0),O.current=!0)},[h,l,S]);return(0,T.useEffect)(()=>{y&&I.current(_.current,k.current)},[y]),(0,T.useEffect)(()=>{!w&&!y&&E()},[w,y,E]),T.createElement(L,{width:d,height:f,isEditorReady:y,loading:c,_ref:M,className:p,wrapperProps:g})};(0,T.memo)(G);var X=function(t){let e=(0,T.useRef)();return(0,T.useEffect)(()=>{e.current=t},[t]),e.current},Y=new Map;var J=function({defaultValue:t,defaultLanguage:e,defaultPath:n,value:r,language:o,path:i,theme:a="light",line:s,loading:u="Loading...",options:l={},overrideServices:c={},saveViewState:h=!0,keepCurrentModel:f=!1,width:d="100%",height:p="100%",className:g,wrapperProps:v={},beforeMount:m=U,onMount:y=U,onChange:b,onValidate:w=U}){let[x,_]=(0,T.useState)(!1),[k,M]=(0,T.useState)(!0),I=(0,T.useRef)(null),z=(0,T.useRef)(null),O=(0,T.useRef)(null),S=(0,T.useRef)(y),E=(0,T.useRef)(m),C=(0,T.useRef)(),j=(0,T.useRef)(r),P=X(i),$=(0,T.useRef)(!1),A=(0,T.useRef)(!1);F(()=>{let t=N.init();return t.then(t=>(I.current=t)&&M(!1)).catch(t=>"cancelation"!==t?.type&&console.error("Monaco initialization: error:",t)),()=>z.current?(C.current?.dispose(),f?h&&Y.set(i,z.current.saveViewState()):z.current.getModel()?.dispose(),void z.current.dispose()):t.cancel()}),D(()=>{let a=q(I.current,t||r||"",e||o||"",i||n||"");a!==z.current?.getModel()&&(h&&Y.set(P,z.current?.saveViewState()),z.current?.setModel(a),h&&z.current?.restoreViewState(Y.get(i)))},[i],x),D(()=>{z.current?.updateOptions(l)},[l],x),D(()=>{!z.current||void 0===r||(z.current.getOption(I.current.editor.EditorOption.readOnly)?z.current.setValue(r):r!==z.current.getValue()&&(A.current=!0,z.current.executeEdits("",[{range:z.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),z.current.pushUndoStop(),A.current=!1))},[r],x),D(()=>{let t=z.current?.getModel();t&&o&&I.current?.editor.setModelLanguage(t,o)},[o],x),D(()=>{void 0!==s&&z.current?.revealLine(s)},[s],x),D(()=>{I.current?.editor.setTheme(a)},[a],x);let V=(0,T.useCallback)(()=>{if(O.current&&I.current&&!$.current){E.current(I.current);let u=i||n,f=q(I.current,r||t||"",e||o||"",u||"");z.current=I.current?.editor.create(O.current,{model:f,automaticLayout:!0,...l},c),h&&z.current.restoreViewState(Y.get(u)),I.current.editor.setTheme(a),void 0!==s&&z.current.revealLine(s),_(!0),$.current=!0}},[t,e,n,r,o,i,l,c,h,a,s]);return(0,T.useEffect)(()=>{x&&S.current(z.current,I.current)},[x]),(0,T.useEffect)(()=>{!k&&!x&&V()},[k,x,V]),j.current=r,(0,T.useEffect)(()=>{x&&b&&(C.current?.dispose(),C.current=z.current?.onDidChangeModelContent(t=>{A.current||b(z.current.getValue(),t)}))},[x,b]),(0,T.useEffect)(()=>{if(x){let t=I.current.editor.onDidChangeMarkers(t=>{let e=z.current.getModel()?.uri;if(e&&t.find(t=>t.path===e.path)){let t=I.current.editor.getModelMarkers({resource:e});w?.(t)}});return()=>{t?.dispose()}}return()=>{}},[x,w]),T.createElement(L,{width:d,height:p,isEditorReady:x,loading:u,_ref:O,className:g,wrapperProps:v})},H=(0,T.memo)(J)},9545:(t,e,n)=>{var r=n(2937),o=n(5036).create;function i(t){return{ladder:e,complete:function(e){if(!e||e<1)throw new Error("At least two nodes are expected for complete graph");var n,r,o=t();for(n=0;n<e;++n)for(r=n+1;r<e;++r)n!==r&&o.addLink(n,r);return o},completeBipartite:function(e,n){if(!e||!n||e<0||n<0)throw new Error("Graph dimensions are invalid. Number of nodes in each partition should be greater than 0");var r,o,i=t();for(r=0;r<e;++r)for(o=e;o<e+n;++o)i.addLink(r,o);return i},balancedBinTree:r,balancedBinaryTree:r,binaryTree:r,binTree:r,path:function(e){if(!e||e<0)throw new Error("Invalid number of nodes");var n,r=t();for(r.addNode(0),n=1;n<e;++n)r.addLink(n-1,n);return r},circularLadder:function(t){if(!t||t<0)throw new Error("Invalid number of nodes");var n=e(t);return n.addLink(0,t-1),n.addLink(t,2*t-1),n},grid:function(e,n){if(e<1||n<1)throw new Error("Invalid number of nodes in grid graph");var r,o,i=t();if(1===e&&1===n)return i.addNode(0),i;for(r=0;r<e;++r)for(o=0;o<n;++o){var a=r+o*e;r>0&&i.addLink(a,r-1+o*e),o>0&&i.addLink(a,r+(o-1)*e)}return i},grid3:function(e,n,r){if(e<1||n<1||r<1)throw new Error("Invalid number of nodes in grid3 graph");var o,i,a,s=t();if(1===e&&1===n&&1===r)return s.addNode(0),s;for(a=0;a<r;++a)for(o=0;o<e;++o)for(i=0;i<n;++i){var u=a*e*n,l=o+i*e+u;o>0&&s.addLink(l,o-1+i*e+u),i>0&&s.addLink(l,o+(i-1)*e+u),a>0&&s.addLink(l,o+i*e+(a-1)*e*n)}return s},noLinks:function(e){if(e<0)throw new Error("Number of nodes should be >= 0");var n,r=t();for(n=0;n<e;++n)r.addNode(n);return r},wattsStrogatz:function(e,r,o,i){if(r>=e)throw new Error("Choose smaller `k`. It cannot be larger than number of nodes `n`");var a,s,u=n(9988).random(i||42),l=t();for(a=0;a<e;++a)l.addNode(a);for(var c=Math.floor(r/2+1),h=1;h<c;++h)for(a=0;a<e;++a)s=(h+a)%e,l.addLink(a,s);for(h=1;h<c;++h)for(a=0;a<e;++a)if(u.nextDouble()<o){var f=a;s=(h+a)%e;var d=u.next(e),p=d===f||l.hasLink(f,d);if(p&&l.getLinks(f).length===e-1)continue;for(;p;)p=(d=u.next(e))===f||l.hasLink(f,d);var g=l.hasLink(f,s);l.removeLink(g),l.addLink(f,d)}return l},cliqueCircle:function(e,n){if(e<1)throw new Error("Invalid number of cliqueCount in cliqueCircle");if(n<1)throw new Error("Invalid number of cliqueSize in cliqueCircle");for(var r=t(),o=0;o<e;++o)i(n,o*n),o>0&&r.addLink(o*n,o*n-1);return r.addLink(0,r.getNodesCount()-1),r;function i(t,e){for(var n=0;n<t;++n)r.addNode(n+e);for(n=0;n<t;++n)for(var o=n+1;o<t;++o)r.addLink(n+e,o+e)}},miserables:o};function e(e){if(!e||e<0)throw new Error("Invalid number of nodes");var n,r=t();for(n=0;n<e-1;++n)r.addLink(n,n+1),r.addLink(e+n,e+n+1),r.addLink(n,e+n);return r.addLink(e-1,2*e-1),r}function r(e){if(void 0===e||e<0)throw new Error("Invalid number of levels in balanced tree");var n,r=t(),o=Math.pow(2,e);for(0===e&&r.addNode(1),n=1;n<o;++n){var i=n,a=2*i,s=2*i+1;r.addLink(i,a),r.addLink(i,s)}return r}}t.exports=i(r),t.exports.factory=i},9874:(t,e,n)=>{"use strict";function r(t){return function(){return t}}n.d(e,{A:()=>r})},9988:t=>{function e(t){return new n("number"==typeof t?t:+new Date)}function n(t){this.seed=t}function r(t){return Math.sqrt(2*Math.PI/t)*Math.pow(1/Math.E*(t+1/(12*t-1/(10*t))),t)}function o(){var t=this.seed;return t=4294967295&(3042594569^(t=(t=4294967295&((t=(t=4294967295&(3345072700^(t=t+2127912214+(t<<12)&4294967295)^t>>>19))+374761393+(t<<5)&4294967295)+3550635116^t<<9))+4251993797+(t<<3)&4294967295)^t>>>16),this.seed=t,(268435455&t)/268435456}t.exports=e,t.exports.random=e,t.exports.randomIterator=function(t,n){var r=n||e();if("function"!=typeof r.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(e){var n,o,i;for(n=t.length-1;n>0;--n)o=r.next(n+1),i=t[o],t[o]=t[n],t[n]=i,e(i);t.length&&e(t[0])},shuffle:function(){var e,n,o;for(e=t.length-1;e>0;--e)n=r.next(e+1),o=t[n],t[n]=t[e],t[e]=o;return t}}},n.prototype.next=function(t){return Math.floor(this.nextDouble()*t)},n.prototype.nextDouble=o,n.prototype.uniform=o,n.prototype.gaussian=function(){var t,e,n;do{t=(e=2*this.nextDouble()-1)*e+(n=2*this.nextDouble()-1)*n}while(t>=1||0===t);return e*Math.sqrt(-2*Math.log(t)/t)},n.prototype.random=o,n.prototype.levy=function(){var t=1.5,e=Math.pow(r(2.5)*Math.sin(Math.PI*t/2)/(r(1.25)*t*Math.pow(2,.25)),1/t);return this.gaussian()*e/Math.pow(Math.abs(this.gaussian()),1/t)}}}]);