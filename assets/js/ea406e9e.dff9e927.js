"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[3692],{6849:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>B,contentTitle:()=>V,default:()=>H,frontMatter:()=>D,metadata:()=>i,toc:()=>F});const i=JSON.parse('{"id":"bing-maps/get-started","title":"deck.gl with Bing Maps","description":"","source":"@site/src/examples/bing-maps/get-started.mdx","sourceDirName":"bing-maps","slug":"/bing-maps/get-started","permalink":"/deck.gl-community/examples/bing-maps/get-started","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var o=n(4848),a=n(8453),s=n(454),r=n(6540),c=n(8478),l=n(1175),d=n(1862),p=n(5800);const g=["click","dblclick","mousedown","mousemove","mouseout"],u=["viewchange","mapresize","maptypechanged"];function m(e){const t=e.getZoom(),n=e.getCenter();return{width:e.getWidth(),height:e.getHeight(),viewState:{longitude:n.longitude,latitude:n.latitude,zoom:t-1}}}function h(e,t){if(!e)return;const n=e.props.userData._eventListeners;for(const i in n)t.removeHandler(n[i]);e.finalize()}function x(e,t,n){const i={type:t,offsetCenter:{x:e.props.width/2+n.getX(),y:e.props.height/2+n.getY()},srcEvent:n};switch(t){case"mousedown":e._onPointerDown(i);break;case"click":i.tapCount=1,e._onEvent(i);break;case"dblclick":i.type="click",i.tapCount=2,e._onEvent(i);break;case"mousemove":i.type="pointermove",e._onPointerMove(i);break;case"mouseout":i.type="pointerleave",e._onPointerMove(i);break;default:return}}const f=()=>!1;function v(e){let{CustomOverlay:t,Events:n,MapTypeId:i}=e;return class extends t{constructor(e){void 0===e&&(e={}),super(),this.props=e}setProps(e){Object.assign(this.props,e),this.deck&&this.deck.setProps(e)}pickObject(e){return this.deck&&this.deck.pickObject(e)}pickMultipleObjects(e){return this.deck&&this.deck.pickMultipleObjects(e)}pickObjects(e){return this.deck&&this.deck.pickObjects(e)}finalize(){h(this.deck,n)}onAdd(){this.container=function(e){const t=document.createElement("canvas");return Object.assign(t.style,{position:"absolute",zIndex:0,pointerEvents:"none",left:0,top:0},e),t}(this.props.style),this.setHtmlElement(this.container)}onLoad(){const e=this.getMap();this.deck=function(e,t,n,i){const o={},a=new d.A(Object.assign({},n,{canvas:t.container,views:new p.A({repeat:!0})},m(e),{controller:!1,userData:{_map:e,_eventListeners:o},onLoad:()=>{n.onLoad&&n.onLoad()}}));for(const s of g)o[s]=i.addHandler(e,s,(e=>x(a,s,e)));for(const s of u)o[s]=i.addHandler(e,s,(()=>t.redraw()));return a}(e,this,this.props,n)}onRemove(){h(this.deck,n),this.deck=null}redraw(){const e=this.getMap(),{deck:t}=this,n=e.getMapTypeId(),o=n!==i.streetside&&n!==i.birdseye;t.setProps(Object.assign({},m(e),{layerFilter:o?this.props.layerFilter:f}))}}}function y(e){return new Promise((t=>{window.__loadBingMaps=()=>{const n=window.Microsoft.Maps;n.DeckOverlay=v(n),delete window.__loadBingMaps,e?Promise.all(e.map((e=>function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return new Promise((t=>{e(...n,t)}))}(n.loadModule,e)))).then((()=>t(n))):t(n)};const n=document.createElement("script");n.type="text/javascript",n.src="https://www.bing.com/api/maps/mapcontrol?callback=__loadBingMaps";document.querySelector("head").appendChild(n)}))}var b=n(8894),w=n(2146),_=n(4175),j=n(3349),P=n(9350),k=n(1904);const S="uniform arcUniforms {\n  bool greatCircle;\n  bool useShortestPath;\n  float numSegments;\n  float widthScale;\n  float widthMinPixels;\n  float widthMaxPixels;\n  highp int widthUnits;\n} arc;\n",C={name:"arc",vs:S,fs:S,uniformTypes:{greatCircle:"f32",useShortestPath:"f32",numSegments:"f32",widthScale:"f32",widthMinPixels:"f32",widthMaxPixels:"f32",widthUnits:"i32"}},A=[0,0,0,255],I={getSourcePosition:{type:"accessor",value:e=>e.sourcePosition},getTargetPosition:{type:"accessor",value:e=>e.targetPosition},getSourceColor:{type:"accessor",value:A},getTargetColor:{type:"accessor",value:A},getWidth:{type:"accessor",value:1},getHeight:{type:"accessor",value:1},getTilt:{type:"accessor",value:0},greatCircle:!1,numSegments:{type:"number",value:50,min:1},widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}};class T extends w.A{getBounds(){return this.getAttributeManager()?.getBounds(["instanceSourcePositions","instanceTargetPositions"])}getShaders(){return super.getShaders({vs:"#version 300 es\n#define SHADER_NAME arc-layer-vertex-shader\nin vec4 instanceSourceColors;\nin vec4 instanceTargetColors;\nin vec3 instanceSourcePositions;\nin vec3 instanceSourcePositions64Low;\nin vec3 instanceTargetPositions;\nin vec3 instanceTargetPositions64Low;\nin vec3 instancePickingColors;\nin float instanceWidths;\nin float instanceHeights;\nin float instanceTilts;\nout vec4 vColor;\nout vec2 uv;\nout float isValid;\nfloat paraboloid(float distance, float sourceZ, float targetZ, float ratio) {\nfloat deltaZ = targetZ - sourceZ;\nfloat dh = distance * instanceHeights;\nif (dh == 0.0) {\nreturn sourceZ + deltaZ * ratio;\n}\nfloat unitZ = deltaZ / dh;\nfloat p2 = unitZ * unitZ + 1.0;\nfloat dir = step(deltaZ, 0.0);\nfloat z0 = mix(sourceZ, targetZ, dir);\nfloat r = mix(ratio, 1.0 - ratio, dir);\nreturn sqrt(r * (p2 - r)) * dh + z0;\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {\nvec2 dir_screenspace = normalize(line_clipspace * project.viewportSize);\ndir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\nreturn dir_screenspace * offset_direction * width / 2.0;\n}\nfloat getSegmentRatio(float index) {\nreturn smoothstep(0.0, 1.0, index / (arc.numSegments - 1.0));\n}\nvec3 interpolateFlat(vec3 source, vec3 target, float segmentRatio) {\nfloat distance = length(source.xy - target.xy);\nfloat z = paraboloid(distance, source.z, target.z, segmentRatio);\nfloat tiltAngle = radians(instanceTilts);\nvec2 tiltDirection = normalize(target.xy - source.xy);\nvec2 tilt = vec2(-tiltDirection.y, tiltDirection.x) * z * sin(tiltAngle);\nreturn vec3(\nmix(source.xy, target.xy, segmentRatio) + tilt,\nz * cos(tiltAngle)\n);\n}\nfloat getAngularDist (vec2 source, vec2 target) {\nvec2 sourceRadians = radians(source);\nvec2 targetRadians = radians(target);\nvec2 sin_half_delta = sin((sourceRadians - targetRadians) / 2.0);\nvec2 shd_sq = sin_half_delta * sin_half_delta;\nfloat a = shd_sq.y + cos(sourceRadians.y) * cos(targetRadians.y) * shd_sq.x;\nreturn 2.0 * asin(sqrt(a));\n}\nvec3 interpolateGreatCircle(vec3 source, vec3 target, vec3 source3D, vec3 target3D, float angularDist, float t) {\nvec2 lngLat;\nif(abs(angularDist - PI) < 0.001) {\nlngLat = (1.0 - t) * source.xy + t * target.xy;\n} else {\nfloat a = sin((1.0 - t) * angularDist);\nfloat b = sin(t * angularDist);\nvec3 p = source3D.yxz * a + target3D.yxz * b;\nlngLat = degrees(vec2(atan(p.y, -p.x), atan(p.z, length(p.xy))));\n}\nfloat z = paraboloid(angularDist * EARTH_RADIUS, source.z, target.z, t);\nreturn vec3(lngLat, z);\n}\nvoid main(void) {\ngeometry.worldPosition = instanceSourcePositions;\ngeometry.worldPositionAlt = instanceTargetPositions;\nfloat segmentIndex = float(gl_VertexID / 2);\nfloat segmentSide = mod(float(gl_VertexID), 2.) == 0. ? -1. : 1.;\nfloat segmentRatio = getSegmentRatio(segmentIndex);\nfloat prevSegmentRatio = getSegmentRatio(max(0.0, segmentIndex - 1.0));\nfloat nextSegmentRatio = getSegmentRatio(min(arc.numSegments - 1.0, segmentIndex + 1.0));\nfloat indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\nisValid = 1.0;\nuv = vec2(segmentRatio, segmentSide);\ngeometry.uv = uv;\ngeometry.pickingColor = instancePickingColors;\nvec4 curr;\nvec4 next;\nvec3 source;\nvec3 target;\nif ((arc.greatCircle || project.projectionMode == PROJECTION_MODE_GLOBE) && project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\nsource = project_globe_(vec3(instanceSourcePositions.xy, 0.0));\ntarget = project_globe_(vec3(instanceTargetPositions.xy, 0.0));\nfloat angularDist = getAngularDist(instanceSourcePositions.xy, instanceTargetPositions.xy);\nvec3 prevPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, prevSegmentRatio);\nvec3 currPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, segmentRatio);\nvec3 nextPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, nextSegmentRatio);\nif (abs(currPos.x - prevPos.x) > 180.0) {\nindexDir = -1.0;\nisValid = 0.0;\n} else if (abs(currPos.x - nextPos.x) > 180.0) {\nindexDir = 1.0;\nisValid = 0.0;\n}\nnextPos = indexDir < 0.0 ? prevPos : nextPos;\nnextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\nif (isValid == 0.0) {\nnextPos.x += nextPos.x > 0.0 ? -360.0 : 360.0;\nfloat t = ((currPos.x > 0.0 ? 180.0 : -180.0) - currPos.x) / (nextPos.x - currPos.x);\ncurrPos = mix(currPos, nextPos, t);\nsegmentRatio = mix(segmentRatio, nextSegmentRatio, t);\n}\nvec3 currPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, segmentRatio);\nvec3 nextPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, nextSegmentRatio);\ncurr = project_position_to_clipspace(currPos, currPos64Low, vec3(0.0), geometry.position);\nnext = project_position_to_clipspace(nextPos, nextPos64Low, vec3(0.0));\n} else {\nvec3 source_world = instanceSourcePositions;\nvec3 target_world = instanceTargetPositions;\nif (arc.useShortestPath) {\nsource_world.x = mod(source_world.x + 180., 360.0) - 180.;\ntarget_world.x = mod(target_world.x + 180., 360.0) - 180.;\nfloat deltaLng = target_world.x - source_world.x;\nif (deltaLng > 180.) target_world.x -= 360.;\nif (deltaLng < -180.) source_world.x -= 360.;\n}\nsource = project_position(source_world, instanceSourcePositions64Low);\ntarget = project_position(target_world, instanceTargetPositions64Low);\nfloat antiMeridianX = 0.0;\nif (arc.useShortestPath) {\nif (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\nantiMeridianX = -(project.coordinateOrigin.x + 180.) / 360. * TILE_SIZE;\n}\nfloat thresholdRatio = (antiMeridianX - source.x) / (target.x - source.x);\nif (prevSegmentRatio <= thresholdRatio && nextSegmentRatio > thresholdRatio) {\nisValid = 0.0;\nindexDir = sign(segmentRatio - thresholdRatio);\nsegmentRatio = thresholdRatio;\n}\n}\nnextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\nvec3 currPos = interpolateFlat(source, target, segmentRatio);\nvec3 nextPos = interpolateFlat(source, target, nextSegmentRatio);\nif (arc.useShortestPath) {\nif (nextPos.x < antiMeridianX) {\ncurrPos.x += TILE_SIZE;\nnextPos.x += TILE_SIZE;\n}\n}\ncurr = project_common_position_to_clipspace(vec4(currPos, 1.0));\nnext = project_common_position_to_clipspace(vec4(nextPos, 1.0));\ngeometry.position = vec4(currPos, 1.0);\n}\nfloat widthPixels = clamp(\nproject_size_to_pixel(instanceWidths * arc.widthScale, arc.widthUnits),\narc.widthMinPixels, arc.widthMaxPixels\n);\nvec3 offset = vec3(\ngetExtrusionOffset((next.xy - curr.xy) * indexDir, segmentSide, widthPixels),\n0.0);\nDECKGL_FILTER_SIZE(offset, geometry);\nDECKGL_FILTER_GL_POSITION(curr, geometry);\ngl_Position = curr + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);\nvec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio);\nvColor = vec4(color.rgb, color.a * layer.opacity);\nDECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME arc-layer-fragment-shader\nprecision highp float;\nin vec4 vColor;\nin vec2 uv;\nin float isValid;\nout vec4 fragColor;\nvoid main(void) {\nif (isValid == 0.0) {\ndiscard;\n}\nfragColor = vColor;\ngeometry.uv = uv;\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[_.A,j.A,C]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceSourceColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getSourceColor",defaultValue:A},instanceTargetColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getTargetColor",defaultValue:A},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1},instanceHeights:{size:1,transition:!0,accessor:"getHeight",defaultValue:1},instanceTilts:{size:1,transition:!0,accessor:"getTilt",defaultValue:0}})}updateState(e){super.updateState(e),e.changeFlags.extensionsChanged&&(this.state.model?.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw({uniforms:e}){const{widthUnits:t,widthScale:n,widthMinPixels:i,widthMaxPixels:o,greatCircle:a,wrapLongitude:s,numSegments:r}=this.props,c={numSegments:r,widthUnits:P.p5[t],widthScale:n,widthMinPixels:i,widthMaxPixels:o,greatCircle:a,useShortestPath:s},l=this.state.model;l.shaderInputs.setProps({arc:c}),l.setVertexCount(2*r),l.draw(this.context.renderPass)}_getModel(){return new k.K(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),topology:"triangle-strip",isInstanced:!0})}}T.layerName="ArcLayer",T.defaultProps=I;const R=T;var L;const M=(null==(L={})||null==(L=L.env)?void 0:L.VITE_BING_MAPS_API_KEY)||"NO-KEY-SUPPLIED",E="https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_10m_airports.geojson";var O=n(8295);class z extends r.Component{static renderInfo(e){return(0,o.jsx)(o.Fragment,{})}componentDidMount(){y().then((e=>{let{Map:t,MapTypeId:n,Location:i,DeckOverlay:o}=e;const a=new t(document.getElementById("map"),{credentials:M,supportedMapTypes:[n.aerial,n.canvasLight,n.canvasDark],disableBirdsEye:!0,disableStreetside:!0});a.setView({center:new i(51.47,.45),zoom:4});const s=new o({layers:[new b.A({id:"airports",data:E,filled:!0,pointRadiusMinPixels:2,pointRadiusScale:2e3,getPointRadius:e=>11-e.properties.scalerank,getFillColor:[200,0,80,180],pickable:!0,autoHighlight:!0,onClick:e=>e.object&&alert(e.object.properties.name+" ("+e.object.properties.abbrev+")")}),new R({id:"arcs",data:E,dataTransform:e=>e.features.filter((e=>e.properties.scalerank<4)),getSourcePosition:e=>[-.4531566,51.4709959],getTargetPosition:e=>e.geometry.coordinates,getSourceColor:[0,128,200],getTargetColor:[200,0,80],getWidth:1})],getTooltip:e=>e.object&&e.object.properties.name});a.layers.insert(s)}))}render(){const e=this.props,t=Object.assign({},((0,s.A)(e),e));return(0,o.jsx)(c.A,{children:()=>(0,o.jsx)("div",Object.assign({},t))})}}z.title="Bing Maps as deck.gl Basemap",z.code=l.lP+"/examples/bing-maps/get-started";const N=(0,O.xv)(z),D={},V="deck.gl with Bing Maps",B={},F=[];function q(e){const t={h1:"h1",header:"header",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"deckgl-with-bing-maps",children:"deck.gl with Bing Maps"})}),"\n","\n",(0,o.jsx)(N,{})]})}function H(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(q,{...e})}):q(e)}},8295:(e,t,n)=>{n.d(t,{Ys:()=>q,ww:()=>X,xv:()=>E});var i=n(6540),o=n(3724);const a=e=>"@media screen and (max-width: 480px)",s=o.Ay.div.withConfig({displayName:"styled__PanelContainer",componentId:"sc-oqnqzc-0"})(["font-size:14px;position:absolute;top:0;right:0;width:344px;background:var(--ifm-background-surface-color);box-shadow:var(--ifm-global-shadow-lw);margin:24px;padding:10px 24px;max-height:96%;overflow-x:hidden;overflow-y:auto;overflow-y:overlay;outline:none;z-index:1;","{width:auto;left:0;}"],a),r=o.Ay.div.withConfig({displayName:"styled__PanelExpander",componentId:"sc-oqnqzc-1"})(["display:none;width:16px;height:16px;font-family:serif;font-size:0.8em;text-align:center;line-height:16px;border-radius:50%;background:",";color:",";","{display:block;}"],(e=>e.$expanded?"none":"var(--ifm-color-gray-900)"),(e=>e.$expanded?"var(--ifm-color-black)":"var(--ifm-color-white)"),a),c=o.Ay.div.withConfig({displayName:"styled__PanelTitle",componentId:"sc-oqnqzc-2"})(["display:flex;align-items:center;justify-content:space-between;font:bold 1.25em var(--ifm-font-family-base);margin:8px 0;","{cursor:pointer;}"],a),l=o.Ay.div.withConfig({displayName:"styled__PanelContent",componentId:"sc-oqnqzc-3"})(["div > *{vertical-align:middle;white-space:nowrap;}div > label{display:inline-block;width:40%;margin-right:10%;color:var(--ifm-color-content-secondary);margin-top:2px;margin-bottom:2px;}div > input,div > a,div > button,div > select{font:normal 11px/16px var(--ifm-font-family-base);line-height:20px;text-transform:none;text-overflow:ellipsis;overflow:hidden;display:inline-block;padding:0 4px;width:50%;height:20px;text-align:left;}div > button{color:initial;}div > button:disabled{color:var(--ifm-color-gray-300);cursor:default;background:var(--ifm-color-gray-300);}div > input{border:solid 1px var(--ifm-color-gray-300);&:disabled{background:var(--ifm-color-white);}&[type='checkbox']{height:auto;}}p{margin-bottom:12px;white-space:initial;}","{display:",";}"],a,(e=>e.$expanded?"block":"none")),d=o.Ay.a.withConfig({displayName:"styled__SourceLink",componentId:"sc-oqnqzc-4"})(["display:block;text-align:right;margin-top:8px;font:bold 12px/20px var(--ifm-font-family-base);color:var(--ifm-color-content-secondary);","{display:",";}"],a,(e=>e.$expanded?"block":"none"));var p=n(8587),g=n(4848);const u=["name","onChange","displayName","altValue","displayValue"],m=o.Ay.div.withConfig({displayName:"input__InputContainer",componentId:"sc-1myx0c6-0"})(["position:relative;width:100%;&:last-child{margin-bottom:20px;}> *{vertical-align:middle;white-space:nowrap;}label{display:inline-block;width:40%;margin-right:10%;margin-top:2px;margin-bottom:2px;}input,a,button{background:var(--ifm-background-surface-color);font-size:0.9em;text-transform:none;text-overflow:ellipsis;overflow:hidden;display:inline-block;padding:0 4px;margin:0;width:50%;height:20px;line-height:1.833;text-align:left;}button{color:initial;}button:disabled{color:var(--ifm-color-gray-500);cursor:default;background:var(--ifm-color-gray-300);}input{border:solid 1px var(--ifm-color-gray-500);&:disabled{background:var(--ifm-color-gray-300);}&[type='checkbox']{height:auto;}}.tooltip{left:50%;top:24px;opacity:0;pointer-events:none;transition:opacity 200ms;}&:hover .tooltip{opacity:1;}"]);function h(e){let{name:t,min:n,max:o,step:a,displayName:s,displayValue:r,onChange:c}=e;const l=(0,i.useCallback)((e=>{const{value:i}=e.target;let a=Number(i);void 0!==n&&(a=Math.max(n,a)),void 0!==o&&(a=Math.min(o,a)),c(t,a)}),[n,o,c]);return(0,g.jsxs)(m,{children:[(0,g.jsx)("label",{children:s}),(0,g.jsxs)("div",{className:"tooltip",children:[s,": ",String(r)]}),(0,g.jsx)("input",{type:"range",min:n,max:o,value:r,step:a,onChange:l})]})}function x(e){let{name:t,value:n,displayName:o,displayValue:a,onChange:s}=e;const r=(0,i.useCallback)((e=>{const n=e.target.checked;s(t,n)}),[s]);return(0,g.jsxs)(m,{children:[(0,g.jsx)("label",{children:o}),(0,g.jsxs)("div",{className:"tooltip",children:[o,": ",String(a)]}),(0,g.jsx)("input",{type:"checkbox",checked:n,onChange:r})]})}function f(e){const{name:t,onChange:n,displayName:o,altValue:a,displayValue:s}=e,r=(0,p.A)(e,u),c=(0,i.useCallback)((e=>{n(t,e.target.value)}),[n]),l=(0,i.useCallback)((()=>{n(t,a)}),[a,n]),d=r;switch(e.type){case"link":return(0,g.jsxs)(m,{children:[(0,g.jsx)("label",{children:o}),(0,g.jsx)("a",{href:s,target:"_new",children:s})]});case"function":case"json":const t=Boolean(a);return(0,g.jsxs)(m,{children:[(0,g.jsx)("label",{children:o}),(0,g.jsx)("button",{type:"text",disabled:!t,onClick:l,children:s})]});case"select":return(0,g.jsxs)(m,{children:[(0,g.jsx)("label",{children:o}),(0,g.jsx)("select",{onChange:c,value:s,children:e.options.map(((e,t)=>(0,g.jsx)("option",{value:e,children:e},t)))})]});case"checkbox":return(0,g.jsx)(x,Object.assign({},e));case"range":return(0,g.jsx)(h,Object.assign({},e));default:return(0,g.jsxs)(m,{children:[(0,g.jsx)("label",{children:o}),(0,g.jsxs)("div",{className:"tooltip",children:[o,": ",String(s)]}),(0,g.jsx)("input",Object.assign({},d,{value:s,onChange:c}))]})}}const v=o.Ay.div.withConfig({displayName:"spinner__SpinnerContainer",componentId:"sc-ok6n2c-0"})(["height:18px;line-height:18px;font-size:10px;> div{white-space:nowrap;left:0;bottom:0;position:absolute;height:18px;padding-left:20px;transition:width 0.5s;}.spinner--fill{background:$primary;color:$white;overflow:hidden;}.spinner--text{color:$black-40;}&.done{height:0 !important;line-height:0;font-size:0;transition:height 0.5s 1s;> div{height:0 !important;transition:height 0.5s 1s;}}"]);function y(e){let{meta:t}=e;if(!Number.isFinite(t.progress)&&!Number.isFinite(t.progressAlt))return null;const n=(t.progress||0)+(t.progressAlt||0),i=Math.round(1e3*n)/10,o="Loading... "+i+"%";return(0,g.jsxs)(v,{className:n>=1?"done":"",children:[(0,g.jsx)("div",{className:"spinner--text",children:o}),(0,g.jsx)("div",{className:"spinner--fill",style:{width:i+"%"},children:o})]})}const b=o.Ay.div.withConfig({displayName:"info-panel__InfoPanelContent",componentId:"sc-1qy2onu-0"})(["hr{margin:12px -24px;}a{text-decoration:none;display:inline;color:var(--ifm-color-primary);}p{margin-bottom:16px;}.legend{display:inline-block;width:12px;height:12px;}.stat{text-transform:uppercase;font-size:0.833em;b{display:block;font-size:3em;font-weight:bold;line-height:1.833;}}hr{border:none;background:var(--ifm-color-gray-400);height:1px;}.layout{display:table;width:100%;> *{display:table-cell !important;}.col-1-3{width:33.33%;}.col-1-2{width:50%;}.text-right{text-align:right;}.text-center{text-align:center;}}"]);function w(e){let{title:t,children:n,sourceLink:o}=e;const[a,p]=(0,i.useState)(!1);return(0,g.jsxs)(s,{children:[(0,g.jsxs)(c,{onClick:()=>p(!a),children:[(0,g.jsx)("div",{children:t}),(0,g.jsx)(r,{$expanded:a,children:a?"\u2715":"i"})]}),(0,g.jsx)(l,{$expanded:a,children:n}),(0,g.jsx)(d,{$expanded:a,href:o,target:"_new",children:"View Code \u2197"})]})}function _(e){let{title:t,sourceLink:n,params:i,meta:o,children:a,updateParam:s}=e;return(0,g.jsxs)(w,{title:t,sourceLink:n,children:[(0,g.jsxs)(b,{children:[a,Object.keys(i).length>0&&(0,g.jsx)("hr",{}),Object.keys(i).sort().map(((e,t)=>(0,g.jsx)(f,Object.assign({name:e},i[e],{onChange:s}),t+"-"+e)))]}),(0,g.jsx)(y,{meta:o})]})}var j=n(4684);const P={};function k(e,t){let n=0;P[e]&&P[e].terminate();const i=new Worker(e);P[e]=i;let o=[];i.onmessage=e=>{const{action:n,data:a,meta:s}=e.data;"end"===n?i.terminate():"add"===n&&a&&a.length&&(o=o.concat(a),t(o,s))},this.onProgress=e=>{const{responseText:t}=e.target,o=t.lastIndexOf("\n")+1;i.postMessage({event:"progress",text:t.slice(n,o)}),n=o},this.onLoad=e=>{const{responseText:t}=e;i.postMessage({event:"load",text:t.slice(n)})}}function S(e,t,n){if(t){const i=(0,j.Em)(e),o=new k(t,((e,t)=>{n(e,t)}));i.on("progress",o.onProgress).on("load",o.onLoad).get()}else/\.(json|geojson)$/.test(e)?(0,j.Pq)(e,((e,t)=>{e||n(t,{})})):(0,j.Qq)(e,((e,t)=>{e||n(t,{})}))}function C(e,t){return t.match(/^\w+:\/\//)?t:e.replace(/\/$/,"")+"/"+t.replace(/^\//,"")}var A=n(6420);const I=e=>{if("function"===e.type){let t=String(e.value);if(Array.isArray(e.value)&&(t="["+t+"]"),"function"==typeof e.value)return t=t.replace(/^function (\w+)?\((\w*?)\)/,"$2 =>"),t=t.replace(/^function (\w+)?(\(.*?\))/,"$2 =>"),t=t.replace(/\{\s*return\s*(.*?);?\s*\}$/,"$1"),Object.assign({},e,{displayValue:t});if(!e.altType)return Object.assign({},e,{displayValue:t});e.type=e.altType}if("json"===e.type)return Object.assign({},e,{displayValue:JSON.stringify(e.value)});if("color"===e.type){const n=function(e){if(!e)return[255,255,255,0];if(Array.isArray(e))return e.slice(0,4);const t=(0,A.Qh)(e);return[t.r,t.g,t.b,255]}(e.value);return Object.assign({},e,{value:n,displayValue:(t=n,t.slice(0,3).reduce(((e,t)=>e+(t<16?"0":"")+t.toString(16)),"#"))})}var t;return Object.assign({},e,{displayValue:String(e.value)})};var T=n(1175),R=n(6025);const L=o.Ay.div.withConfig({displayName:"make-example__DemoContainer",componentId:"sc-is6oih-0"})([".tooltip,.deck-tooltip{position:absolute;padding:4px 12px;background:rgba(0,0,0,0.8);color:var(--ifm-color-white);max-width:300px;font-size:12px;z-index:9;pointer-events:none;white-space:nowrap;}"]),M=o.Ay.div.withConfig({displayName:"make-example__MapTip",componentId:"sc-is6oih-1"})(["position:absolute;right:12px;bottom:20px;color:var(--ifm-color-white);mix-blend-mode:difference;font-size:14px;@media screen and (max-width:480px){display:none;}"]);function E(e,t){let{isInteractive:n=!0,style:o}=void 0===t?{}:t;const{parameters:a={},mapStyle:s}=e,r=Object.keys(a).reduce(((e,t)=>(e[t]=I(a[t]),e)),{}),c=Array.isArray(e.data)?e.data.map((e=>null)):null;return function(){const[t,a]=(0,i.useState)(c),[l,d]=(0,i.useState)(r),[p,u]=(0,i.useState)({}),m=(0,R.Ay)("/"),h=(0,i.useCallback)((e=>{const t=Object.keys(e).reduce(((t,n)=>(t[n]=I(e[n]),t)),{});d((e=>Object.assign({},e,t)))}),[]),x=(0,i.useCallback)((e=>{u((t=>Object.assign({},t,e)))}),[]);(0,i.useEffect)((()=>{let t=e.data;if(!t)return;const n=Array.isArray(t);n||(t=[t]);for(let e=0;e<t.length;e++){const{url:i,worker:o}=t[e];S(C(m,i),o&&C(m,o),((t,i)=>{a(n?n=>{const i=n.slice();return i[e]=t,i}:t),i&&u((e=>Object.assign({},e,i)))}))}}),[]);return(0,g.jsxs)(L,{style:o,children:[(0,g.jsx)(e,{data:t,mapStyle:s||T.Vi.BLANK,params:l,useParam:h,onStateChange:x}),n&&(0,g.jsx)(_,{title:e.title,params:l,meta:p,updateParam:(e,t)=>{const n=l[e];n&&d(Object.assign({},l,{[e]:I(Object.assign({},n,{value:t}))}))},sourceLink:e.code,children:e.renderInfo(p)}),n&&s&&(0,g.jsx)(M,{children:"Hold down shift to rotate"})]})}}var O=n(609);const z=o.Ay.div.withConfig({displayName:"styled__ExampleHeader",componentId:"sc-1dgi8sb-0"})(["font:bold 20px/28px var(--ifm-font-family-base);color:var(--ifm-color-content-secondary);margin:0 20px;border-bottom:1px solid 20px;display:inline-block;padding:20px 20px 4px 0;"]),N=o.Ay.main.withConfig({displayName:"styled__MainExamples",componentId:"sc-1dgi8sb-1"})(["padding:16px 0;"]),D=o.Ay.main.withConfig({displayName:"styled__ExamplesGroup",componentId:"sc-1dgi8sb-2"})(["display:flex;flex-wrap:wrap;padding:16px;"]),V=o.Ay.a.withConfig({displayName:"styled__ExampleCard",componentId:"sc-1dgi8sb-3"})(["cursor:pointer;text-decoration:none;width:50%;max-width:240px;line-height:0;outline:none;padding:4px;position:relative;img{transition-property:filter;transition-duration:var(--ifm-transition-slow);transition-timing-function:var(--ifm-transition-timing-default);}&:hover{box-shadow:var(--ifm-global-shadow-md);}&:hover img{filter:contrast(0.2);}","{width:33%;min-width:200px;}@media screen and (max-width:632px){width:50%;}"],a),B=o.Ay.div.withConfig({displayName:"styled__ExampleTitle",componentId:"sc-1dgi8sb-4"})(["position:absolute;display:flex;justify-content:center;flex-direction:column;color:var(--ifm-color-white);font-size:1.5em;text-align:center;line-height:initial;width:90%;height:90%;top:5%;left:5%;border:solid 1px var(--ifm-color-white);opacity:0;transition-property:opacity;transition-duration:var(--ifm-transition-slow);transition-timing-function:var(--ifm-transition-timing-default);&:hover{opacity:1;}"]);function F(e,t){let{label:n,items:i}=e;return[(0,g.jsx)(z,{children:n},n+"-header"),(0,g.jsx)(D,{children:i.map((e=>function(e,t){const n=(0,R.Ay)(t(e)),{label:i,href:o}=e;return(0,g.jsxs)(V,{href:o,children:[(0,g.jsx)("img",{width:"100%",src:n,alt:i}),(0,g.jsx)(B,{children:(0,g.jsx)("span",{children:i})})]},i)}(e,t)))},n)]}function q(e){let{getThumbnail:t}=e;const n=(0,O.t)();return console.log(n),(0,g.jsx)(N,{children:n.items.map((e=>"category"===e.type?F(e,t):null))})}var H=n(4586);const Z=o.Ay.section.withConfig({displayName:"styled__Banner",componentId:"sc-exnbu5-0"})(["position:relative;height:30rem;background:var(--ifm-color-gray-400);color:var(--ifm-color-gray-900);z-index:0;","{height:80vh;}"],a),G=o.Ay.div.withConfig({displayName:"styled__Container",componentId:"sc-exnbu5-1"})(["position:relative;padding:2rem;max-width:80rem;width:100%;height:100%;margin:0;"]),$=(0,o.Ay)(G).withConfig({displayName:"styled__BannerContainer",componentId:"sc-exnbu5-2"})(["position:absolute;bottom:0;height:auto;padding-left:4rem;z-index:0;pointer-events:none;"]),K=o.Ay.div.withConfig({displayName:"styled__HeroExampleContainer",componentId:"sc-exnbu5-3"})(["position:absolute;top:0;left:0;right:0;bottom:0;z-index:-1;"]),U=(o.Ay.section.withConfig({displayName:"styled__Section",componentId:"sc-exnbu5-4"})(["&:nth-child(2n + 1){background:var(--ifm-color-gray-300);}"]),o.Ay.h1.withConfig({displayName:"styled__ProjectName",componentId:"sc-exnbu5-5"})(["font-size:5em;line-height:1;text-transform:uppercase;letter-spacing:4px;font-weight:700;margin:0;margin-bottom:16px;"])),W=o.Ay.a.withConfig({displayName:"styled__GetStartedLink",componentId:"sc-exnbu5-6"})(["pointer-events:all;font-size:12px;line-height:44px;letter-spacing:2px;font-weight:bold;margin:24px 0;padding:0 4rem;pointer-events:all;display:inline-block;text-decoration:none;transition:background-color 250ms ease-in,color 250ms ease-in;border:solid 2px var(--ifm-color-primary);color:var(--ifm-color-gray-900);border-image:linear-gradient( to right,var(--ifm-color-gray-700) 0%,var(--ifm-color-gray-400) 100% );border-image-slice:2;&:visited{color:var(--ifm-color-gray-900);}&:active{color:var(--ifm-color-white);}&:hover{color:var(--ifm-color-white);background-color:var(--ifm-color-primary);}"]);function X(e){let{HeroExample:t,children:n}=e;const{siteConfig:i}=(0,H.A)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(Z,{children:[(0,g.jsx)(K,{children:t&&(0,g.jsx)(t,{})}),(0,g.jsxs)($,{children:[(0,g.jsx)(U,{children:i.title}),(0,g.jsx)("p",{children:i.tagline}),(0,g.jsx)(W,{href:"./docs",children:"GET STARTED"})]})]}),n]})}},1175:(e,t,n)=>{n.d(t,{Vi:()=>i,lP:()=>o});const i={LIGHT:"https://deck.gl/mapstyle/deck-light.json",LIGHT_LABEL:"https://basemaps.cartocdn.com/gl/positron-gl-style/style.json",DARK:"https://deck.gl/mapstyle/deck-dark.json",BLANK:{version:8,sources:{},layers:[]}},o="https://github.com/visgl/deck.gl-community/tree/master"}}]);