"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[6739],{29769:(e,t,i)=>{function n(e,t){if(!e)return null;const i="startIndices"in e?e.startIndices[t]:t,n=e.featureIds.value[i];return-1!==i?function(e,t,i){const n={properties:{...e.properties[t]}};for(const s in e.numericProps)n.properties[s]=e.numericProps[s].value[i];return n}(e,n,i):null}function s(e,t){const i={points:null,lines:null,polygons:null};for(const n in i){const s=e[n].globalFeatureIds.value;i[n]=new Uint8ClampedArray(4*s.length);const o=[];for(let e=0;e<s.length;e++)t(s[e],o),i[n][4*e+0]=o[0],i[n][4*e+1]=o[1],i[n][4*e+2]=o[2],i[n][4*e+3]=255}return i}i.d(t,{G:()=>s,u:()=>n})},46739:(e,t,i)=>{i.d(t,{A:()=>d});var n=i(59452),s=i(6053),o=i(29769),r=i(94849),a=i(54715),l=i(71940);const p=["points","linestrings","polygons"],u={...(0,r.CX)(r.hv.circle),...(0,r.CX)(r.hv.icon),...(0,r.CX)(r.hv.text),...(0,r.CX)(r.jL),...(0,r.CX)(r.d$),stroked:!0,filled:!0,extruded:!1,wireframe:!1,_full3d:!1,iconAtlas:{type:"object",value:null},iconMapping:{type:"object",value:{}},getIcon:{type:"accessor",value:e=>e.properties.icon},getText:{type:"accessor",value:e=>e.properties.text},pointType:"circle",getRadius:{deprecatedFor:"getPointRadius"}};class g extends n.A{initializeState(){this.state={layerProps:{},features:{},featuresDiff:{}}}updateState({props:e,changeFlags:t}){if(!t.dataChanged)return;const{data:i}=this.props,n=i&&"points"in i&&"polygons"in i&&"lines"in i;this.setState({binary:n}),n?this._updateStateBinary({props:e,changeFlags:t}):this._updateStateJSON({props:e,changeFlags:t})}_updateStateBinary({props:e,changeFlags:t}){const i=(0,l.p)(e.data,this.encodePickingColor);this.setState({layerProps:i})}_updateStateJSON({props:e,changeFlags:t}){const i=(0,a.HT)(e.data),n=this.getSubLayerRow.bind(this);let o={};const r={};if(Array.isArray(t.dataChanged)){const e=this.state.features;for(const t in e)o[t]=e[t].slice(),r[t]=[];for(const l of t.dataChanged){const t=(0,a.mS)(i,n,l);for(const i in e)r[i].push((0,s.J)({data:o[i],getIndex:e=>e.__source.index,dataRange:l,replace:t[i]}))}}else o=(0,a.mS)(i,n);const p=(0,l.t)(o,r);this.setState({features:o,featuresDiff:r,layerProps:p})}getPickingInfo(e){const t=super.getPickingInfo(e),{index:i,sourceLayer:n}=t;return t.featureType=p.find(e=>n.id.startsWith(`${this.id}-${e}-`)),i>=0&&n.id.startsWith(`${this.id}-points-text`)&&this.state.binary&&(t.index=this.props.data.points.globalFeatureIds.value[i]),t}_updateAutoHighlight(e){const t=`${this.id}-points-`,i="points"===e.featureType;for(const n of this.getSubLayers())n.id.startsWith(t)===i&&n.updateAutoHighlight(e)}_renderPolygonLayer(){const{extruded:e,wireframe:t}=this.props,{layerProps:i}=this.state,n="polygons-fill",s=this.shouldRenderSubLayer(n,i.polygons?.data)&&this.getSubLayerClass(n,r.d$.type);if(s){const o=(0,r.q)(this,r.d$.props),a=e&&t;return a||delete o.getLineColor,o.updateTriggers.lineColors=a,new s(o,this.getSubLayerProps({id:n,updateTriggers:o.updateTriggers}),i.polygons)}return null}_renderLineLayers(){const{extruded:e,stroked:t}=this.props,{layerProps:i}=this.state,n="polygons-stroke",s="linestrings",o=!e&&t&&this.shouldRenderSubLayer(n,i.polygonsOutline?.data)&&this.getSubLayerClass(n,r.jL.type),a=this.shouldRenderSubLayer(s,i.lines?.data)&&this.getSubLayerClass(s,r.jL.type);if(o||a){const e=(0,r.q)(this,r.jL.props);return[o&&new o(e,this.getSubLayerProps({id:n,updateTriggers:e.updateTriggers}),i.polygonsOutline),a&&new a(e,this.getSubLayerProps({id:s,updateTriggers:e.updateTriggers}),i.lines)]}return null}_renderPointLayers(){const{pointType:e}=this.props,{layerProps:t,binary:i}=this.state;let{highlightedObjectIndex:n}=this.props;!i&&Number.isFinite(n)&&(n=t.points.data.findIndex(e=>e.__source.index===n));const s=new Set(e.split("+")),o=[];for(const a of s){const e=`points-${a}`,s=r.hv[a],l=s&&this.shouldRenderSubLayer(e,t.points?.data)&&this.getSubLayerClass(e,s.type);if(l){const p=(0,r.q)(this,s.props);let u=t.points;if("text"===a&&i){const{instancePickingColors:e,...t}=u.data.attributes;u={...u,data:{...u.data,attributes:t}}}o.push(new l(p,this.getSubLayerProps({id:e,updateTriggers:p.updateTriggers,highlightedObjectIndex:n}),u))}}return o}renderLayers(){const{extruded:e}=this.props,t=this._renderPolygonLayer();return[!e&&t,this._renderLineLayers(),this._renderPointLayers(),e&&t]}getSubLayerAccessor(e){const{binary:t}=this.state;return t&&"function"==typeof e?(t,i)=>{const{data:n,index:s}=i,r=(0,o.u)(n,s);return e(r,i)}:super.getSubLayerAccessor(e)}}g.layerName="GeoJsonLayer",g.defaultProps=u;const d=g},54715:(e,t,i)=>{i.d(t,{HT:()=>s,mS:()=>o});var n=i(3459);function s(e){if(Array.isArray(e))return e;switch(n.A.assert(e.type,"GeoJSON does not have type"),e.type){case"Feature":return[e];case"FeatureCollection":return n.A.assert(Array.isArray(e.features),"GeoJSON does not have features array"),e.features;default:return[{geometry:e}]}}function o(e,t,i={}){const s={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},{startRow:o=0,endRow:a=e.length}=i;for(let l=o;l<a;l++){const i=e[l],{geometry:o}=i;if(o)if("GeometryCollection"===o.type){n.A.assert(Array.isArray(o.geometries),"GeoJSON does not have geometries array");const{geometries:e}=o;for(let n=0;n<e.length;n++){r(e[n],s,t,i,l)}}else r(o,s,t,i,l)}return s}function r(e,t,i,s,o){const{type:r,coordinates:l}=e,{pointFeatures:p,lineFeatures:u,polygonFeatures:g,polygonOutlineFeatures:d}=t;if(function(e,t){let i=a[e];n.A.assert(i,`Unknown GeoJSON type ${e}`);for(;t&&--i>0;)t=t[0];return t&&Number.isFinite(t[0])}(r,l))switch(r){case"Point":p.push(i({geometry:e},s,o));break;case"MultiPoint":l.forEach(e=>{p.push(i({geometry:{type:"Point",coordinates:e}},s,o))});break;case"LineString":u.push(i({geometry:e},s,o));break;case"MultiLineString":l.forEach(e=>{u.push(i({geometry:{type:"LineString",coordinates:e}},s,o))});break;case"Polygon":g.push(i({geometry:e},s,o)),l.forEach(e=>{d.push(i({geometry:{type:"LineString",coordinates:e}},s,o))});break;case"MultiPolygon":l.forEach(e=>{g.push(i({geometry:{type:"Polygon",coordinates:e}},s,o)),e.forEach(e=>{d.push(i({geometry:{type:"LineString",coordinates:e}},s,o))})})}else n.A.warn(`${r} coordinates are malformed`)()}const a={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4}},71940:(e,t,i)=>{i.d(t,{p:()=>r,t:()=>o});var n=i(29769);function s(e){return e.geometry.coordinates}function o(e,t){const i={points:{},lines:{},polygons:{},polygonsOutline:{}},{pointFeatures:n,lineFeatures:o,polygonFeatures:r,polygonOutlineFeatures:a}=e;return i.points.data=n,i.points._dataDiff=t.pointFeatures&&(()=>t.pointFeatures),i.points.getPosition=s,i.lines.data=o,i.lines._dataDiff=t.lineFeatures&&(()=>t.lineFeatures),i.lines.getPath=s,i.polygons.data=r,i.polygons._dataDiff=t.polygonFeatures&&(()=>t.polygonFeatures),i.polygons.getPolygon=s,i.polygonsOutline.data=a,i.polygonsOutline._dataDiff=t.polygonOutlineFeatures&&(()=>t.polygonOutlineFeatures),i.polygonsOutline.getPath=s,i}function r(e,t){const i={points:{},lines:{},polygons:{},polygonsOutline:{}},{points:s,lines:o,polygons:r}=e,a=(0,n.G)(e,t);i.points.data={length:s.positions.value.length/s.positions.size,attributes:{...s.attributes,getPosition:s.positions,instancePickingColors:{size:4,value:a.points}},properties:s.properties,numericProps:s.numericProps,featureIds:s.featureIds},i.lines.data={length:o.pathIndices.value.length-1,startIndices:o.pathIndices.value,attributes:{...o.attributes,getPath:o.positions,instancePickingColors:{size:4,value:a.lines}},properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},i.lines._pathType="open";const l=r.positions.value.length/r.positions.size,p=Array(l).fill(1);for(const n of r.primitivePolygonIndices.value)p[n-1]=0;return i.polygons.data={length:r.polygonIndices.value.length-1,startIndices:r.polygonIndices.value,attributes:{...r.attributes,getPolygon:r.positions,instanceVertexValid:{size:1,value:new Uint16Array(p)},pickingColors:{size:4,value:a.polygons}},properties:r.properties,numericProps:r.numericProps,featureIds:r.featureIds},i.polygons._normalize=!1,r.triangles&&(i.polygons.data.attributes.indices=r.triangles.value),i.polygonsOutline.data={length:r.primitivePolygonIndices.value.length-1,startIndices:r.primitivePolygonIndices.value,attributes:{...r.attributes,getPath:r.positions,instancePickingColors:{size:4,value:a.polygons}},properties:r.properties,numericProps:r.numericProps,featureIds:r.featureIds},i.polygonsOutline._pathType="open",i}},94849:(e,t,i)=>{i.d(t,{CX:()=>g,d$:()=>u,hv:()=>l,jL:()=>p,q:()=>d});var n=i(34467),s=i(98543),o=i(42067),r=i(16779),a=i(59827);const l={circle:{type:s.A,props:{filled:"filled",stroked:"stroked",lineWidthMaxPixels:"lineWidthMaxPixels",lineWidthMinPixels:"lineWidthMinPixels",lineWidthScale:"lineWidthScale",lineWidthUnits:"lineWidthUnits",pointRadiusMaxPixels:"radiusMaxPixels",pointRadiusMinPixels:"radiusMinPixels",pointRadiusScale:"radiusScale",pointRadiusUnits:"radiusUnits",pointAntialiasing:"antialiasing",pointBillboard:"billboard",getFillColor:"getFillColor",getLineColor:"getLineColor",getLineWidth:"getLineWidth",getPointRadius:"getRadius"}},icon:{type:n.A,props:{iconAtlas:"iconAtlas",iconMapping:"iconMapping",iconSizeMaxPixels:"sizeMaxPixels",iconSizeMinPixels:"sizeMinPixels",iconSizeScale:"sizeScale",iconSizeUnits:"sizeUnits",iconAlphaCutoff:"alphaCutoff",iconBillboard:"billboard",getIcon:"getIcon",getIconAngle:"getAngle",getIconColor:"getColor",getIconPixelOffset:"getPixelOffset",getIconSize:"getSize"}},text:{type:o.A,props:{textSizeMaxPixels:"sizeMaxPixels",textSizeMinPixels:"sizeMinPixels",textSizeScale:"sizeScale",textSizeUnits:"sizeUnits",textBackground:"background",textBackgroundPadding:"backgroundPadding",textFontFamily:"fontFamily",textFontWeight:"fontWeight",textLineHeight:"lineHeight",textMaxWidth:"maxWidth",textOutlineColor:"outlineColor",textOutlineWidth:"outlineWidth",textWordBreak:"wordBreak",textCharacterSet:"characterSet",textBillboard:"billboard",textFontSettings:"fontSettings",getText:"getText",getTextAngle:"getAngle",getTextColor:"getColor",getTextPixelOffset:"getPixelOffset",getTextSize:"getSize",getTextAnchor:"getTextAnchor",getTextAlignmentBaseline:"getAlignmentBaseline",getTextBackgroundColor:"getBackgroundColor",getTextBorderColor:"getBorderColor",getTextBorderWidth:"getBorderWidth"}}},p={type:r.A,props:{lineWidthUnits:"widthUnits",lineWidthScale:"widthScale",lineWidthMinPixels:"widthMinPixels",lineWidthMaxPixels:"widthMaxPixels",lineJointRounded:"jointRounded",lineCapRounded:"capRounded",lineMiterLimit:"miterLimit",lineBillboard:"billboard",getLineColor:"getColor",getLineWidth:"getWidth"}},u={type:a.A,props:{extruded:"extruded",filled:"filled",wireframe:"wireframe",elevationScale:"elevationScale",material:"material",_full3d:"_full3d",getElevation:"getElevation",getFillColor:"getFillColor",getLineColor:"getLineColor"}};function g({type:e,props:t}){const i={};for(const n in t)i[n]=e.defaultProps[t[n]];return i}function d(e,t){const{transitions:i,updateTriggers:n}=e.props,s={updateTriggers:{},transitions:i&&{getPosition:i.geometry}};for(const o in t){const r=t[o];let a=e.props[o];o.startsWith("get")&&(a=e.getSubLayerAccessor(a),s.updateTriggers[r]=n[o],i&&(s.transitions[r]=i[o])),s[r]=a}return s}}}]);